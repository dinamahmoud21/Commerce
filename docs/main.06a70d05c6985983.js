"use strict";var V8=Object.defineProperty,B8=(ut,De,R)=>De in ut?V8(ut,De,{enumerable:!0,configurable:!0,writable:!0,value:R}):ut[De]=R,ot=(ut,De,R)=>(B8(ut,"symbol"!=typeof De?De+"":De,R),R),on=(ut,De,R)=>{if(De.has(ut))throw TypeError("Cannot add the same private member more than once");De instanceof WeakSet?De.add(ut):De.set(ut,R)};(self.webpackChunkStoreSite=self.webpackChunkStoreSite||[]).push([[179],{2011:(ut,De,R)=>{R.d(De,{Dh:()=>ye,GT:()=>fe,cc:()=>Oe,hO:()=>Ge,on:()=>j,pX:()=>le,xv:()=>_e});var l=R(4650),ee=R(1274),L=R(710);ut=R.hmd(ut);const oe=["ngOnDestroy"],le=(me,gt,Tt,Ve={})=>new Proxy(me,{get:(Ae,ve)=>Tt.runOutsideAngular(()=>{var je;if(me[ve])return!(null===(je=Ve?.spy)||void 0===je)&&je.get&&Ve.spy.get(ve,me[ve]),me[ve];if(oe.indexOf(ve)>-1)return()=>{};const ze=gt.toPromise().then(pe=>{const Z=pe&&pe[ve];return"function"==typeof Z?Z.bind(pe):Z&&Z.then?Z.then($e=>Tt.run(()=>$e)):Tt.run(()=>Z)});return new Proxy(()=>{},{get:(pe,Z)=>ze[Z],apply:(pe,Z,$e)=>ze.then(Ke=>{var Ot;const it=Ke&&Ke(...$e);return!(null===(Ot=Ve?.spy)||void 0===Ot)&&Ot.apply&&Ve.spy.apply(ve,$e,it),it})})})}),fe=(me,gt)=>{gt.forEach(Tt=>{Object.getOwnPropertyNames(Tt.prototype||Tt).forEach(Ve=>{Object.defineProperty(me.prototype,Ve,Object.getOwnPropertyDescriptor(Tt.prototype||Tt,Ve))})})};class de{constructor(gt){return gt}}const ye=new l.OlP("angularfire2.app.options"),_e=new l.OlP("angularfire2.app.name");function j(me,gt,Tt){const Ae="object"==typeof Tt&&Tt||{};Ae.name=Ae.name||"string"==typeof Tt&&Tt||"[DEFAULT]";const je=ee.Z.apps.filter(ze=>ze&&ze.name===Ae.name)[0]||gt.runOutsideAngular(()=>ee.Z.initializeApp(me,Ae));try{JSON.stringify(me)!==JSON.stringify(je.options)&&W("error",`${je.name} Firebase App already initialized with different options${ut.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new de(je)}const W=(me,...gt)=>{(0,l.X6Q)()&&typeof console<"u"&&console[me](...gt)},Y={provide:de,useFactory:j,deps:[ye,l.R0b,[new l.FiY,_e]]};let Ge=(()=>{class me{constructor(Tt){ee.Z.registerVersion("angularfire",L.q4.full,"core"),ee.Z.registerVersion("angularfire",L.q4.full,"app-compat"),ee.Z.registerVersion("angular",l.q4F.full,Tt.toString())}static initializeApp(Tt,Ve){return{ngModule:me,providers:[{provide:ye,useValue:Tt},{provide:_e,useValue:Ve}]}}}return me.\u0275fac=function(Tt){return new(Tt||me)(l.LFG(l.Lbi))},me.\u0275mod=l.oAB({type:me}),me.\u0275inj=l.cJS({providers:[Y]}),me})();function Oe(me,gt,Tt,Ve,Ae){const[,ve,je]=globalThis.\u0275AngularfireInstanceCache.find(ze=>ze[0]===me)||[];if(ve)return function xe(me,gt){try{return me.toString()===gt.toString()}catch{return me===gt}}(Ae,je)||(Ie("error",`${gt} was already initialized on the ${Tt} Firebase App with different settings.${at?" You may need to reload as Firebase is not HMR aware.":""}`),Ie("warn",{is:Ae,was:je})),ve;{const ze=Ve();return globalThis.\u0275AngularfireInstanceCache.push([me,ze,Ae]),ze}}const at=!!ut.hot,Ie=(me,...gt)=>{(0,l.X6Q)()&&typeof console<"u"&&console[me](...gt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},710:(ut,De,R)=>{R.d(De,{q4:()=>pi,iC:()=>oc,HU:()=>ql,vb:()=>Id,JM:()=>Ag});var l=R(4650),ee=R(8140),L=R(5861),oe=R(9681),le=R(2090),fe=R(4859),de=R(1877);let _e,j;const Ge=new WeakMap,Oe=new WeakMap,xe=new WeakMap,at=new WeakMap,Ie=new WeakMap;let Tt={get(E,T,M){if(E instanceof IDBTransaction){if("done"===T)return Oe.get(E);if("objectStoreNames"===T)return E.objectStoreNames||xe.get(E);if("store"===T)return M.objectStoreNames[1]?void 0:M.objectStore(M.objectStoreNames[0])}return je(E[T])},set:(E,T,M)=>(E[T]=M,!0),has:(E,T)=>E instanceof IDBTransaction&&("done"===T||"store"===T)||T in E};function ve(E){return"function"==typeof E?function Ae(E){return E!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Y(){return j||(j=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(E)?function(...T){return E.apply(ze(this),T),je(Ge.get(this))}:function(...T){return je(E.apply(ze(this),T))}:function(T,...M){const V=E.call(ze(this),T,...M);return xe.set(V,T.sort?T.sort():[T]),je(V)}}(E):(E instanceof IDBTransaction&&function gt(E){if(Oe.has(E))return;const T=new Promise((M,V)=>{const K=()=>{E.removeEventListener("complete",X),E.removeEventListener("error",ge),E.removeEventListener("abort",ge)},X=()=>{M(),K()},ge=()=>{V(E.error||new DOMException("AbortError","AbortError")),K()};E.addEventListener("complete",X),E.addEventListener("error",ge),E.addEventListener("abort",ge)});Oe.set(E,T)}(E),((E,T)=>T.some(M=>E instanceof M))(E,function W(){return _e||(_e=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(E,Tt):E)}function je(E){if(E instanceof IDBRequest)return function me(E){const T=new Promise((M,V)=>{const K=()=>{E.removeEventListener("success",X),E.removeEventListener("error",ge)},X=()=>{M(je(E.result)),K()},ge=()=>{V(E.error),K()};E.addEventListener("success",X),E.addEventListener("error",ge)});return T.then(M=>{M instanceof IDBCursor&&Ge.set(M,E)}).catch(()=>{}),Ie.set(T,E),T}(E);if(at.has(E))return at.get(E);const T=ve(E);return T!==E&&(at.set(E,T),Ie.set(T,E)),T}const ze=E=>Ie.get(E),$e=["get","getKey","getAll","getAllKeys","count"],Ke=["put","add","delete","clear"],Ot=new Map;function it(E,T){if(!(E instanceof IDBDatabase)||T in E||"string"!=typeof T)return;if(Ot.get(T))return Ot.get(T);const M=T.replace(/FromIndex$/,""),V=T!==M,K=Ke.includes(M);if(!(M in(V?IDBIndex:IDBObjectStore).prototype)||!K&&!$e.includes(M))return;const X=function(){var ge=(0,L.Z)(function*(Qe,...qe){const _t=this.transaction(Qe,K?"readwrite":"readonly");let Ct=_t.store;return V&&(Ct=Ct.index(qe.shift())),(yield Promise.all([Ct[M](...qe),K&&_t.done]))[0]});return function(qe){return ge.apply(this,arguments)}}();return Ot.set(T,X),X}!function Ve(E){Tt=E(Tt)}(E=>({...E,get:(T,M,V)=>it(T,M)||E.get(T,M,V),has:(T,M)=>!!it(T,M)||E.has(T,M)}));const xn="@firebase/installations",Di="w:0.6.4",ne="FIS_v2",lt=new le.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Nt(E){return E instanceof le.ZR&&E.code.includes("request-failed")}function pn({projectId:E}){return`https://firebaseinstallations.googleapis.com/v1/projects/${E}/installations`}function St(E){return{token:E.token,requestStatus:2,expiresIn:sr(E.expiresIn),creationTime:Date.now()}}function tn(E,T){return qt.apply(this,arguments)}function qt(){return(qt=(0,L.Z)(function*(E,T){const V=(yield T.json()).error;return lt.create("request-failed",{requestName:E,serverCode:V.code,serverMessage:V.message,serverStatus:V.status})})).apply(this,arguments)}function In({apiKey:E}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E})}function Un(E,{refreshToken:T}){const M=In(E);return M.append("Authorization",function Ar(E){return`${ne} ${E}`}(T)),M}function Zn(E){return ui.apply(this,arguments)}function ui(){return(ui=(0,L.Z)(function*(E){const T=yield E();return T.status>=500&&T.status<600?E():T})).apply(this,arguments)}function sr(E){return Number(E.replace("s","000"))}function dt(E,T){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,L.Z)(function*({appConfig:E,heartbeatServiceProvider:T},{fid:M}){const V=pn(E),K=In(E),X=T.getImmediate({optional:!0});if(X){const _t=yield X.getHeartbeatsHeader();_t&&K.append("x-firebase-client",_t)}const Qe={method:"POST",headers:K,body:JSON.stringify({fid:M,authVersion:ne,appId:E.appId,sdkVersion:Di})},qe=yield Zn(()=>fetch(V,Qe));if(qe.ok){const _t=yield qe.json();return{fid:_t.fid||M,registrationStatus:2,refreshToken:_t.refreshToken,authToken:St(_t.authToken)}}throw yield tn("Create Installation",qe)})).apply(this,arguments)}function Hr(E){return new Promise(T=>{setTimeout(T,E)})}const yo=/^[cdef][\w-]{21}$/;function Cn(){try{const E=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(E),E[0]=112+E[0]%16;const M=function zn(E){return function or(E){return btoa(String.fromCharCode(...E)).replace(/\+/g,"-").replace(/\//g,"_")}(E).substr(0,22)}(E);return yo.test(M)?M:""}catch{return""}}function fn(E){return`${E.appName}!${E.appId}`}const ft=new Map;function vt(E,T){const M=fn(E);Ni(M,T),function Xn(E,T){const M=function is(){return!kt&&"BroadcastChannel"in self&&(kt=new BroadcastChannel("[Firebase] FID Change"),kt.onmessage=E=>{Ni(E.data.key,E.data.fid)}),kt}();M&&M.postMessage({key:E,fid:T}),function an(){0===ft.size&&kt&&(kt.close(),kt=null)}()}(M,T)}function Ni(E,T){const M=ft.get(E);if(M)for(const V of M)V(T)}let kt=null;const ei="firebase-installations-store";let ki=null;function Ce(){return ki||(ki=function pe(E,T,{blocked:M,upgrade:V,blocking:K,terminated:X}={}){const ge=indexedDB.open(E,T),Qe=je(ge);return V&&ge.addEventListener("upgradeneeded",qe=>{V(je(ge.result),qe.oldVersion,qe.newVersion,je(ge.transaction))}),M&&ge.addEventListener("blocked",()=>M()),Qe.then(qe=>{X&&qe.addEventListener("close",()=>X()),K&&qe.addEventListener("versionchange",()=>K())}).catch(()=>{}),Qe}("firebase-installations-database",1,{upgrade:(E,T)=>{0===T&&E.createObjectStore(ei)}})),ki}function $(E,T){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,L.Z)(function*(E,T){const M=fn(E),K=(yield Ce()).transaction(ei,"readwrite"),X=K.objectStore(ei),ge=yield X.get(M);return yield X.put(T,M),yield K.done,(!ge||ge.fid!==T.fid)&&vt(E,T.fid),T})).apply(this,arguments)}function We(E){return Je.apply(this,arguments)}function Je(){return(Je=(0,L.Z)(function*(E){const T=fn(E),V=(yield Ce()).transaction(ei,"readwrite");yield V.objectStore(ei).delete(T),yield V.done})).apply(this,arguments)}function It(E,T){return nn.apply(this,arguments)}function nn(){return(nn=(0,L.Z)(function*(E,T){const M=fn(E),K=(yield Ce()).transaction(ei,"readwrite"),X=K.objectStore(ei),ge=yield X.get(M),Qe=T(ge);return void 0===Qe?yield X.delete(M):yield X.put(Qe,M),yield K.done,Qe&&(!ge||ge.fid!==Qe.fid)&&vt(E,Qe.fid),Qe})).apply(this,arguments)}function H(E){return z.apply(this,arguments)}function z(){return(z=(0,L.Z)(function*(E){let T;const M=yield It(E.appConfig,V=>{const K=Q(V),X=he(E,K);return T=X.registrationPromise,X.installationEntry});return""===M.fid?{installationEntry:yield T}:{installationEntry:M,registrationPromise:T}})).apply(this,arguments)}function Q(E){return Ue(E||{fid:Cn(),registrationStatus:0})}function he(E,T){if(0===T.registrationStatus){if(!navigator.onLine)return{installationEntry:T,registrationPromise:Promise.reject(lt.create("app-offline"))};const M={fid:T.fid,registrationStatus:1,registrationTime:Date.now()},V=function se(E,T){return et.apply(this,arguments)}(E,M);return{installationEntry:M,registrationPromise:V}}return 1===T.registrationStatus?{installationEntry:T,registrationPromise:Ut(E)}:{installationEntry:T}}function et(){return(et=(0,L.Z)(function*(E,T){try{const M=yield dt(E,T);return $(E.appConfig,M)}catch(M){throw Nt(M)&&409===M.customData.serverCode?yield We(E.appConfig):yield $(E.appConfig,{fid:T.fid,registrationStatus:0}),M}})).apply(this,arguments)}function Ut(E){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,L.Z)(function*(E){let T=yield Tn(E.appConfig);for(;1===T.registrationStatus;)yield Hr(100),T=yield Tn(E.appConfig);if(0===T.registrationStatus){const{installationEntry:M,registrationPromise:V}=yield H(E);return V||M}return T})).apply(this,arguments)}function Tn(E){return It(E,T=>{if(!T)throw lt.create("installation-not-found");return Ue(T)})}function Ue(E){return function Et(E){return 1===E.registrationStatus&&E.registrationTime+1e4<Date.now()}(E)?{fid:E.fid,registrationStatus:0}:E}function Rt(E,T){return kn.apply(this,arguments)}function kn(){return(kn=(0,L.Z)(function*({appConfig:E,heartbeatServiceProvider:T},M){const V=yr(E,M),K=Un(E,M),X=T.getImmediate({optional:!0});if(X){const _t=yield X.getHeartbeatsHeader();_t&&K.append("x-firebase-client",_t)}const Qe={method:"POST",headers:K,body:JSON.stringify({installation:{sdkVersion:Di,appId:E.appId}})},qe=yield Zn(()=>fetch(V,Qe));if(qe.ok)return St(yield qe.json());throw yield tn("Generate Auth Token",qe)})).apply(this,arguments)}function yr(E,{fid:T}){return`${pn(E)}/${T}/authTokens:generate`}function Hn(E){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,L.Z)(function*(E,T=!1){let M;const V=yield It(E.appConfig,X=>{if(!wo(X))throw lt.create("not-registered");const ge=X.authToken;if(!T&&bu(ge))return X;if(1===ge.requestStatus)return M=Rn(E,T),X;{if(!navigator.onLine)throw lt.create("app-offline");const Qe=Ri(X);return M=jt(E,Qe),Qe}});return M?yield M:V.authToken})).apply(this,arguments)}function Rn(E,T){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,L.Z)(function*(E,T){let M=yield vo(E.appConfig);for(;1===M.authToken.requestStatus;)yield Hr(100),M=yield vo(E.appConfig);const V=M.authToken;return 0===V.requestStatus?Hn(E,T):V})).apply(this,arguments)}function vo(E){return It(E,T=>{if(!wo(T))throw lt.create("not-registered");return function qs(E){return 1===E.requestStatus&&E.requestTime+1e4<Date.now()}(T.authToken)?Object.assign(Object.assign({},T),{authToken:{requestStatus:0}}):T})}function jt(E,T){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,L.Z)(function*(E,T){try{const M=yield Rt(E,T),V=Object.assign(Object.assign({},T),{authToken:M});return yield $(E.appConfig,V),M}catch(M){if(!Nt(M)||401!==M.customData.serverCode&&404!==M.customData.serverCode){const V=Object.assign(Object.assign({},T),{authToken:{requestStatus:0}});yield $(E.appConfig,V)}else yield We(E.appConfig);throw M}})).apply(this,arguments)}function wo(E){return void 0!==E&&2===E.registrationStatus}function bu(E){return 2===E.requestStatus&&!function Co(E){const T=Date.now();return T<E.creationTime||E.creationTime+E.expiresIn<T+36e5}(E)}function Ri(E){const T={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},E),{authToken:T})}function xr(){return(xr=(0,L.Z)(function*(E){const T=E,{installationEntry:M,registrationPromise:V}=yield H(T);return V?V.catch(console.error):Hn(T).catch(console.error),M.fid})).apply(this,arguments)}function El(){return(El=(0,L.Z)(function*(E,T=!1){const M=E;return yield un(M),(yield Hn(M,T)).token})).apply(this,arguments)}function un(E){return As.apply(this,arguments)}function As(){return(As=(0,L.Z)(function*(E){const{registrationPromise:T}=yield H(E);T&&(yield T)})).apply(this,arguments)}function Fi(E){return lt.create("missing-app-config-values",{valueName:E})}const vr="installations",Tu=E=>{const T=E.getProvider("app").getImmediate(),M=function kh(E){if(!E||!E.options)throw Fi("App Configuration");if(!E.name)throw Fi("App Name");const T=["projectId","apiKey","appId"];for(const M of T)if(!E.options[M])throw Fi(M);return{appName:E.name,projectId:E.options.projectId,apiKey:E.options.apiKey,appId:E.options.appId}}(T);return{app:T,appConfig:M,heartbeatServiceProvider:(0,oe.qX)(T,"heartbeat"),_delete:()=>Promise.resolve()}},Zs=E=>{const T=E.getProvider("app").getImmediate(),M=(0,oe.qX)(T,vr).getImmediate();return{getId:()=>function Eo(E){return xr.apply(this,arguments)}(M),getToken:K=>function Cl(E){return El.apply(this,arguments)}(M,K)}};(function rs(){(0,oe.Xd)(new fe.wA(vr,Tu,"PUBLIC")),(0,oe.Xd)(new fe.wA("installations-internal",Zs,"PRIVATE"))})(),(0,oe.KN)(xn,"0.6.4"),(0,oe.KN)(xn,"0.6.4","esm2017");const Da="@firebase/remote-config",Fn=new le.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class jr{constructor(T,M,V,K){this.client=T,this.storage=M,this.storageCache=V,this.logger=K}isCachedDataFresh(T,M){if(!M)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const V=Date.now()-M,K=V<=T;return this.logger.debug(`Config fetch cache check. Cache age millis: ${V}. Cache max age millis (minimumFetchIntervalMillis setting): ${T}. Is cache hit: ${K}.`),K}fetch(T){var M=this;return(0,L.Z)(function*(){const[V,K]=yield Promise.all([M.storage.getLastSuccessfulFetchTimestampMillis(),M.storage.getLastSuccessfulFetchResponse()]);if(K&&M.isCachedDataFresh(T.cacheMaxAgeMillis,V))return K;T.eTag=K&&K.eTag;const X=yield M.client.fetch(T),ge=[M.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===X.status&&ge.push(M.storage.setLastSuccessfulFetchResponse(X)),yield Promise.all(ge),X})()}}function jh(E=navigator){return E.languages&&E.languages[0]||E.language}class bl{constructor(T,M,V,K,X,ge){this.firebaseInstallations=T,this.sdkVersion=M,this.namespace=V,this.projectId=K,this.apiKey=X,this.appId=ge}fetch(T){var M=this;return(0,L.Z)(function*(){const[V,K]=yield Promise.all([M.firebaseInstallations.getId(),M.firebaseInstallations.getToken()]),ge=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${M.projectId}/namespaces/${M.namespace}:fetch?key=${M.apiKey}`,Qe={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":T.eTag||"*"},qe={sdk_version:M.sdkVersion,app_instance_id:V,app_instance_id_token:K,app_id:M.appId,language_code:jh()},_t={method:"POST",headers:Qe,body:JSON.stringify(qe)},Ct=fetch(ge,_t),Vt=new Promise(($i,so)=>{T.signal.addEventListener(()=>{const ac=new Error("The operation was aborted.");ac.name="AbortError",so(ac)})});let Xi;try{yield Promise.race([Ct,Vt]),Xi=yield Ct}catch($i){let so="fetch-client-network";throw"AbortError"===$i?.name&&(so="fetch-timeout"),Fn.create(so,{originalErrorMessage:$i?.message})}let Dn=Xi.status;const Dt=Xi.headers.get("ETag")||void 0;let ps,Mo;if(200===Xi.status){let $i;try{$i=yield Xi.json()}catch(so){throw Fn.create("fetch-client-parse",{originalErrorMessage:so?.message})}ps=$i.entries,Mo=$i.state}if("INSTANCE_STATE_UNSPECIFIED"===Mo?Dn=500:"NO_CHANGE"===Mo?Dn=304:("NO_TEMPLATE"===Mo||"EMPTY_CONFIG"===Mo)&&(ps={}),304!==Dn&&200!==Dn)throw Fn.create("fetch-status",{httpStatus:Dn});return{status:Dn,eTag:Dt,config:ps}})()}}class og{constructor(T,M){this.client=T,this.storage=M}fetch(T){var M=this;return(0,L.Z)(function*(){const V=(yield M.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return M.attemptFetch(T,V)})()}attemptFetch(T,{throttleEndTimeMillis:M,backoffCount:V}){var K=this;return(0,L.Z)(function*(){yield function ed(E,T){return new Promise((M,V)=>{const K=Math.max(T-Date.now(),0),X=setTimeout(M,K);E.addEventListener(()=>{clearTimeout(X),V(Fn.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}(T.signal,M);try{const X=yield K.client.fetch(T);return yield K.storage.deleteThrottleMetadata(),X}catch(X){if(!function xu(E){if(!(E instanceof le.ZR&&E.customData))return!1;const T=Number(E.customData.httpStatus);return 429===T||500===T||503===T||504===T}(X))throw X;const ge={throttleEndTimeMillis:Date.now()+(0,le.$s)(V),backoffCount:V+1};return yield K.storage.setThrottleMetadata(ge),K.attemptFetch(T,ge)}})()}}class ag{constructor(T,M,V,K,X){this.app=T,this._client=M,this._storageCache=V,this._storage=K,this._logger=X,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function ji(E,T){const M=E.target.error||void 0;return Fn.create(T,{originalErrorMessage:M&&M?.message})}const lr="app_namespace_store";class nI{constructor(T,M,V,K=function Pu(){return new Promise((E,T)=>{try{const M=indexedDB.open("firebase_remote_config",1);M.onerror=V=>{T(ji(V,"storage-open"))},M.onsuccess=V=>{E(V.target.result)},M.onupgradeneeded=V=>{0===V.oldVersion&&V.target.result.createObjectStore(lr,{keyPath:"compositeKey"})}}catch(M){T(Fn.create("storage-open",{originalErrorMessage:M?.message}))}})}()){this.appId=T,this.appName=M,this.namespace=V,this.openDbPromise=K}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(T){return this.set("last_fetch_status",T)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(T){return this.set("last_successful_fetch_timestamp_millis",T)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(T){return this.set("last_successful_fetch_response",T)}getActiveConfig(){return this.get("active_config")}setActiveConfig(T){return this.set("active_config",T)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(T){return this.set("active_config_etag",T)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(T){return this.set("throttle_metadata",T)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(T){var M=this;return(0,L.Z)(function*(){const V=yield M.openDbPromise;return new Promise((K,X)=>{const Qe=V.transaction([lr],"readonly").objectStore(lr),qe=M.createCompositeKey(T);try{const _t=Qe.get(qe);_t.onerror=Ct=>{X(ji(Ct,"storage-get"))},_t.onsuccess=Ct=>{const Vt=Ct.target.result;K(Vt?Vt.value:void 0)}}catch(_t){X(Fn.create("storage-get",{originalErrorMessage:_t?.message}))}})})()}set(T,M){var V=this;return(0,L.Z)(function*(){const K=yield V.openDbPromise;return new Promise((X,ge)=>{const qe=K.transaction([lr],"readwrite").objectStore(lr),_t=V.createCompositeKey(T);try{const Ct=qe.put({compositeKey:_t,value:M});Ct.onerror=Vt=>{ge(ji(Vt,"storage-set"))},Ct.onsuccess=()=>{X()}}catch(Ct){ge(Fn.create("storage-set",{originalErrorMessage:Ct?.message}))}})})()}delete(T){var M=this;return(0,L.Z)(function*(){const V=yield M.openDbPromise;return new Promise((K,X)=>{const Qe=V.transaction([lr],"readwrite").objectStore(lr),qe=M.createCompositeKey(T);try{const _t=Qe.delete(qe);_t.onerror=Ct=>{X(ji(Ct,"storage-delete"))},_t.onsuccess=()=>{K()}}catch(_t){X(Fn.create("storage-delete",{originalErrorMessage:_t?.message}))}})})()}createCompositeKey(T){return[this.appId,this.appName,this.namespace,T].join()}}class ci{constructor(T){this.storage=T}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var T=this;return(0,L.Z)(function*(){const M=T.storage.getLastFetchStatus(),V=T.storage.getLastSuccessfulFetchTimestampMillis(),K=T.storage.getActiveConfig(),X=yield M;X&&(T.lastFetchStatus=X);const ge=yield V;ge&&(T.lastSuccessfulFetchTimestampMillis=ge);const Qe=yield K;Qe&&(T.activeConfig=Qe)})()}setLastFetchStatus(T){return this.lastFetchStatus=T,this.storage.setLastFetchStatus(T)}setLastSuccessfulFetchTimestampMillis(T){return this.lastSuccessfulFetchTimestampMillis=T,this.storage.setLastSuccessfulFetchTimestampMillis(T)}setActiveConfig(T){return this.activeConfig=T,this.storage.setActiveConfig(T)}}function wr(){return td.apply(this,arguments)}function td(){return(td=(0,L.Z)(function*(){if(!(0,le.hl)())return!1;try{return yield(0,le.eu)()}catch{return!1}})).apply(this,arguments)}let Aa,di;!function Ys(){(0,oe.Xd)(new fe.wA("remote-config",function E(T,{instanceIdentifier:M}){const V=T.getProvider("app").getImmediate(),K=T.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Fn.create("registration-window");if(!(0,le.hl)())throw Fn.create("indexed-db-unavailable");const{projectId:X,apiKey:ge,appId:Qe}=V.options;if(!X)throw Fn.create("registration-project-id");if(!ge)throw Fn.create("registration-api-key");if(!Qe)throw Fn.create("registration-app-id");const qe=new nI(Qe,V.name,M=M||"firebase"),_t=new ci(qe),Ct=new de.Yd(Da);Ct.logLevel=de.in.ERROR;const Vt=new bl(K,oe.Jn,M,X,ge,Qe),Xi=new og(Vt,qe),Dn=new jr(Xi,qe,_t,Ct),Dt=new ag(V,Dn,_t,qe,Ct);return function q_(E){const T=(0,le.m9)(E);T._initializePromise||(T._initializePromise=T._storageCache.loadFromStorage().then(()=>{T._isInitializationComplete=!0}))}(Dt),Dt},"PUBLIC").setMultipleInstances(!0)),(0,oe.KN)(Da,"0.4.4"),(0,oe.KN)(Da,"0.4.4","esm2017")}();const nd=new WeakMap,Mr=new WeakMap,To=new WeakMap,Yi=new WeakMap,Lt=new WeakMap;let Tl={get(E,T,M){if(E instanceof IDBTransaction){if("done"===T)return Mr.get(E);if("objectStoreNames"===T)return E.objectStoreNames||To.get(E);if("store"===T)return M.objectStoreNames[1]?void 0:M.objectStore(M.objectStoreNames[0])}return os(E[T])},set:(E,T,M)=>(E[T]=M,!0),has:(E,T)=>E instanceof IDBTransaction&&("done"===T||"store"===T)||T in E};function Zh(E){return"function"==typeof E?function qh(E){return E!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function $o(){return di||(di=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(E)?function(...T){return E.apply(Nu(this),T),os(nd.get(this))}:function(...T){return os(E.apply(Nu(this),T))}:function(T,...M){const V=E.call(Nu(this),T,...M);return To.set(V,T.sort?T.sort():[T]),os(V)}}(E):(E instanceof IDBTransaction&&function Gh(E){if(Mr.has(E))return;const T=new Promise((M,V)=>{const K=()=>{E.removeEventListener("complete",X),E.removeEventListener("error",ge),E.removeEventListener("abort",ge)},X=()=>{M(),K()},ge=()=>{V(E.error||new DOMException("AbortError","AbortError")),K()};E.addEventListener("complete",X),E.addEventListener("error",ge),E.addEventListener("abort",ge)});Mr.set(E,T)}(E),((E,T)=>T.some(M=>E instanceof M))(E,function K_(){return Aa||(Aa=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(E,Tl):E)}function os(E){if(E instanceof IDBRequest)return function $h(E){const T=new Promise((M,V)=>{const K=()=>{E.removeEventListener("success",X),E.removeEventListener("error",ge)},X=()=>{M(os(E.result)),K()},ge=()=>{V(E.error),K()};E.addEventListener("success",X),E.addEventListener("error",ge)});return T.then(M=>{M instanceof IDBCursor&&nd.set(M,E)}).catch(()=>{}),Lt.set(T,E),T}(E);if(Yi.has(E))return Yi.get(E);const T=Zh(E);return T!==E&&(Yi.set(E,T),Lt.set(T,E)),T}const Nu=E=>Lt.get(E);function Ne(E,T,{blocked:M,upgrade:V,blocking:K,terminated:X}={}){const ge=indexedDB.open(E,T),Qe=os(ge);return V&&ge.addEventListener("upgradeneeded",qe=>{V(os(ge.result),qe.oldVersion,qe.newVersion,os(ge.transaction))}),M&&ge.addEventListener("blocked",()=>M()),Qe.then(qe=>{X&&qe.addEventListener("close",()=>X()),K&&qe.addEventListener("versionchange",()=>K())}).catch(()=>{}),Qe}function Qt(E,{blocked:T}={}){const M=indexedDB.deleteDatabase(E);return T&&M.addEventListener("blocked",()=>T()),os(M).then(()=>{})}const ku=["get","getKey","getAll","getAllKeys","count"],id=["put","add","delete","clear"],ti=new Map;function Ru(E,T){if(!(E instanceof IDBDatabase)||T in E||"string"!=typeof T)return;if(ti.get(T))return ti.get(T);const M=T.replace(/FromIndex$/,""),V=T!==M,K=id.includes(M);if(!(M in(V?IDBIndex:IDBObjectStore).prototype)||!K&&!ku.includes(M))return;const X=function(){var ge=(0,L.Z)(function*(Qe,...qe){const _t=this.transaction(Qe,K?"readwrite":"readonly");let Ct=_t.store;return V&&(Ct=Ct.index(qe.shift())),(yield Promise.all([Ct[M](...qe),K&&_t.done]))[0]});return function(qe){return ge.apply(this,arguments)}}();return ti.set(T,X),X}!function Wh(E){Tl=E(Tl)}(E=>({...E,get:(T,M,V)=>Ru(T,M)||E.get(T,M,V),has:(T,M)=>!!Ru(T,M)||E.has(T,M)}));const Go="/firebase-messaging-sw.js",Pr="/firebase-cloud-messaging-push-scope",xa="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",sd="google.c.a.c_id",ni="google.c.a.c_l",lg="google.c.a.ts",ug="google.c.a.e";var Or=(()=>{return(E=Or||(Or={})).PUSH_RECEIVED="push-received",E.NOTIFICATION_CLICKED="notification-clicked",Or;var E})();function as(E){const T=new Uint8Array(E);return btoa(String.fromCharCode(...T)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Qs(E){const M=(E+"=".repeat((4-E.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),V=atob(M),K=new Uint8Array(V.length);for(let X=0;X<V.length;++X)K[X]=V.charCodeAt(X);return K}const Nr="fcm_token_details_db",Wo="fcm_token_object_Store";function Y_(E){return Ma.apply(this,arguments)}function Ma(){return Ma=(0,L.Z)(function*(E){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(X=>X.name).includes(Nr))return null;let T=null;return(yield Ne(Nr,5,{upgrade:(V=(0,L.Z)(function*(K,X,ge,Qe){var qe;if(X<2||!K.objectStoreNames.contains(Wo))return;const _t=Qe.objectStore(Wo),Ct=yield _t.index("fcmSenderId").get(E);if(yield _t.clear(),Ct)if(2===X){const Vt=Ct;if(!Vt.auth||!Vt.p256dh||!Vt.endpoint)return;T={token:Vt.fcmToken,createTime:null!==(qe=Vt.createTime)&&void 0!==qe?qe:Date.now(),subscriptionOptions:{auth:Vt.auth,p256dh:Vt.p256dh,endpoint:Vt.endpoint,swScope:Vt.swScope,vapidKey:"string"==typeof Vt.vapidKey?Vt.vapidKey:as(Vt.vapidKey)}}}else if(3===X){const Vt=Ct;T={token:Vt.fcmToken,createTime:Vt.createTime,subscriptionOptions:{auth:as(Vt.auth),p256dh:as(Vt.p256dh),endpoint:Vt.endpoint,swScope:Vt.swScope,vapidKey:as(Vt.vapidKey)}}}else if(4===X){const Vt=Ct;T={token:Vt.fcmToken,createTime:Vt.createTime,subscriptionOptions:{auth:as(Vt.auth),p256dh:as(Vt.p256dh),endpoint:Vt.endpoint,swScope:Vt.swScope,vapidKey:as(Vt.vapidKey)}}}}),function(X,ge,Qe,qe){return V.apply(this,arguments)})})).close(),yield Qt(Nr),yield Qt("fcm_vapid_details_db"),yield Qt("undefined"),od(T)?T:null;var V}),Ma.apply(this,arguments)}function od(E){if(!E||!E.subscriptionOptions)return!1;const{subscriptionOptions:T}=E;return"number"==typeof E.createTime&&E.createTime>0&&"string"==typeof E.token&&E.token.length>0&&"string"==typeof T.auth&&T.auth.length>0&&"string"==typeof T.p256dh&&T.p256dh.length>0&&"string"==typeof T.endpoint&&T.endpoint.length>0&&"string"==typeof T.swScope&&T.swScope.length>0&&"string"==typeof T.vapidKey&&T.vapidKey.length>0}const cr="firebase-messaging-store";let ad=null;function Sl(){return ad||(ad=Ne("firebase-messaging-database",1,{upgrade:(E,T)=>{0===T&&E.createObjectStore(cr)}})),ad}function Al(E){return qo.apply(this,arguments)}function qo(){return(qo=(0,L.Z)(function*(E){const T=Lu(E),V=yield(yield Sl()).transaction(cr).objectStore(cr).get(T);if(V)return V;{const K=yield Y_(E.appConfig.senderId);if(K)return yield ld(E,K),K}})).apply(this,arguments)}function ld(E,T){return xl.apply(this,arguments)}function xl(){return(xl=(0,L.Z)(function*(E,T){const M=Lu(E),K=(yield Sl()).transaction(cr,"readwrite");return yield K.objectStore(cr).put(T,M),yield K.done,T})).apply(this,arguments)}function Yh(E){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,L.Z)(function*(E){const T=Lu(E),V=(yield Sl()).transaction(cr,"readwrite");yield V.objectStore(cr).delete(T),yield V.done})).apply(this,arguments)}function Lu({appConfig:E}){return E.appId}const gn=new le.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Js(E,T){return $n.apply(this,arguments)}function $n(){return($n=(0,L.Z)(function*(E,T){const M=yield cd(E),V=Ml(T),K={method:"POST",headers:M,body:JSON.stringify(V)};let X;try{X=yield(yield fetch(Vu(E.appConfig),K)).json()}catch(ge){throw gn.create("token-subscribe-failed",{errorInfo:ge?.toString()})}if(X.error)throw gn.create("token-subscribe-failed",{errorInfo:X.error.message});if(!X.token)throw gn.create("token-subscribe-no-token");return X.token})).apply(this,arguments)}function Qh(E,T){return Jh.apply(this,arguments)}function Jh(){return(Jh=(0,L.Z)(function*(E,T){const M=yield cd(E),V=Ml(T.subscriptionOptions),K={method:"PATCH",headers:M,body:JSON.stringify(V)};let X;try{X=yield(yield fetch(`${Vu(E.appConfig)}/${T.token}`,K)).json()}catch(ge){throw gn.create("token-update-failed",{errorInfo:ge?.toString()})}if(X.error)throw gn.create("token-update-failed",{errorInfo:X.error.message});if(!X.token)throw gn.create("token-update-no-token");return X.token})).apply(this,arguments)}function ud(E,T){return Xh.apply(this,arguments)}function Xh(){return(Xh=(0,L.Z)(function*(E,T){const V={method:"DELETE",headers:yield cd(E)};try{const X=yield(yield fetch(`${Vu(E.appConfig)}/${T}`,V)).json();if(X.error)throw gn.create("token-unsubscribe-failed",{errorInfo:X.error.message})}catch(K){throw gn.create("token-unsubscribe-failed",{errorInfo:K?.toString()})}})).apply(this,arguments)}function Vu({projectId:E}){return`https://fcmregistrations.googleapis.com/v1/projects/${E}/registrations`}function cd(E){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,L.Z)(function*({appConfig:E,installations:T}){const M=yield T.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E.apiKey,"x-goog-firebase-installations-auth":`FIS ${M}`})})).apply(this,arguments)}function Ml({p256dh:E,auth:T,endpoint:M,vapidKey:V}){const K={web:{endpoint:M,auth:T,p256dh:E}};return V!==xa&&(K.web.applicationPubKey=V),K}const Oa=6048e5;function ef(E){return Pl.apply(this,arguments)}function Pl(){return(Pl=(0,L.Z)(function*(E){const T=yield dd(E.swRegistration,E.vapidKey),M={vapidKey:E.vapidKey,swScope:E.swRegistration.scope,endpoint:T.endpoint,auth:as(T.getKey("auth")),p256dh:as(T.getKey("p256dh"))},V=yield Al(E.firebaseDependencies);if(V){if(hg(V.subscriptionOptions,M))return Date.now()>=V.createTime+Oa?Ol(E,{token:V.token,createTime:Date.now(),subscriptionOptions:M}):V.token;try{yield ud(E.firebaseDependencies,V.token)}catch(K){console.warn(K)}return dg(E.firebaseDependencies,M)}return dg(E.firebaseDependencies,M)})).apply(this,arguments)}function cg(E){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,L.Z)(function*(E){const T=yield Al(E.firebaseDependencies);T&&(yield ud(E.firebaseDependencies,T.token),yield Yh(E.firebaseDependencies));const M=yield E.swRegistration.pushManager.getSubscription();return!M||M.unsubscribe()})).apply(this,arguments)}function Ol(E,T){return Bu.apply(this,arguments)}function Bu(){return(Bu=(0,L.Z)(function*(E,T){try{const M=yield Qh(E.firebaseDependencies,T),V=Object.assign(Object.assign({},T),{token:M,createTime:Date.now()});return yield ld(E.firebaseDependencies,V),M}catch(M){throw yield cg(E),M}})).apply(this,arguments)}function dg(E,T){return ls.apply(this,arguments)}function ls(){return(ls=(0,L.Z)(function*(E,T){const V={token:yield Js(E,T),createTime:Date.now(),subscriptionOptions:T};return yield ld(E,V),V.token})).apply(this,arguments)}function dd(E,T){return tf.apply(this,arguments)}function tf(){return(tf=(0,L.Z)(function*(E,T){return(yield E.pushManager.getSubscription())||E.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Qs(T)})})).apply(this,arguments)}function hg(E,T){return T.vapidKey===E.vapidKey&&T.endpoint===E.endpoint&&T.auth===E.auth&&T.p256dh===E.p256dh}function hd(E){const T={from:E.from,collapseKey:E.collapse_key,messageId:E.fcmMessageId};return function Uu(E,T){if(!T.notification)return;E.notification={};const M=T.notification.title;M&&(E.notification.title=M);const V=T.notification.body;V&&(E.notification.body=V);const K=T.notification.image;K&&(E.notification.image=K);const X=T.notification.icon;X&&(E.notification.icon=X)}(T,E),function zu(E,T){!T.data||(E.data=T.data)}(T,E),function Hu(E,T){var M,V,K,X,ge;if(!(T.fcmOptions||null!==(M=T.notification)&&void 0!==M&&M.click_action))return;E.fcmOptions={};const Qe=null!==(K=null===(V=T.fcmOptions)||void 0===V?void 0:V.link)&&void 0!==K?K:null===(X=T.notification)||void 0===X?void 0:X.click_action;Qe&&(E.fcmOptions.link=Qe);const qe=null===(ge=T.fcmOptions)||void 0===ge?void 0:ge.analytics_label;qe&&(E.fcmOptions.analyticsLabel=qe)}(T,E),T}function fg(E){return"object"==typeof E&&!!E&&sd in E}function Na(E,T){const M=[];for(let V=0;V<E.length;V++)M.push(E.charAt(V)),V<T.length&&M.push(T.charAt(V));return M.join("")}function fd(E){return gn.create("missing-app-config-values",{valueName:E})}Na("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Na("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Nl{constructor(T,M,V){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const K=function nf(E){if(!E||!E.options)throw fd("App Configuration Object");if(!E.name)throw fd("App Name");const T=["projectId","apiKey","appId","messagingSenderId"],{options:M}=E;for(const V of T)if(!M[V])throw fd(V);return{appName:E.name,projectId:M.projectId,apiKey:M.apiKey,appId:M.appId,senderId:M.messagingSenderId}}(T);this.firebaseDependencies={app:T,appConfig:K,installations:M,analyticsProvider:V}}_delete(){return Promise.resolve()}}function pg(E){return xs.apply(this,arguments)}function xs(){return(xs=(0,L.Z)(function*(E){try{E.swRegistration=yield navigator.serviceWorker.register(Go,{scope:Pr}),E.swRegistration.update().catch(()=>{})}catch(T){throw gn.create("failed-service-worker-registration",{browserErrorMessage:T?.message})}})).apply(this,arguments)}function kl(E,T){return eo.apply(this,arguments)}function eo(){return(eo=(0,L.Z)(function*(E,T){if(!T&&!E.swRegistration&&(yield pg(E)),T||!E.swRegistration){if(!(T instanceof ServiceWorkerRegistration))throw gn.create("invalid-sw-registration");E.swRegistration=T}})).apply(this,arguments)}function Ko(E,T){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,L.Z)(function*(E,T){T?E.vapidKey=T:E.vapidKey||(E.vapidKey=xa)})).apply(this,arguments)}function Rl(){return(Rl=(0,L.Z)(function*(E,T){if(!navigator)throw gn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw gn.create("permission-blocked");return yield Ko(E,T?.vapidKey),yield kl(E,T?.serviceWorkerRegistration),ef(E)})).apply(this,arguments)}function Gr(E,T,M){return pd.apply(this,arguments)}function pd(){return(pd=(0,L.Z)(function*(E,T,M){const V=ka(T);(yield E.firebaseDependencies.analyticsProvider.get()).logEvent(V,{message_id:M[sd],message_name:M[ni],message_time:M[lg],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ka(E){switch(E){case Or.NOTIFICATION_CLICKED:return"notification_open";case Or.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Yo(){return(Yo=(0,L.Z)(function*(E,T){const M=T.data;if(!M.isFirebaseMessaging)return;E.onMessageHandler&&M.messageType===Or.PUSH_RECEIVED&&("function"==typeof E.onMessageHandler?E.onMessageHandler(hd(M)):E.onMessageHandler.next(hd(M)));const V=M.data;fg(V)&&"1"===V[ug]&&(yield Gr(E,M.messageType,V))})).apply(this,arguments)}const Qo="@firebase/messaging",Jo=E=>{const T=new Nl(E.getProvider("app").getImmediate(),E.getProvider("installations-internal").getImmediate(),E.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",M=>function gd(E,T){return Yo.apply(this,arguments)}(T,M)),T},$u=E=>{const T=E.getProvider("messaging").getImmediate();return{getToken:V=>function ju(E,T){return Rl.apply(this,arguments)}(T,V)}};function Ra(){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,L.Z)(function*(){try{yield(0,le.eu)()}catch{return!1}return typeof window<"u"&&(0,le.hl)()&&(0,le.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function gg(){(0,oe.Xd)(new fe.wA("messaging",Jo,"PUBLIC")),(0,oe.Xd)(new fe.wA("messaging-internal",$u,"PRIVATE")),(0,oe.KN)(Qo,"0.12.4"),(0,oe.KN)(Qo,"0.12.4","esm2017")}();const Gn="analytics",md="firebase_id",Wu="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",to="https://www.googletagmanager.com/gtag/js",ii=new de.Yd("@firebase/analytics"),Qi=new le.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function La(E){if(!E.startsWith(to)){const T=Qi.create("invalid-gtag-resource",{gtagURL:E});return ii.warn(T.message),""}return E}function no(E){return Promise.all(E.map(T=>T.catch(M=>M)))}function Bl(E,T){const M=function qu(E,T){let M;return window.trustedTypes&&(M=window.trustedTypes.createPolicy(E,T)),M}("firebase-js-sdk-policy",{createScriptURL:La}),V=document.createElement("script"),K=`${to}?l=${E}&id=${T}`;V.src=M?M?.createScriptURL(K):K,V.async=!0,document.head.appendChild(V)}function _d(E,T,M,V,K,X){return Zu.apply(this,arguments)}function Zu(){return(Zu=(0,L.Z)(function*(E,T,M,V,K,X){const ge=V[K];try{if(ge)yield T[ge];else{const qe=(yield no(M)).find(_t=>_t.measurementId===K);qe&&(yield T[qe.appId])}}catch(Qe){ii.error(Qe)}E("config",K,X)})).apply(this,arguments)}function yg(E,T,M,V,K){return rf.apply(this,arguments)}function rf(){return(rf=(0,L.Z)(function*(E,T,M,V,K){try{let X=[];if(K&&K.send_to){let ge=K.send_to;Array.isArray(ge)||(ge=[ge]);const Qe=yield no(M);for(const qe of ge){const _t=Qe.find(Vt=>Vt.measurementId===qe),Ct=_t&&T[_t.appId];if(!Ct){X=[];break}X.push(Ct)}}0===X.length&&(X=Object.values(T)),yield Promise.all(X),E("event",V,K||{})}catch(X){ii.error(X)}})).apply(this,arguments)}function Cg(E){const T=window.document.getElementsByTagName("script");for(const M of Object.values(T))if(M.src&&M.src.includes(to)&&M.src.includes(E))return M;return null}const Si=new class Ku{constructor(T={},M=1e3){this.throttleMetadata=T,this.intervalMillis=M}getThrottleMetadata(T){return this.throttleMetadata[T]}setThrottleMetadata(T,M){this.throttleMetadata[T]=M}deleteThrottleMetadata(T){delete this.throttleMetadata[T]}};function Yu(E){return new Headers({Accept:"application/json","x-goog-api-key":E})}function Wr(E){return sf.apply(this,arguments)}function sf(){return(sf=(0,L.Z)(function*(E){var T;const{appId:M,apiKey:V}=E,K={method:"GET",headers:Yu(V)},X=Wu.replace("{app-id}",M),ge=yield fetch(X,K);if(200!==ge.status&&304!==ge.status){let Qe="";try{const qe=yield ge.json();null!==(T=qe.error)&&void 0!==T&&T.message&&(Qe=qe.error.message)}catch{}throw Qi.create("config-fetch-failed",{httpStatus:ge.status,responseMessage:Qe})}return ge.json()})).apply(this,arguments)}function Eg(E){return wi.apply(this,arguments)}function wi(){return(wi=(0,L.Z)(function*(E,T=Si,M){const{appId:V,apiKey:K,measurementId:X}=E.options;if(!V)throw Qi.create("no-app-id");if(!K){if(X)return{measurementId:X,appId:V};throw Qi.create("no-api-key")}const ge=T.getThrottleMetadata(V)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Qe=new af;return setTimeout((0,L.Z)(function*(){Qe.abort()}),void 0!==M?M:6e4),us({appId:V,apiKey:K,measurementId:X},ge,Qe,T)})).apply(this,arguments)}function us(E,T,M){return yd.apply(this,arguments)}function yd(){return(yd=(0,L.Z)(function*(E,{throttleEndTimeMillis:T,backoffCount:M},V,K=Si){var X;const{appId:ge,measurementId:Qe}=E;try{yield vd(V,T)}catch(qe){if(Qe)return ii.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Qe} provided in the "measurementId" field in the local Firebase config. [${qe?.message}]`),{appId:ge,measurementId:Qe};throw qe}try{const qe=yield Wr(E);return K.deleteThrottleMetadata(ge),qe}catch(qe){const _t=qe;if(!Va(_t)){if(K.deleteThrottleMetadata(ge),Qe)return ii.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Qe} provided in the "measurementId" field in the local Firebase config. [${_t?.message}]`),{appId:ge,measurementId:Qe};throw qe}const Ct=503===Number(null===(X=_t?.customData)||void 0===X?void 0:X.httpStatus)?(0,le.$s)(M,K.intervalMillis,30):(0,le.$s)(M,K.intervalMillis),Vt={throttleEndTimeMillis:Date.now()+Ct,backoffCount:M+1};return K.setThrottleMetadata(ge,Vt),ii.debug(`Calling attemptFetch again in ${Ct} millis`),us(E,Vt,V,K)}})).apply(this,arguments)}function vd(E,T){return new Promise((M,V)=>{const K=Math.max(T-Date.now(),0),X=setTimeout(M,K);E.addEventListener(()=>{clearTimeout(X),V(Qi.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}function Va(E){if(!(E instanceof le.ZR&&E.customData))return!1;const T=Number(E.customData.httpStatus);return 429===T||500===T||503===T||504===T}class af{constructor(){this.listeners=[]}addEventListener(T){this.listeners.push(T)}abort(){this.listeners.forEach(T=>T())}}let lf,Cd;function bg(){return(bg=(0,L.Z)(function*(E,T,M,V,K){if(K&&K.global)E("event",M,V);else{const X=yield T;E("event",M,Object.assign(Object.assign({},V),{send_to:X}))}})).apply(this,arguments)}function zl(E){Cd=E}function ec(E){lf=E}function wn(){return qr.apply(this,arguments)}function qr(){return(qr=(0,L.Z)(function*(){if(!(0,le.hl)())return ii.warn(Qi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,le.eu)()}catch(E){return ii.warn(Qi.create("indexeddb-unavailable",{errorInfo:E?.toString()}).message),!1}return!0})).apply(this,arguments)}function Kn(){return(Kn=(0,L.Z)(function*(E,T,M,V,K,X,ge){var Qe;const qe=Eg(E);qe.then(Dn=>{M[Dn.measurementId]=Dn.appId,E.options.measurementId&&Dn.measurementId!==E.options.measurementId&&ii.warn(`The measurement ID in the local Firebase config (${E.options.measurementId}) does not match the measurement ID fetched from the server (${Dn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Dn=>ii.error(Dn)),T.push(qe);const _t=wn().then(Dn=>{if(Dn)return V.getId()}),[Ct,Vt]=yield Promise.all([qe,_t]);Cg(X)||Bl(X,Ct.measurementId),Cd&&(K("consent","default",Cd),zl(void 0)),K("js",new Date);const Xi=null!==(Qe=ge?.config)&&void 0!==Qe?Qe:{};return Xi.origin="firebase",Xi.update=!0,null!=Vt&&(Xi[md]=Vt),K("config",Ct.measurementId,Xi),lf&&(K("set",lf),ec(void 0)),Ct.measurementId})).apply(this,arguments)}class ri{constructor(T){this.app=T}_delete(){return delete dr[this.app.options.appId],Promise.resolve()}}let dr={},Hl=[];const Cr={};let ta,hr,tc="dataLayer",nc=!1;function mt(E,T,M){!function na(){const E=[];if((0,le.ru)()&&E.push("This is a browser extension environment."),(0,le.zI)()||E.push("Cookies are not available."),E.length>0){const T=E.map((V,K)=>`(${K+1}) ${V}`).join(" "),M=Qi.create("invalid-analytics-context",{errorInfo:T});ii.warn(M.message)}}();const V=E.options.appId;if(!V)throw Qi.create("no-app-id");if(!E.options.apiKey){if(!E.options.measurementId)throw Qi.create("no-api-key");ii.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${E.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=dr[V])throw Qi.create("already-exists",{id:V});if(!nc){!function bn(E){let T=[];Array.isArray(window[E])?T=window[E]:window[E]=T}(tc);const{wrappedGtag:X,gtagCore:ge}=function wg(E,T,M,V,K){let X=function(...ge){window[V].push(arguments)};return window[K]&&"function"==typeof window[K]&&(X=window[K]),window[K]=function vg(E,T,M,V){function X(){return(X=(0,L.Z)(function*(ge,...Qe){try{if("event"===ge){const[qe,_t]=Qe;yield yg(E,T,M,qe,_t)}else if("config"===ge){const[qe,_t]=Qe;yield _d(E,T,M,V,qe,_t)}else if("consent"===ge){const[qe]=Qe;E("consent","update",qe)}else if("get"===ge){const[qe,_t,Ct]=Qe;E("get",qe,_t,Ct)}else if("set"===ge){const[qe]=Qe;E("set",qe)}else E(ge,...Qe)}catch(qe){ii.error(qe)}})).apply(this,arguments)}return function K(ge){return X.apply(this,arguments)}}(X,E,T,M),{gtagCore:X,wrappedGtag:window[K]}}(dr,Hl,Cr,tc,"gtag");hr=X,ta=ge,nc=!0}return dr[V]=function wt(E,T,M,V,K,X,ge){return Kn.apply(this,arguments)}(E,Hl,Cr,T,ta,tc,M),new ri(E)}function $l(){return ic.apply(this,arguments)}function ic(){return(ic=(0,L.Z)(function*(){if((0,le.ru)()||!(0,le.zI)()||!(0,le.hl)())return!1;try{return yield(0,le.eu)()}catch{return!1}})).apply(this,arguments)}const Gl="@firebase/analytics";!function Ns(){(0,oe.Xd)(new fe.wA(Gn,(T,{options:M})=>mt(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),M),"PUBLIC")),(0,oe.Xd)(new fe.wA("analytics-internal",function E(T){try{const M=T.getProvider(Gn).getImmediate();return{logEvent:(V,K,X)=>function io(E,T,M,V){E=(0,le.m9)(E),function ey(E,T,M,V,K){return bg.apply(this,arguments)}(hr,dr[E.app.options.appId],T,M,V).catch(K=>ii.error(K))}(M,V,K,X)}}catch(M){throw Qi.create("interop-component-reg-failed",{reason:M})}},"PRIVATE")),(0,oe.KN)(Gl,"0.10.0"),(0,oe.KN)(Gl,"0.10.0","esm2017")}();var Zr=R(4408),bd=R(7565);const rc=new class fi extends bd.v{}(class ds extends Zr.o{constructor(T,M){super(T,M),this.scheduler=T,this.work=M}schedule(T,M=0){return M>0?super.schedule(T,M):(this.delay=M,this.state=T,this.scheduler.flush(this),this)}execute(T,M){return M>0||this.closed?super.execute(T,M):this._execute(T,M)}requestAsyncId(T,M,V=0){return null!=V&&V>0||null==V&&this.delay>0?super.requestAsyncId(T,M,V):(T.flush(this),0)}});var Ci=R(4986),Wl=R(8505),sa=R(9468),Ji=R(5363);const pi=new l.GfV("7.6.1"),Ao="__angularfire_symbol__analyticsIsSupportedValue",za="__angularfire_symbol__analyticsIsSupported",sc="__angularfire_symbol__remoteConfigIsSupportedValue",hs="__angularfire_symbol__remoteConfigIsSupported",Kr="__angularfire_symbol__messagingIsSupportedValue",Ai="__angularfire_symbol__messagingIsSupported";function Ag(E,T,M){if(T){if(1===T.length)return T[0];const X=T.filter(ge=>ge.app===M);if(1===X.length)return X[0]}return M.container.getProvider(E).getImmediate({optional:!0})}globalThis[za]||(globalThis[za]=$l().then(E=>globalThis[Ao]=E).catch(()=>globalThis[Ao]=!1)),globalThis[Ai]||(globalThis[Ai]=Ra().then(E=>globalThis[Kr]=E).catch(()=>globalThis[Kr]=!1)),globalThis[hs]||(globalThis[hs]=wr().then(E=>globalThis[sc]=E).catch(()=>globalThis[sc]=!1));const Id=(E,T)=>{const M=T?[T]:(0,ee.C6)(),V=[];return M.forEach(K=>{K.container.getProvider(E).instances.forEach(ge=>{V.includes(ge)||V.push(ge)})}),V};function oa(){}class Td{constructor(T,M=rc){this.zone=T,this.delegate=M}now(){return this.delegate.now()}schedule(T,M,V){const K=this.zone;return this.delegate.schedule(function(ge){K.runGuarded(()=>{T.apply(this,[ge])})},M,V)}}class Jt{constructor(T){this.zone=T,this.task=null}call(T,M){const V=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",oa,{},oa,oa)),M.pipe((0,Wl.b)({next:V,complete:V,error:V})).subscribe(T).add(V)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ql=(()=>{class E{constructor(M){this.ngZone=M,this.outsideAngular=M.runOutsideAngular(()=>new Td(Zone.current)),this.insideAngular=M.run(()=>new Td(Zone.current,Ci.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return E.\u0275fac=function(M){return new(M||E)(l.LFG(l.R0b))},E.\u0275prov=l.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();function Ha(){const E=globalThis.\u0275AngularFireScheduler;if(!E)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return E}function oc(E){return Ha(),function Dd(E){return function(M){return(M=M.lift(new Jt(E.ngZone))).pipe((0,sa.R)(E.outsideAngular),(0,Ji.Q)(E.insideAngular))}}(Ha())(E)}},2090:(ut,De,R)=>{R.d(De,{$s:()=>We,BH:()=>ve,DV:()=>sr,Dv:()=>Ni,G6:()=>Di,GJ:()=>Zn,L:()=>_e,LL:()=>be,Pz:()=>Ae,Sg:()=>je,UG:()=>Z,UI:()=>dt,US:()=>fe,Wj:()=>is,Wl:()=>St,Yr:()=>Nn,ZB:()=>Y,ZR:()=>Pe,aH:()=>Ve,b$:()=>Ot,cI:()=>pn,dS:()=>Gs,eu:()=>re,g5:()=>L,gK:()=>Xn,gQ:()=>zn,h$:()=>ye,hl:()=>ne,hu:()=>ee,jU:()=>$e,lb:()=>an,m9:()=>nn,ne:()=>fn,p$:()=>W,pd:()=>Cn,r3:()=>ui,ru:()=>Ke,tV:()=>j,uI:()=>pe,ug:()=>ln,vZ:()=>Jn,w1:()=>xn,w9:()=>Un,xO:()=>yo,xb:()=>Ar,z$:()=>ze,zI:()=>we,zd:()=>Ds});const ee=function(H,z){if(!H)throw L(z)},L=function(H){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+H)},oe=function(H){const z=[];let Q=0;for(let he=0;he<H.length;he++){let se=H.charCodeAt(he);se<128?z[Q++]=se:se<2048?(z[Q++]=se>>6|192,z[Q++]=63&se|128):55296==(64512&se)&&he+1<H.length&&56320==(64512&H.charCodeAt(he+1))?(se=65536+((1023&se)<<10)+(1023&H.charCodeAt(++he)),z[Q++]=se>>18|240,z[Q++]=se>>12&63|128,z[Q++]=se>>6&63|128,z[Q++]=63&se|128):(z[Q++]=se>>12|224,z[Q++]=se>>6&63|128,z[Q++]=63&se|128)}return z},fe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(H,z){if(!Array.isArray(H))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Q=z?this.byteToCharMapWebSafe_:this.byteToCharMap_,he=[];for(let se=0;se<H.length;se+=3){const et=H[se],Ut=se+1<H.length,Zt=Ut?H[se+1]:0,Tn=se+2<H.length,Ue=Tn?H[se+2]:0;let kn=(15&Zt)<<2|Ue>>6,yr=63&Ue;Tn||(yr=64,Ut||(kn=64)),he.push(Q[et>>2],Q[(3&et)<<4|Zt>>4],Q[kn],Q[yr])}return he.join("")},encodeString(H,z){return this.HAS_NATIVE_SUPPORT&&!z?btoa(H):this.encodeByteArray(oe(H),z)},decodeString(H,z){return this.HAS_NATIVE_SUPPORT&&!z?atob(H):function(H){const z=[];let Q=0,he=0;for(;Q<H.length;){const se=H[Q++];if(se<128)z[he++]=String.fromCharCode(se);else if(se>191&&se<224){const et=H[Q++];z[he++]=String.fromCharCode((31&se)<<6|63&et)}else if(se>239&&se<365){const Tn=((7&se)<<18|(63&H[Q++])<<12|(63&H[Q++])<<6|63&H[Q++])-65536;z[he++]=String.fromCharCode(55296+(Tn>>10)),z[he++]=String.fromCharCode(56320+(1023&Tn))}else{const et=H[Q++],Ut=H[Q++];z[he++]=String.fromCharCode((15&se)<<12|(63&et)<<6|63&Ut)}}return z.join("")}(this.decodeStringToByteArray(H,z))},decodeStringToByteArray(H,z){this.init_();const Q=z?this.charToByteMapWebSafe_:this.charToByteMap_,he=[];for(let se=0;se<H.length;){const et=Q[H.charAt(se++)],Zt=se<H.length?Q[H.charAt(se)]:0;++se;const Ue=se<H.length?Q[H.charAt(se)]:64;++se;const Rt=se<H.length?Q[H.charAt(se)]:64;if(++se,null==et||null==Zt||null==Ue||null==Rt)throw new de;he.push(et<<2|Zt>>4),64!==Ue&&(he.push(Zt<<4&240|Ue>>2),64!==Rt&&he.push(Ue<<6&192|Rt))}return he},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let H=0;H<this.ENCODED_VALS.length;H++)this.byteToCharMap_[H]=this.ENCODED_VALS.charAt(H),this.charToByteMap_[this.byteToCharMap_[H]]=H,this.byteToCharMapWebSafe_[H]=this.ENCODED_VALS_WEBSAFE.charAt(H),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[H]]=H,H>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(H)]=H,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(H)]=H)}}};class de extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ye=function(H){const z=oe(H);return fe.encodeByteArray(z,!0)},_e=function(H){return ye(H).replace(/\./g,"")},j=function(H){try{return fe.decodeString(H,!0)}catch(z){console.error("base64Decode failed: ",z)}return null};function W(H){return Y(void 0,H)}function Y(H,z){if(!(z instanceof Object))return z;switch(z.constructor){case Date:return new Date(z.getTime());case Object:void 0===H&&(H={});break;case Array:H=[];break;default:return z}for(const Q in z)!z.hasOwnProperty(Q)||!Ge(Q)||(H[Q]=Y(H[Q],z[Q]));return H}function Ge(H){return"__proto__"!==H}const me=()=>{try{return function Oe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const H=process.env.__FIREBASE_DEFAULTS__;return H?JSON.parse(H):void 0})()||(()=>{if(typeof document>"u")return;let H;try{H=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const z=H&&j(H[1]);return z&&JSON.parse(z)})()}catch(H){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${H}`)}},Ve=()=>{var H;return null===(H=me())||void 0===H?void 0:H.config},Ae=H=>{var z;return null===(z=me())||void 0===z?void 0:z[`_${H}`]};class ve{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((z,Q)=>{this.resolve=z,this.reject=Q})}wrapCallback(z){return(Q,he)=>{Q?this.reject(Q):this.resolve(he),"function"==typeof z&&(this.promise.catch(()=>{}),1===z.length?z(Q):z(Q,he))}}}function je(H,z){if(H.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const he=z||"demo-project",se=H.iat||0,et=H.sub||H.user_id;if(!et)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ut=Object.assign({iss:`https://securetoken.google.com/${he}`,aud:he,iat:se,exp:se+3600,auth_time:se,sub:et,user_id:et,firebase:{sign_in_provider:"custom",identities:{}}},H);return[_e(JSON.stringify({alg:"none",type:"JWT"})),_e(JSON.stringify(Ut)),""].join(".")}function ze(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function pe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ze())}function Z(){var H;const z=null===(H=me())||void 0===H?void 0:H.forceEnvironment;if("node"===z)return!0;if("browser"===z)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function $e(){return"object"==typeof self&&self.self===self}function Ke(){const H="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof H&&void 0!==H.id}function Ot(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function xn(){const H=ze();return H.indexOf("MSIE ")>=0||H.indexOf("Trident/")>=0}function Nn(){return!1}function Di(){return!Z()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ne(){try{return"object"==typeof indexedDB}catch{return!1}}function re(){return new Promise((H,z)=>{try{let Q=!0;const he="validate-browser-context-for-indexeddb-analytics-module",se=self.indexedDB.open(he);se.onsuccess=()=>{se.result.close(),Q||self.indexedDB.deleteDatabase(he),H(!0)},se.onupgradeneeded=()=>{Q=!1},se.onerror=()=>{var et;z((null===(et=se.error)||void 0===et?void 0:et.message)||"")}}catch(Q){z(Q)}})}function we(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Pe extends Error{constructor(z,Q,he){super(Q),this.code=z,this.customData=he,this.name="FirebaseError",Object.setPrototypeOf(this,Pe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,be.prototype.create)}}class be{constructor(z,Q,he){this.service=z,this.serviceName=Q,this.errors=he}create(z,...Q){const he=Q[0]||{},se=`${this.service}/${z}`,et=this.errors[z],Ut=et?function lt(H,z){return H.replace(Nt,(Q,he)=>{const se=z[he];return null!=se?String(se):`<${he}?>`})}(et,he):"Error";return new Pe(se,`${this.serviceName}: ${Ut} (${se}).`,he)}}const Nt=/\{\$([^}]+)}/g;function pn(H){return JSON.parse(H)}function St(H){return JSON.stringify(H)}const tn=function(H){let z={},Q={},he={},se="";try{const et=H.split(".");z=pn(j(et[0])||""),Q=pn(j(et[1])||""),se=et[2],he=Q.d||{},delete Q.d}catch{}return{header:z,claims:Q,data:he,signature:se}},Un=function(H){const Q=tn(H).claims;return!!Q&&"object"==typeof Q&&Q.hasOwnProperty("iat")},Zn=function(H){const z=tn(H).claims;return"object"==typeof z&&!0===z.admin};function ui(H,z){return Object.prototype.hasOwnProperty.call(H,z)}function sr(H,z){if(Object.prototype.hasOwnProperty.call(H,z))return H[z]}function Ar(H){for(const z in H)if(Object.prototype.hasOwnProperty.call(H,z))return!1;return!0}function dt(H,z,Q){const he={};for(const se in H)Object.prototype.hasOwnProperty.call(H,se)&&(he[se]=z.call(Q,H[se],se,H));return he}function Jn(H,z){if(H===z)return!0;const Q=Object.keys(H),he=Object.keys(z);for(const se of Q){if(!he.includes(se))return!1;const et=H[se],Ut=z[se];if(Hr(et)&&Hr(Ut)){if(!Jn(et,Ut))return!1}else if(et!==Ut)return!1}for(const se of he)if(!Q.includes(se))return!1;return!0}function Hr(H){return null!==H&&"object"==typeof H}function yo(H){const z=[];for(const[Q,he]of Object.entries(H))Array.isArray(he)?he.forEach(se=>{z.push(encodeURIComponent(Q)+"="+encodeURIComponent(se))}):z.push(encodeURIComponent(Q)+"="+encodeURIComponent(he));return z.length?"&"+z.join("&"):""}function Ds(H){const z={};return H.replace(/^\?/,"").split("&").forEach(he=>{if(he){const[se,et]=he.split("=");z[decodeURIComponent(se)]=decodeURIComponent(et)}}),z}function Cn(H){const z=H.indexOf("?");if(!z)return"";const Q=H.indexOf("#",z);return H.substring(z,Q>0?Q:void 0)}class zn{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let z=1;z<this.blockSize;++z)this.pad_[z]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(z,Q){Q||(Q=0);const he=this.W_;if("string"==typeof z)for(let Rt=0;Rt<16;Rt++)he[Rt]=z.charCodeAt(Q)<<24|z.charCodeAt(Q+1)<<16|z.charCodeAt(Q+2)<<8|z.charCodeAt(Q+3),Q+=4;else for(let Rt=0;Rt<16;Rt++)he[Rt]=z[Q]<<24|z[Q+1]<<16|z[Q+2]<<8|z[Q+3],Q+=4;for(let Rt=16;Rt<80;Rt++){const kn=he[Rt-3]^he[Rt-8]^he[Rt-14]^he[Rt-16];he[Rt]=4294967295&(kn<<1|kn>>>31)}let Ue,Et,se=this.chain_[0],et=this.chain_[1],Ut=this.chain_[2],Zt=this.chain_[3],Tn=this.chain_[4];for(let Rt=0;Rt<80;Rt++){Rt<40?Rt<20?(Ue=Zt^et&(Ut^Zt),Et=1518500249):(Ue=et^Ut^Zt,Et=1859775393):Rt<60?(Ue=et&Ut|Zt&(et|Ut),Et=2400959708):(Ue=et^Ut^Zt,Et=3395469782);const kn=(se<<5|se>>>27)+Ue+Tn+Et+he[Rt]&4294967295;Tn=Zt,Zt=Ut,Ut=4294967295&(et<<30|et>>>2),et=se,se=kn}this.chain_[0]=this.chain_[0]+se&4294967295,this.chain_[1]=this.chain_[1]+et&4294967295,this.chain_[2]=this.chain_[2]+Ut&4294967295,this.chain_[3]=this.chain_[3]+Zt&4294967295,this.chain_[4]=this.chain_[4]+Tn&4294967295}update(z,Q){if(null==z)return;void 0===Q&&(Q=z.length);const he=Q-this.blockSize;let se=0;const et=this.buf_;let Ut=this.inbuf_;for(;se<Q;){if(0===Ut)for(;se<=he;)this.compress_(z,se),se+=this.blockSize;if("string"==typeof z){for(;se<Q;)if(et[Ut]=z.charCodeAt(se),++Ut,++se,Ut===this.blockSize){this.compress_(et),Ut=0;break}}else for(;se<Q;)if(et[Ut]=z[se],++Ut,++se,Ut===this.blockSize){this.compress_(et),Ut=0;break}}this.inbuf_=Ut,this.total_+=Q}digest(){const z=[];let Q=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let se=this.blockSize-1;se>=56;se--)this.buf_[se]=255&Q,Q/=256;this.compress_(this.buf_);let he=0;for(let se=0;se<5;se++)for(let et=24;et>=0;et-=8)z[he]=this.chain_[se]>>et&255,++he;return z}}function fn(H,z){const Q=new ft(H,z);return Q.subscribe.bind(Q)}class ft{constructor(z,Q){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Q,this.task.then(()=>{z(this)}).catch(he=>{this.error(he)})}next(z){this.forEachObserver(Q=>{Q.next(z)})}error(z){this.forEachObserver(Q=>{Q.error(z)}),this.close(z)}complete(){this.forEachObserver(z=>{z.complete()}),this.close()}subscribe(z,Q,he){let se;if(void 0===z&&void 0===Q&&void 0===he)throw new Error("Missing Observer.");se=function En(H,z){if("object"!=typeof H||null===H)return!1;for(const Q of z)if(Q in H&&"function"==typeof H[Q])return!0;return!1}(z,["next","error","complete"])?z:{next:z,error:Q,complete:he},void 0===se.next&&(se.next=ar),void 0===se.error&&(se.error=ar),void 0===se.complete&&(se.complete=ar);const et=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?se.error(this.finalError):se.complete()}catch{}}),this.observers.push(se),et}unsubscribeOne(z){void 0===this.observers||void 0===this.observers[z]||(delete this.observers[z],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(z){if(!this.finalized)for(let Q=0;Q<this.observers.length;Q++)this.sendOne(Q,z)}sendOne(z,Q){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[z])try{Q(this.observers[z])}catch(he){typeof console<"u"&&console.error&&console.error(he)}})}close(z){this.finalized||(this.finalized=!0,void 0!==z&&(this.finalError=z),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ar(){}const Ni=function(H,z,Q,he){let se;if(he<z?se="at least "+z:he>Q&&(se=0===Q?"none":"no more than "+Q),se)throw new Error(H+" failed: Was called with "+he+(1===he?" argument.":" arguments.")+" Expects "+se+".")};function Xn(H,z){return`${H} failed: ${z} argument `}function is(H,z,Q,he){if((!he||Q)&&"function"!=typeof Q)throw new Error(Xn(H,z)+"must be a valid function.")}function an(H,z,Q,he){if((!he||Q)&&("object"!=typeof Q||null===Q))throw new Error(Xn(H,z)+"must be a valid context object.")}const Gs=function(H){const z=[];let Q=0;for(let he=0;he<H.length;he++){let se=H.charCodeAt(he);if(se>=55296&&se<=56319){const et=se-55296;he++,ee(he<H.length,"Surrogate pair missing trail surrogate."),se=65536+(et<<10)+(H.charCodeAt(he)-56320)}se<128?z[Q++]=se:se<2048?(z[Q++]=se>>6|192,z[Q++]=63&se|128):se<65536?(z[Q++]=se>>12|224,z[Q++]=se>>6&63|128,z[Q++]=63&se|128):(z[Q++]=se>>18|240,z[Q++]=se>>12&63|128,z[Q++]=se>>6&63|128,z[Q++]=63&se|128)}return z},ln=function(H){let z=0;for(let Q=0;Q<H.length;Q++){const he=H.charCodeAt(Q);he<128?z++:he<2048?z+=2:he>=55296&&he<=56319?(z+=4,Q++):z+=3}return z};function We(H,z=1e3,Q=2){const he=z*Math.pow(Q,H),se=Math.round(.5*he*(Math.random()-.5)*2);return Math.min(144e5,he+se)}function nn(H){return H&&H._delegate?H._delegate:H}},6786:(ut,De,R)=>{var ck,dk,hk,fk,pk,gk,mk,_k,yk,vk,wk,Ck,Ek,bk,Ik,Tk,Dk,Sk,Ak,xk,Mk,Pk,Ok,Nk,kk,Rk,Fk,Lk,Vk,Bk,Uk,zk,Hk,jk,$k,Gk,Wk,qk,Zk,l=R(4650);let ee=null;function L(){return ee}const de=new l.OlP("DocumentToken");let ye=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function _e(){return(0,l.LFG)(W)}()},providedIn:"platform"}),n})();const j=new l.OlP("Location Initialized");let W=(()=>{class n extends ye{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return L().getBaseHref(this._doc)}onPopState(t){const i=L().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=L().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,i,r){Y()?this._history.pushState(t,i,r):this.location.hash=r}replaceState(t,i,r){Y()?this._history.replaceState(t,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(de))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function Ge(){return new W((0,l.LFG)(de))}()},providedIn:"platform"}),n})();function Y(){return!!window.history.pushState}function Oe(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function xe(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function at(n){return n&&"?"!==n[0]?"?"+n:n}let Ie=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(gt)},providedIn:"root"}),n})();const me=new l.OlP("appBaseHref");let gt=(()=>{class n extends Ie{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,l.f3M)(de).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Oe(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+at(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,s){const u=this.prepareExternalUrl(r+at(s));this._platformLocation.pushState(t,i,u)}replaceState(t,i,r,s){const u=this.prepareExternalUrl(r+at(s));this._platformLocation.replaceState(t,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ye),l.LFG(me,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Tt=(()=>{class n extends Ie{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=Oe(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,s){let u=this.prepareExternalUrl(r+at(s));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(t,i,u)}replaceState(t,i,r,s){let u=this.prepareExternalUrl(r+at(s));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ye),l.LFG(me,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Ve=(()=>{class n{constructor(t){this._subject=new l.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._baseHref=xe(je(i)),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+at(i))}normalize(t){return n.stripTrailingSlash(function ve(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,je(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+at(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+at(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}}return n.normalizeQueryParams=at,n.joinWithSlash=Oe,n.stripTrailingSlash=xe,n.\u0275fac=function(t){return new(t||n)(l.LFG(Ie))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function Ae(){return new Ve((0,l.LFG)(Ie))}()},providedIn:"root"}),n})();function je(n){return n.replace(/\/index.html$/,"")}function El(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,s]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(s)}return null}let un=(()=>{class n{constructor(t,i,r,s){this._iterableDiffers=t,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,l.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),t.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),t.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,l.AaK)(i.item)}`);this._toggleClass(i.item,!0)}),t.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(i=>this._toggleClass(i,!0)):Object.keys(t).forEach(i=>this._toggleClass(i,!!t[i])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(i=>this._toggleClass(i,!1)):Object.keys(t).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(t,i){(t=t.trim())&&t.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.ZZ4),l.Y36(l.aQg),l.Y36(l.SBq),l.Y36(l.Qsj))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class Kc{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let rn=(()=>{class n{constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,s,u)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new Kc(r.item,this._ngForOf,-1,-1),null===u?void 0:u);else if(null==u)i.remove(null===s?void 0:s);else if(null!==s){const h=i.get(s);i.move(h,u),bo(h,r)}});for(let r=0,s=i.length;r<s;r++){const h=i.get(r).context;h.index=r,h.count=s,h.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{bo(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(l.ZZ4))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function bo(n,e){n.context.$implicit=e.item}let jn=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new kh,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Fi("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Fi("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class kh{constructor(){this.$implicit=null,this.ngIf=null}}function Fi(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,l.AaK)(e)}'.`)}let Du=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(t.ngTemplateOutlet||t.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:s,ngTemplateOutletInjector:u}=this;this._viewRef=i.createEmbeddedView(r,s,u?{injector:u}:void 0)}else this._viewRef=null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[l.TTD]}),n})(),Io=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();function Sa(n){return"server"===n}let Ys=(()=>{class n{}return n.\u0275prov=(0,l.Yz7)({token:n,providedIn:"root",factory:()=>new Ou((0,l.LFG)(de),window)}),n})();class Ou{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function wr(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const u=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(u)return u}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=$r(this.window.history)||$r(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function $r(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Il{}class hd extends class hg extends class fe{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function le(n){ee||(ee=n)}(new hd)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function zu(){return Uu=Uu||document.querySelector("base"),Uu?Uu.getAttribute("href"):null}();return null==t?null:function fg(n){Hu=Hu||document.createElement("a"),Hu.setAttribute("href",n);const e=Hu.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Uu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return El(document.cookie,e)}}let Hu,Uu=null;const Na=new l.OlP("TRANSITION_ID"),fd=[{provide:l.ip1,useFactory:function nf(n,e,t){return()=>{t.get(l.CZH).donePromise.then(()=>{const i=L(),r=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<r.length;s++)i.remove(r[s])})}},deps:[Na,de,l.zs3],multi:!0}];let pg=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const xs=new l.OlP("EventManagerPlugins");let kl=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>r.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}addGlobalEventListener(t,i,r){return this._findPluginFor(i).addGlobalEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const r=this._plugins;for(let s=0;s<r.length;s++){const u=r[s];if(u.supports(t))return this._eventNameToPlugin.set(t,u),u}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(xs),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class eo{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const r=L().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,i)}}let Ko=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const i=new Set;t.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Ms=(()=>{class n extends Ko{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,i,r){t.forEach(s=>{const u=this._doc.createElement("style");u.textContent=s,r.push(i.appendChild(u))})}addHost(t){const i=[];this._addStylesToHost(this._stylesSet,t,i),this._hostNodes.set(t,i)}removeHost(t){const i=this._hostNodes.get(t);i&&i.forEach(ju),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(t,r,i)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(ju))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(de))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function ju(n){L().remove(n)}const Rl={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Gr=/%COMP%/g;function Jo(n,e,t){for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?Jo(n,r,t):(r=r.replace(Gr,n),t.push(r))}return t}function $u(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Ra=(()=>{class n{constructor(t,i,r){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Fa(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;switch(i.encapsulation){case l.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new Xo(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(t),r}case 1:case l.ifc.ShadowDom:return new mg(this.eventManager,this.sharedStylesHost,t,i);default:if(!this.rendererByCompId.has(i.id)){const r=Jo(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(kl),l.LFG(Ms),l.LFG(l.AFp))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class Fa{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Rl[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(Ll(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(Ll(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const s=Rl[r];s?e.setAttributeNS(s,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=Rl[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(l.JOm.DashCase|l.JOm.Important)?e.style.setProperty(t,i,r&l.JOm.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&l.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,$u(i)):this.eventManager.addEventListener(e,t,$u(i))}}function Ll(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Xo extends Fa{constructor(e,t,i,r){super(e),this.component=i;const s=Jo(r+"-"+i.id,i.styles,[]);t.addStyles(s),this.contentAttr=function Qo(n){return"_ngcontent-%COMP%".replace(Gr,n)}(r+"-"+i.id),this.hostAttr=function Fl(n){return"_nghost-%COMP%".replace(Gr,n)}(r+"-"+i.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}class mg extends Fa{constructor(e,t,i,r){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=Jo(r.id,r.styles,[]);for(let u=0;u<s.length;u++){const h=document.createElement("style");h.textContent=s[u],this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Gu=(()=>{class n extends eo{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(de))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Os=["alt","control","meta","shift"],X_={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Gn={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let md=(()=>{class n extends eo{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const s=n.parseEventName(i),u=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>L().onAndCancel(t,s.domEventName,u))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let u="",h=i.indexOf("code");if(h>-1&&(i.splice(h,1),u="code."),Os.forEach(y=>{const I=i.indexOf(y);I>-1&&(i.splice(I,1),u+=y+".")}),u+=s,0!=i.length||0===s.length)return null;const g={};return g.domEventName=r,g.fullKey=u,g}static matchEventFullKeyCode(t,i){let r=X_[t.key]||t.key,s="";return i.indexOf("code.")>-1&&(r=t.code,s="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),Os.forEach(u=>{u!==r&&(0,Gn[u])(t)&&(s+=u+".")}),s+=r,s===i)}static eventCallback(t,i,r){return s=>{n.matchEventFullKeyCode(s,t)&&r.runGuarded(()=>i(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(de))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const qu=(0,l.eFA)(l._c5,"browser",[{provide:l.Lbi,useValue:"browser"},{provide:l.g9A,useValue:function ea(){hd.makeCurrent()},multi:!0},{provide:de,useFactory:function La(){return(0,l.RDi)(document),document},deps:[]}]),Bl=new l.OlP(""),bn=[{provide:l.rWj,useClass:class Nl{addToWindow(e){l.dqk.getAngularTestability=(i,r=!0)=>{const s=e.findTestabilityInTree(i,r);if(null==s)throw new Error("Could not find testability for element.");return s},l.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),l.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),l.dqk.frameworkStabilizers||(l.dqk.frameworkStabilizers=[]),l.dqk.frameworkStabilizers.push(i=>{const r=l.dqk.getAllAngularTestabilities();let s=r.length,u=!1;const h=function(g){u=u||g,s--,0==s&&i(u)};r.forEach(function(g){g.whenStable(h)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?L().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:l.lri,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]},{provide:l.dDg,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]}],_d=[{provide:l.zSh,useValue:"root"},{provide:l.qLn,useFactory:function Qi(){return new l.qLn},deps:[]},{provide:xs,useClass:Gu,multi:!0,deps:[de,l.R0b,l.Lbi]},{provide:xs,useClass:md,multi:!0,deps:[de]},{provide:Ra,useClass:Ra,deps:[kl,Ms,l.AFp]},{provide:l.FYo,useExisting:Ra},{provide:Ko,useExisting:Ms},{provide:Ms,useClass:Ms,deps:[de]},{provide:kl,useClass:kl,deps:[xs,l.R0b]},{provide:Il,useClass:pg,deps:[]},[]];let Zu=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:l.AFp,useValue:t.appId},{provide:Na,useExisting:l.AFp},fd]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Bl,12))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[..._d,...bn],imports:[Io,l.hGG]}),n})(),Cg=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(de))},n.\u0275prov=l.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function wg(){return new Cg((0,l.LFG)(de))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;const Ba=new l.OlP("HammerGestureConfig");let uf=(()=>{class n{constructor(){this.events=[],this.overrides={}}buildHammer(t){const i=new Hammer(t,this.options);i.get("pinch").set({enable:!0}),i.get("rotate").set({enable:!0});for(const r in this.overrides)i.get(r).set(this.overrides[r]);return i}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Do=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(t){let i=null;return i=t?new(t||n):l.LFG(zl),i},providedIn:"root"}),n})(),zl=(()=>{class n extends Do{constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case l.q3G.NONE:return i;case l.q3G.HTML:return(0,l.qzn)(i,"HTML")?(0,l.z3N)(i):(0,l.EiD)(this._doc,String(i)).toString();case l.q3G.STYLE:return(0,l.qzn)(i,"Style")?(0,l.z3N)(i):i;case l.q3G.SCRIPT:if((0,l.qzn)(i,"Script"))return(0,l.z3N)(i);throw new Error("unsafe value used in a script context");case l.q3G.URL:return(0,l.qzn)(i,"URL")?(0,l.z3N)(i):(0,l.mCW)(String(i));case l.q3G.RESOURCE_URL:if((0,l.qzn)(i,"ResourceURL"))return(0,l.z3N)(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,l.JVY)(t)}bypassSecurityTrustStyle(t){return(0,l.L6k)(t)}bypassSecurityTrustScript(t){return(0,l.eBb)(t)}bypassSecurityTrustUrl(t){return(0,l.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,l.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(de))},n.\u0275prov=l.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function Cd(n){return new zl(n.get(de))}(l.LFG(l.zs3)),i},providedIn:"root"}),n})();var wn=R(8996),qr=R(3269);function wt(...n){const e=(0,qr.yG)(n);return(0,wn.D)(n,e)}var Kn=R(7579);class ri extends Kn.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}const Hl=(0,R(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Cr=R(9751);const{isArray:tc}=Array,{getPrototypeOf:jl,prototype:ta,keys:hr}=Object;function nc(n){if(1===n.length){const e=n[0];if(tc(e))return{args:e,keys:null};if(function hi(n){return n&&"object"==typeof n&&jl(n)===ta}(e)){const t=hr(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}var na=R(4671),mt=R(4004);const{isArray:cf}=Array;function $l(n){return(0,mt.U)(e=>function ia(n,e){return cf(e)?n(...e):n(e)}(n,e))}function ic(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}var Mn=R(5403),df=R(9672);function So(...n){const e=(0,qr.yG)(n),t=(0,qr.jO)(n),{args:i,keys:r}=nc(n);if(0===i.length)return(0,wn.D)([],e);const s=new Cr.y(function Ed(n,e,t=na.y){return i=>{ra(e,()=>{const{length:r}=n,s=new Array(r);let u=r,h=r;for(let g=0;g<r;g++)ra(e,()=>{const y=(0,wn.D)(n[g],e);let I=!1;y.subscribe((0,Mn.x)(i,S=>{s[g]=S,I||(I=!0,h--),h||i.next(t(s.slice()))},()=>{--u||i.complete()}))},i)},i)}}(i,e,r?u=>ic(r,u):na.y));return t?s.pipe($l(t)):s}function ra(n,e,t){n?(0,df.f)(t,n,e):e()}var Ua=R(8189);function io(...n){return function Ig(){return(0,Ua.J)(1)}()((0,wn.D)(n,(0,qr.yG)(n)))}var cs=R(8421);function Gl(n){return new Cr.y(e=>{(0,cs.Xf)(n()).subscribe(e)})}var hf=R(9635),Ns=R(576);function Zr(n,e){const t=(0,Ns.m)(n)?n:()=>n,i=r=>r.error(t());return new Cr.y(e?r=>e.schedule(i,0,r):i)}var ds=R(515),bd=R(727),fi=R(4482);function rc(){return(0,fi.e)((n,e)=>{let t=null;n._refCount++;const i=(0,Mn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,s=t;t=null,r&&(!s||r===s)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class Tg extends Cr.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,fi.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new bd.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Mn.x)(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=bd.w0.EMPTY)}return e}refCount(){return rc()(this)}}function Ci(n,e){return(0,fi.e)((t,i)=>{let r=null,s=0,u=!1;const h=()=>u&&!r&&i.complete();t.subscribe((0,Mn.x)(i,g=>{r?.unsubscribe();let y=0;const I=s++;(0,cs.Xf)(n(g,I)).subscribe(r=(0,Mn.x)(i,S=>i.next(e?e(g,S,I,y++):S),()=>{r=null,h()}))},()=>{u=!0,h()}))})}function Wl(n){return n<=0?()=>ds.E:(0,fi.e)((e,t)=>{let i=0;e.subscribe((0,Mn.x)(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function sa(...n){const e=(0,qr.yG)(n);return(0,fi.e)((t,i)=>{(e?io(n,t,e):io(n,t)).subscribe(i)})}function Ji(n,e){return(0,fi.e)((t,i)=>{let r=0;t.subscribe((0,Mn.x)(i,s=>n.call(e,s,r++)&&i.next(s)))})}var pi=R(5577);function Ao(n){return(0,fi.e)((e,t)=>{let i=!1;e.subscribe((0,Mn.x)(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function za(n=sc){return(0,fi.e)((e,t)=>{let i=!1;e.subscribe((0,Mn.x)(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function sc(){return new Hl}function hs(n,e){const t=arguments.length>=2;return i=>i.pipe(n?Ji((r,s)=>n(r,s,i)):na.y,Wl(1),t?Ao(e):za(()=>new Hl))}function Kr(n,e){return(0,Ns.m)(e)?(0,pi.z)(n,e,1):(0,pi.z)(n,1)}var Ai=R(8505);function ks(n){return(0,fi.e)((e,t)=>{let s,i=null,r=!1;i=e.subscribe((0,Mn.x)(t,void 0,void 0,u=>{s=(0,cs.Xf)(n(u,ks(n)(e))),i?(i.unsubscribe(),i=null,s.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(t))})}function Dg(n,e,t,i,r){return(s,u)=>{let h=t,g=e,y=0;s.subscribe((0,Mn.x)(u,I=>{const S=y++;g=h?n(g,I,S):(h=!0,I),i&&u.next(g)},r&&(()=>{h&&u.next(g),u.complete()})))}}function Rs(n,e){return(0,fi.e)(Dg(n,e,arguments.length>=2,!0))}function Sg(n){return n<=0?()=>ds.E:(0,fi.e)((e,t)=>{let i=[];e.subscribe((0,Mn.x)(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function Ag(n,e){const t=arguments.length>=2;return i=>i.pipe(n?Ji((r,s)=>n(r,s,i)):na.y,Sg(1),t?Ao(e):za(()=>new Hl))}function Td(n){return(0,fi.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Jt="primary",ql=Symbol("RouteTitle");class Ha{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function ro(n){return new Ha(n)}function xo(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const u=i[s],h=n[s];if(u.startsWith(":"))r[u.substring(1)]=h;else if(u!==h.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Fs(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let s=0;s<t.length;s++)if(r=t[s],!oc(n[r],e[r]))return!1;return!0}function oc(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,s)=>i[s]===r)}return n===e}function Dd(n){return Array.prototype.concat.apply([],n)}function fs(n){return n.length>0?n[n.length-1]:null}function E(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function T(n){return(0,l.CqO)(n)?n:(0,l.QGY)(n)?(0,wn.D)(Promise.resolve(n)):wt(n)}const M=!1,K={exact:function qe(n,e,t){if(!$i(n.segments,e.segments)||!Xi(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!qe(n.children[i],e.children[i],t))return!1;return!0},subset:Ct},X={exact:function Qe(n,e){return Fs(n,e)},subset:function _t(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>oc(n[t],e[t]))},ignored:()=>!0};function ge(n,e,t){return K[t.paths](n.root,e.root,t.matrixParams)&&X[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Ct(n,e,t){return Vt(n,e,e.segments,t)}function Vt(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!$i(r,t)||e.hasChildren()||!Xi(r,t,i))}if(n.segments.length===t.length){if(!$i(n.segments,t)||!Xi(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!Ct(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!($i(n.segments,r)&&Xi(n.segments,r,i)&&n.children[Jt])&&Vt(n.children[Jt],e,s,i)}}function Xi(n,e,t){return e.every((i,r)=>X[t](n[r].parameters,i.parameters))}class Dn{constructor(e,t,i){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ro(this.queryParams)),this._queryParamMap}toString(){return ny.serialize(this)}}class Dt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,E(t,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return xg(this)}}class ps{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=ro(this.parameters)),this._parameterMap}toString(){return iy(this)}}function $i(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}let ac=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return new Sd},providedIn:"root"}),n})();class Sd{parse(e){const t=new xd(e);return new Dn(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${ja(e.root,!0)}`,i=function dw(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${Zl(t)}=${Zl(r)}`).join("&"):`${Zl(t)}=${Zl(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function pf(n){return encodeURI(n)}(e.fragment)}`:""}`}}const ny=new Sd;function xg(n){return n.segments.map(e=>iy(e)).join("/")}function ja(n,e){if(!n.hasChildren())return xg(n);if(e){const t=n.children[Jt]?ja(n.children[Jt],!1):"",i=[];return E(n.children,(r,s)=>{s!==Jt&&i.push(`${s}:${ja(r,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function so(n,e){let t=[];return E(n.children,(i,r)=>{r===Jt&&(t=t.concat(e(i,r)))}),E(n.children,(i,r)=>{r!==Jt&&(t=t.concat(e(i,r)))}),t}(n,(i,r)=>r===Jt?[ja(n.children[Jt],!1)]:[`${r}:${ja(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Jt]?`${xg(n)}/${t[0]}`:`${xg(n)}/(${t.join("//")})`}}function Mg(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Zl(n){return Mg(n).replace(/%3B/gi,";")}function lc(n){return Mg(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function gf(n){return decodeURIComponent(n)}function Pg(n){return gf(n.replace(/\+/g,"%20"))}function iy(n){return`${lc(n.path)}${function Ad(n){return Object.keys(n).map(e=>`;${lc(e)}=${lc(n[e])}`).join("")}(n.parameters)}`}const ry=/^[^\/()?;=#]+/;function uc(n){const e=n.match(ry);return e?e[0]:""}const sy=/^[^=?&#]+/,iI=/^[^&#]+/;class xd{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Dt([],{}):new Dt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[Jt]=new Dt(e,t)),i}parseSegment(){const e=uc(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new l.vHH(4009,M);return this.capture(e),new ps(gf(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=uc(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=uc(this.remaining);r&&(i=r,this.capture(i))}e[gf(t)]=gf(i)}parseQueryParam(e){const t=function $a(n){const e=n.match(sy);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const u=function cc(n){const e=n.match(iI);return e?e[0]:""}(this.remaining);u&&(i=u,this.capture(i))}const r=Pg(t),s=Pg(i);if(e.hasOwnProperty(r)){let u=e[r];Array.isArray(u)||(u=[u],e[r]=u),u.push(s)}else e[r]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=uc(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new l.vHH(4010,M);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=Jt);const u=this.parseChildren();t[s]=1===Object.keys(u).length?u[Jt]:new Dt([],u),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new l.vHH(4011,M)}}function mf(n){return n.segments.length>0?new Dt([],{[Jt]:n}):n}function dc(n){const e={};for(const i of Object.keys(n.children)){const s=dc(n.children[i]);(s.segments.length>0||s.hasChildren())&&(e[i]=s)}return function Og(n){if(1===n.numberOfChildren&&n.children[Jt]){const e=n.children[Jt];return new Dt(n.segments.concat(e.segments),e.children)}return n}(new Dt(n.segments,e))}function Kl(n){return n instanceof Dn}function fw(n,e,t,i,r){if(0===t.length)return Ql(e.root,e.root,e.root,i,r);const s=function yf(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new kg(!0,0,n);let e=0,t=!1;const i=n.reduce((r,s,u)=>{if("object"==typeof s&&null!=s){if(s.outlets){const h={};return E(s.outlets,(g,y)=>{h[y]="string"==typeof g?g.split("/"):g}),[...r,{outlets:h}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===u?(s.split("/").forEach((h,g)=>{0==g&&"."===h||(0==g&&""===h?t=!0:".."===h?e++:""!=h&&r.push(h))}),r):[...r,s]},[]);return new kg(t,e,i)}(t);return s.toRoot()?Ql(e.root,e.root,new Dt([],{}),i,r):function u(g){const y=function aa(n,e,t,i){if(n.isAbsolute)return new Jl(e.root,!0,0);if(-1===i)return new Jl(t,t===e.root,0);return function Pd(n,e,t){let i=n,r=e,s=t;for(;s>r;){if(s-=r,i=i.parent,!i)throw new l.vHH(4005,!1);r=i.segments.length}return new Jl(i,!1,r-s)}(t,i+(hc(n.commands[0])?0:1),n.numberOfDoubleDots)}(s,e,n.snapshot?._urlSegment,g),I=y.processChildren?Xl(y.segmentGroup,y.index,s.commands):Rg(y.segmentGroup,y.index,s.commands);return Ql(e.root,y.segmentGroup,I,i,r)}(n.snapshot?._lastPathIndex)}function hc(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Yl(n){return"object"==typeof n&&null!=n&&n.outlets}function Ql(n,e,t,i,r){let u,s={};i&&E(i,(g,y)=>{s[y]=Array.isArray(g)?g.map(I=>`${I}`):`${g}`}),u=n===e?t:_f(n,e,t);const h=mf(dc(u));return new Dn(h,s,r)}function _f(n,e,t){const i={};return E(n.children,(r,s)=>{i[s]=r===e?t:_f(r,e,t)}),new Dt(n.segments,i)}class kg{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&hc(i[0]))throw new l.vHH(4003,!1);const r=i.find(Yl);if(r&&r!==fs(i))throw new l.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Jl{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function Rg(n,e,t){if(n||(n=new Dt([],{})),0===n.segments.length&&n.hasChildren())return Xl(n,e,t);const i=function vf(n,e,t){let i=0,r=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return s;const u=n.segments[r],h=t[i];if(Yl(h))break;const g=`${h}`,y=i<t.length-1?t[i+1]:null;if(r>0&&void 0===g)break;if(g&&y&&"object"==typeof y&&void 0===y.outlets){if(!Lg(g,y,u))return s;i+=2}else{if(!Lg(g,{},u))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new Dt(n.segments.slice(0,i.pathIndex),{});return s.children[Jt]=new Dt(n.segments.slice(i.pathIndex),n.children),Xl(s,0,r)}return i.match&&0===r.length?new Dt(n.segments,{}):i.match&&!n.hasChildren()?Fg(n,e,t):i.match?Xl(n,0,r):Fg(n,e,t)}function Xl(n,e,t){if(0===t.length)return new Dt(n.segments,{});{const i=function ay(n){return Yl(n[0])?n[0].outlets:{[Jt]:n}}(t),r={};return E(i,(s,u)=>{"string"==typeof s&&(s=[s]),null!==s&&(r[u]=Rg(n.children[u],e,s))}),E(n.children,(s,u)=>{void 0===i[u]&&(r[u]=s)}),new Dt(n.segments,r)}}function Fg(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const s=t[r];if(Yl(s)){const g=ly(s.outlets);return new Dt(i,g)}if(0===r&&hc(t[0])){i.push(new ps(n.segments[e].path,wf(t[0]))),r++;continue}const u=Yl(s)?s.outlets[Jt]:`${s}`,h=r<t.length-1?t[r+1]:null;u&&h&&hc(h)?(i.push(new ps(u,wf(h))),r+=2):(i.push(new ps(u,{})),r++)}return new Dt(i,{})}function ly(n){const e={};return E(n,(t,i)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[i]=Fg(new Dt([],{}),0,t))}),e}function wf(n){const e={};return E(n,(t,i)=>e[i]=`${t}`),e}function Lg(n,e,t){return n==t.path&&Fs(e,t.parameters)}class oo{constructor(e,t){this.id=e,this.url=t}}class Cf extends oo{constructor(e,t,i="imperative",r=null){super(e,t),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Po extends oo{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ao extends oo{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Vg extends oo{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ef extends oo{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Bg extends oo{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ug extends oo{constructor(e,t,i,r,s){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Od extends oo{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pw extends oo{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zg{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Hg{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class jg{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $g{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Gg{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fc{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bf{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class pc{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=If(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=If(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=uy(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return uy(e,this._root).map(t=>t.value)}}function If(n,e){if(n===e.value)return e;for(const t of e.children){const i=If(n,t);if(i)return i}return null}function uy(n,e){if(n===e.value)return[e];for(const t of e.children){const i=uy(n,t);if(i.length)return i.unshift(e),i}return[]}class lo{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Oo(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class cy extends pc{constructor(e,t){super(e),this.snapshot=t,Af(this,e)}toString(){return this.snapshot.toString()}}function Tf(n,e){const t=function Df(n,e){const u=new Nd([],{},{},"",{},Jt,e,null,n.root,-1,{});return new Ga("",new lo(u,[]))}(n,e),i=new ri([new ps("",{})]),r=new ri({}),s=new ri({}),u=new ri({}),h=new ri(""),g=new er(i,r,u,h,s,Jt,e,t.root);return g.snapshot=t.root,new cy(new lo(g,[]),t)}class er{constructor(e,t,i,r,s,u,h,g){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=u,this.component=h,this.title=this.data?.pipe((0,mt.U)(y=>y[ql]))??wt(void 0),this._futureSnapshot=g}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,mt.U)(e=>ro(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,mt.U)(e=>ro(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Sf(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],s=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function dy(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(i))}class Nd{constructor(e,t,i,r,s,u,h,g,y,I,S,P){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=u,this.component=h,this.title=this.data?.[ql],this.routeConfig=g,this._urlSegment=y,this._lastPathIndex=I,this._correctedLastPathIndex=P??I,this._resolve=S}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ro(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ro(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ga extends pc{constructor(e,t){super(t),this.url=e,Af(this,t)}toString(){return Rr(this._root)}}function Af(n,e){e.value._routerState=n,e.children.forEach(t=>Af(n,t))}function Rr(n){const e=n.children.length>0?` { ${n.children.map(Rr).join(", ")} } `:"";return`${n.value}${e}`}function kd(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Fs(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Fs(e.params,t.params)||n.params.next(t.params),function ff(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Fs(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Fs(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Rd(n,e){const t=Fs(n.params,e.params)&&function Mo(n,e){return $i(n,e)&&n.every((t,i)=>Fs(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Rd(n.parent,e.parent))}function xi(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function No(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return xi(n,i,r);return xi(n,i)})}(n,e,t);return new lo(i,r)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const u=s.route;return u.value._futureSnapshot=e.value,u.children=e.children.map(h=>xi(n,h)),u}}const i=function hy(n){return new er(new ri(n.url),new ri(n.params),new ri(n.queryParams),new ri(n.fragment),new ri(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(s=>xi(n,s));return new lo(i,r)}}const xf="ngNavigationCancelingError";function fy(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=Kl(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=Mf(!1,0,e);return r.url=t,r.navigationBehaviorOptions=i,r}function Mf(n,e,t){const i=new Error("NavigationCancelingError: "+(n||""));return i[xf]=!0,i.cancellationCode=e,t&&(i.url=t),i}function py(n){return gy(n)&&Kl(n.url)}function gy(n){return n&&n[xf]}class my{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Fd,this.attachRef=null}}let Fd=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new my,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const v=!1;let p=(()=>{class n{constructor(t,i,r,s,u){this.parentContexts=t,this.location=i,this.changeDetector=s,this.environmentInjector=u,this.activated=null,this._activatedRoute=null,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.attachEvents=new l.vpe,this.detachEvents=new l.vpe,this.name=r||Jt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new l.vHH(4012,v);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new l.vHH(4012,v);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new l.vHH(4012,v);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new l.vHH(4013,v);this._activatedRoute=t;const r=this.location,u=t._futureSnapshot.component,h=this.parentContexts.getOrCreateContext(this.name).children,g=new m(t,h,r.injector);if(i&&function C(n){return!!n.resolveComponentFactory}(i)){const y=i.resolveComponentFactory(u);this.activated=r.createComponent(y,r.length,g)}else this.activated=r.createComponent(u,{index:r.length,injector:g,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Fd),l.Y36(l.s_b),l.$8M("name"),l.Y36(l.sBO),l.Y36(l.lqb))},n.\u0275dir=l.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class m{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===er?this.route:e===Fd?this.childContexts:this.parent.get(e,t)}}let A=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[l.jDz],decls:1,vars:0,template:function(t,i){1&t&&l._UZ(0,"router-outlet")},dependencies:[p],encapsulation:2}),n})();function O(n,e){return n.providers&&!n._injector&&(n._injector=(0,l.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Ld(n){const e=n.children&&n.children.map(Ld),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Jt&&(t.component=A),t}function Ls(n){return n.outlet||Jt}function Vd(n,e){const t=n.filter(i=>Ls(i)===e);return t.push(...n.filter(i=>Ls(i)!==e)),t}function gc(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class Wg{constructor(e,t,i,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),kd(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=Oo(t);e.children.forEach(s=>{const u=s.value.outlet;this.deactivateRoutes(s,r[u],i),delete r[u]}),E(r,(s,u)=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(r===s)if(r.component){const u=i.getContext(r.outlet);u&&this.deactivateChildRoutes(e,t,u.children)}else this.deactivateChildRoutes(e,t,i);else s&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=Oo(e);for(const u of Object.keys(s))this.deactivateRouteAndItsChildren(s[u],r);if(i&&i.outlet){const u=i.outlet.detach(),h=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:u,route:e,contexts:h})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=Oo(e);for(const u of Object.keys(s))this.deactivateRouteAndItsChildren(s[u],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(e,t,i){const r=Oo(t);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new fc(s.value.snapshot))}),e.children.length&&this.forwardEvent(new $g(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(kd(r),r===s)if(r.component){const u=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,u.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const u=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const h=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),u.children.onOutletReAttached(h.contexts),u.attachRef=h.componentRef,u.route=h.route.value,u.outlet&&u.outlet.attach(h.componentRef,h.route.value),kd(h.route.value),this.activateChildRoutes(e,null,u.children)}else{const h=gc(r.snapshot),g=h?.get(l._Vd)??null;u.attachRef=null,u.route=r,u.resolver=g,u.injector=h,u.outlet&&u.outlet.activateWith(r,u.injector),this.activateChildRoutes(e,null,u.children)}}else this.activateChildRoutes(e,null,i)}}class qg{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class mc{constructor(e,t){this.component=e,this.route=t}}function _c(n,e,t){const i=n._root;return eu(i,e?e._root:null,t,[i.value])}function Wa(n,e){const t=Symbol(),i=e.get(n,t);return i===t?"function"!=typeof n||(0,l.Z0I)(n)?e.get(n):n:i}function eu(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=Oo(e);return n.children.forEach(u=>{(function Mi(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,u=e?e.value:null,h=t?t.getContext(n.value.outlet):null;if(u&&s.routeConfig===u.routeConfig){const g=function sI(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!$i(n.url,e.url);case"pathParamsOrQueryParamsChange":return!$i(n.url,e.url)||!Fs(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Rd(n,e)||!Fs(n.queryParams,e.queryParams);default:return!Rd(n,e)}}(u,s,s.routeConfig.runGuardsAndResolvers);g?r.canActivateChecks.push(new qg(i)):(s.data=u.data,s._resolvedData=u._resolvedData),eu(n,e,s.component?h?h.children:null:t,i,r),g&&h&&h.outlet&&h.outlet.isActivated&&r.canDeactivateChecks.push(new mc(h.outlet.component,u))}else u&&Kg(e,h,r),r.canActivateChecks.push(new qg(i)),eu(n,null,s.component?h?h.children:null:t,i,r)})(u,s[u.value.outlet],t,i.concat([u.value]),r),delete s[u.value.outlet]}),E(s,(u,h)=>Kg(u,t.getContext(h),r)),r}function Kg(n,e,t){const i=Oo(n),r=n.value;E(i,(s,u)=>{Kg(s,r.component?e?e.children.getContext(u):null:e,t)}),t.canDeactivateChecks.push(new mc(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function Bd(n){return"function"==typeof n}function Ud(n){return n instanceof Hl||"EmptyError"===n?.name}const Pf=Symbol("INITIAL_VALUE");function zd(){return Ci(n=>So(n.map(e=>e.pipe(Wl(1),sa(Pf)))).pipe((0,mt.U)(e=>{for(const t of e)if(!0!==t){if(t===Pf)return Pf;if(!1===t||t instanceof Dn)return t}return!0}),Ji(e=>e!==Pf),Wl(1)))}function yw(n){return(0,hf.z)((0,Ai.b)(e=>{if(Kl(e))throw fy(0,e)}),(0,mt.U)(e=>!0===e))}const tu={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function hI(n,e,t,i,r){const s=Yg(n,e,t);return s.matched?function dI(n,e,t,i){const r=e.canMatch;return r&&0!==r.length?wt(r.map(u=>{const h=Wa(u,n);return T(function rx(n){return n&&Bd(n.canMatch)}(h)?h.canMatch(e,t):n.runInContext(()=>h(e,t)))})).pipe(zd(),yw()):wt(!0)}(i=O(e,i),e,t).pipe((0,mt.U)(u=>!0===u?s:{...tu})):wt(s)}function Yg(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...tu}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(e.matcher||xo)(t,n,e);if(!r)return{...tu};const s={};E(r.posParams,(h,g)=>{s[g]=h.path});const u=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:u,positionalParamSegments:r.posParams??{}}}function Hd(n,e,t,i,r="corrected"){if(t.length>0&&function yy(n,e,t){return t.some(i=>Qg(n,e,i)&&Ls(i)!==Jt)}(n,t,i)){const u=new Dt(e,function vw(n,e,t,i){const r={};r[Jt]=i,i._sourceSegment=n,i._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&Ls(s)!==Jt){const u=new Dt([],{});u._sourceSegment=n,u._segmentIndexShift=e.length,r[Ls(s)]=u}return r}(n,e,i,new Dt(t,n.children)));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:[]}}if(0===t.length&&function jd(n,e,t){return t.some(i=>Qg(n,e,i))}(n,t,i)){const u=new Dt(n.segments,function ax(n,e,t,i,r,s){const u={};for(const h of i)if(Qg(n,t,h)&&!r[Ls(h)]){const g=new Dt([],{});g._sourceSegment=n,g._segmentIndexShift="legacy"===s?n.segments.length:e.length,u[Ls(h)]=g}return{...r,...u}}(n,e,t,i,n.children,r));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}const s=new Dt(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}function Qg(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function vy(n,e,t,i){return!!(Ls(n)===i||i!==Jt&&Qg(e,t,n))&&("**"===n.path||Yg(e,n,t).matched)}function fI(n,e,t){return 0===e.length&&!n.children[t]}const wy=!1;class Jg{constructor(e){this.segmentGroup=e||null}}class $d{constructor(e){this.urlTree=e}}function Xg(n){return Zr(new Jg(n))}function pI(n){return Zr(new $d(n))}class cx{constructor(e,t,i,r,s){this.injector=e,this.configLoader=t,this.urlSerializer=i,this.urlTree=r,this.config=s,this.allowRedirects=!0}apply(){const e=Hd(this.urlTree.root,[],[],this.config).segmentGroup,t=new Dt(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,Jt).pipe((0,mt.U)(s=>this.createUrlTree(dc(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ks(s=>{if(s instanceof $d)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Jg?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,Jt).pipe((0,mt.U)(r=>this.createUrlTree(dc(r),e.queryParams,e.fragment))).pipe(ks(r=>{throw r instanceof Jg?this.noMatchError(r):r}))}noMatchError(e){return new l.vHH(4002,wy)}createUrlTree(e,t,i){const r=mf(e);return new Dn(r,t,i)}expandSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,t,i).pipe((0,mt.U)(s=>new Dt([],s))):this.expandSegment(e,i,t,i.segments,r,!0)}expandChildren(e,t,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return(0,wn.D)(r).pipe(Kr(s=>{const u=i.children[s],h=Vd(t,s);return this.expandSegmentGroup(e,h,u,s).pipe((0,mt.U)(g=>({segment:g,outlet:s})))}),Rs((s,u)=>(s[u.outlet]=u.segment,s),{}),Ag())}expandSegment(e,t,i,r,s,u){return(0,wn.D)(i).pipe(Kr(h=>this.expandSegmentAgainstRoute(e,t,i,h,r,s,u).pipe(ks(y=>{if(y instanceof Jg)return wt(null);throw y}))),hs(h=>!!h),ks((h,g)=>{if(Ud(h))return fI(t,r,s)?wt(new Dt([],{})):Xg(t);throw h}))}expandSegmentAgainstRoute(e,t,i,r,s,u,h){return vy(r,t,s,u)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,s,u):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,u):Xg(t):Xg(t)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,u){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,u):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const s=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?pI(s):this.lineralizeSegments(i,s).pipe((0,pi.z)(u=>{const h=new Dt(u,{});return this.expandSegment(e,h,t,u,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,u){const{matched:h,consumedSegments:g,remainingSegments:y,positionalParamSegments:I}=Yg(t,r,s);if(!h)return Xg(t);const S=this.applyRedirectCommands(g,r.redirectTo,I);return r.redirectTo.startsWith("/")?pI(S):this.lineralizeSegments(r,S).pipe((0,pi.z)(P=>this.expandSegment(e,t,i,P.concat(y),u,!1)))}matchSegmentAgainstRoute(e,t,i,r,s){return"**"===i.path?(e=O(i,e),i.loadChildren?(i._loadedRoutes?wt({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(e,i)).pipe((0,mt.U)(h=>(i._loadedRoutes=h.routes,i._loadedInjector=h.injector,new Dt(r,{})))):wt(new Dt(r,{}))):hI(t,i,r,e).pipe(Ci(({matched:u,consumedSegments:h,remainingSegments:g})=>u?this.getChildConfig(e=i._injector??e,i,r).pipe((0,pi.z)(I=>{const S=I.injector??e,P=I.routes,{segmentGroup:k,slicedSegments:U}=Hd(t,h,g,P),J=new Dt(k.segments,k.children);if(0===U.length&&J.hasChildren())return this.expandChildren(S,P,J).pipe((0,mt.U)(st=>new Dt(h,st)));if(0===P.length&&0===U.length)return wt(new Dt(h,{}));const ue=Ls(i)===s;return this.expandSegment(S,J,P,U,ue?Jt:s,!0).pipe((0,mt.U)(Ye=>new Dt(h.concat(Ye.segments),Ye.children)))})):Xg(t)))}getChildConfig(e,t,i){return t.children?wt({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?wt({routes:t._loadedRoutes,injector:t._loadedInjector}):function _w(n,e,t,i){const r=e.canLoad;return void 0===r||0===r.length?wt(!0):wt(r.map(u=>{const h=Wa(u,n);return T(function ex(n){return n&&Bd(n.canLoad)}(h)?h.canLoad(e,t):n.runInContext(()=>h(e,t)))})).pipe(zd(),yw())}(e,t,i).pipe((0,pi.z)(r=>r?this.configLoader.loadChildren(e,t).pipe((0,Ai.b)(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function ux(n){return Zr(Mf(wy,3))}())):wt({routes:[],injector:e})}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return wt(i);if(r.numberOfChildren>1||!r.children[Jt])return Zr(new l.vHH(4e3,wy));r=r.children[Jt]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreateUrlTree(e,t,i,r){const s=this.createSegmentGroup(e,t.root,i,r);return new Dn(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return E(e,(r,s)=>{if("string"==typeof r&&r.startsWith(":")){const h=r.substring(1);i[s]=t[h]}else i[s]=r}),i}createSegmentGroup(e,t,i,r){const s=this.createSegments(e,t.segments,i,r);let u={};return E(t.children,(h,g)=>{u[g]=this.createSegmentGroup(e,h,i,r)}),new Dt(s,u)}createSegments(e,t,i,r){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,r):this.findOrReturn(s,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new l.vHH(4001,wy);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}class mI{}class em{constructor(e,t,i,r,s,u,h,g){this.injector=e,this.rootComponentType=t,this.config=i,this.urlTree=r,this.url=s,this.paramsInheritanceStrategy=u,this.relativeLinkResolution=h,this.urlSerializer=g}recognize(){const e=Hd(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Jt).pipe((0,mt.U)(t=>{if(null===t)return null;const i=new Nd([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Jt,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new lo(i,t),s=new Ga(this.url,r);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(e){const t=e.value,i=Sf(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r)}processChildren(e,t,i){return(0,wn.D)(Object.keys(i.children)).pipe(Kr(r=>{const s=i.children[r],u=Vd(t,r);return this.processSegmentGroup(e,u,s,r)}),Rs((r,s)=>r&&s?(r.push(...s),r):null),function Id(n,e=!1){return(0,fi.e)((t,i)=>{let r=0;t.subscribe((0,Mn.x)(i,s=>{const u=n(s,r++);(u||e)&&i.next(s),!u&&i.complete()}))})}(r=>null!==r),Ao(null),Ag(),(0,mt.U)(r=>{if(null===r)return null;const s=_I(r);return function hx(n){n.sort((e,t)=>e.value.outlet===Jt?-1:t.value.outlet===Jt?1:e.value.outlet.localeCompare(t.value.outlet))}(s),s}))}processSegment(e,t,i,r,s){return(0,wn.D)(t).pipe(Kr(u=>this.processSegmentAgainstRoute(u._injector??e,u,i,r,s)),hs(u=>!!u),ks(u=>{if(Ud(u))return fI(i,r,s)?wt([]):wt(null);throw u}))}processSegmentAgainstRoute(e,t,i,r,s){if(t.redirectTo||!vy(t,i,r,s))return wt(null);let u;if("**"===t.path){const h=r.length>0?fs(r).parameters:{},g=yI(i)+r.length;u=wt({snapshot:new Nd(r,h,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,wI(t),Ls(t),t.component??t._loadedComponent??null,t,Cw(i),g,Ew(t),g),consumedSegments:[],remainingSegments:[]})}else u=hI(i,t,r,e).pipe((0,mt.U)(({matched:h,consumedSegments:g,remainingSegments:y,parameters:I})=>{if(!h)return null;const S=yI(i)+g.length;return{snapshot:new Nd(g,I,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,wI(t),Ls(t),t.component??t._loadedComponent??null,t,Cw(i),S,Ew(t),S),consumedSegments:g,remainingSegments:y}}));return u.pipe(Ci(h=>{if(null===h)return wt(null);const{snapshot:g,consumedSegments:y,remainingSegments:I}=h;e=t._injector??e;const S=t._loadedInjector??e,P=function Of(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:k,slicedSegments:U}=Hd(i,y,I,P.filter(ue=>void 0===ue.redirectTo),this.relativeLinkResolution);if(0===U.length&&k.hasChildren())return this.processChildren(S,P,k).pipe((0,mt.U)(ue=>null===ue?null:[new lo(g,ue)]));if(0===P.length&&0===U.length)return wt([new lo(g,[])]);const J=Ls(t)===s;return this.processSegment(S,P,k,U,J?Jt:s).pipe((0,mt.U)(ue=>null===ue?null:[new lo(g,ue)]))}))}}function tm(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function _I(n){const e=[],t=new Set;for(const i of n){if(!tm(i)){e.push(i);continue}const r=e.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=_I(i.children);e.push(new lo(i.value,r))}return e.filter(i=>!t.has(i))}function Cw(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function yI(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function wI(n){return n.data||{}}function Ew(n){return n.resolve||{}}function EI(n){return"string"==typeof n.title||null===n.title}function Dw(n){return Ci(e=>{const t=n(e);return t?(0,wn.D)(t).pipe((0,mt.U)(()=>e)):wt(e)})}let bI=(()=>{class n{buildTitle(t){let i,r=t.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===Jt);return i}getResolvedTitleForRoute(t){return t.data[ql]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(II)},providedIn:"root"}),n})(),II=(()=>{class n extends bI{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Cg))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class gx{}class Nf extends class mx{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Ey=new l.OlP("",{providedIn:"root",factory:()=>({})}),DI=new l.OlP("ROUTES");let SI=(()=>{class n{constructor(t,i){this.injector=t,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return wt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=T(t.loadComponent()).pipe((0,Ai.b)(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),Td(()=>{this.componentLoaders.delete(t)})),r=new Tg(i,()=>new Kn.x).pipe(rc());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return wt({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,mt.U)(h=>{this.onLoadEndListener&&this.onLoadEndListener(i);let g,y,I=!1;Array.isArray(h)?y=h:(g=h.create(t).injector,y=Dd(g.get(DI,[],l.XFs.Self|l.XFs.Optional)));return{routes:y.map(Ld),injector:g}}),Td(()=>{this.childrenLoaders.delete(i)})),u=new Tg(s,()=>new Kn.x).pipe(rc());return this.childrenLoaders.set(i,u),u}loadModuleFactoryOrRoutes(t){return T(t()).pipe((0,pi.z)(i=>i instanceof l.YKP||Array.isArray(i)?wt(i):(0,wn.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.zs3),l.LFG(l.Sil))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class AI{}class eR{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function tR(n){throw n}function xI(n,e,t){return e.parse("/")}const _x={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},MI={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function PI(){const n=(0,l.f3M)(ac),e=(0,l.f3M)(Fd),t=(0,l.f3M)(Ve),i=(0,l.f3M)(l.zs3),r=(0,l.f3M)(l.Sil),s=(0,l.f3M)(DI,{optional:!0})??[],u=(0,l.f3M)(Ey,{optional:!0})??{},h=(0,l.f3M)(II),g=(0,l.f3M)(bI,{optional:!0}),y=(0,l.f3M)(AI,{optional:!0}),I=(0,l.f3M)(gx,{optional:!0}),S=new Ln(null,n,e,t,i,r,Dd(s));return y&&(S.urlHandlingStrategy=y),I&&(S.routeReuseStrategy=I),S.titleStrategy=g??h,function yx(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(u,S),S}let Ln=(()=>{class n{constructor(t,i,r,s,u,h,g){this.rootComponentType=t,this.urlSerializer=i,this.rootContexts=r,this.location=s,this.config=g,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Kn.x,this.errorHandler=tR,this.malformedUriErrorHandler=xI,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>wt(void 0),this.urlHandlingStrategy=new eR,this.routeReuseStrategy=new Nf,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=u.get(SI),this.configLoader.onLoadEndListener=P=>this.triggerEvent(new Hg(P)),this.configLoader.onLoadStartListener=P=>this.triggerEvent(new zg(P)),this.ngModule=u.get(l.h0i),this.console=u.get(l.c2e);const S=u.get(l.R0b);this.isNgZoneEnabled=S instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(g),this.currentUrlTree=function V(){return new Dn(new Dt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Tf(this.currentUrlTree,this.rootComponentType),this.transitions=new ri({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const i=this.events;return t.pipe(Ji(r=>0!==r.id),(0,mt.U)(r=>({...r,extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),Ci(r=>{let s=!1,u=!1;return wt(r).pipe((0,Ai.b)(h=>{this.currentNavigation={id:h.id,initialUrl:h.rawUrl,extractedUrl:h.extractedUrl,trigger:h.source,extras:h.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Ci(h=>{const g=this.browserUrlTree.toString(),y=!this.navigated||h.extractedUrl.toString()!==g||g!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||y)&&this.urlHandlingStrategy.shouldProcessUrl(h.rawUrl))return Sw(h.source)&&(this.browserUrlTree=h.extractedUrl),wt(h).pipe(Ci(S=>{const P=this.transitions.getValue();return i.next(new Cf(S.id,this.serializeUrl(S.extractedUrl),S.source,S.restoredState)),P!==this.transitions.getValue()?ds.E:Promise.resolve(S)}),function gI(n,e,t,i){return Ci(r=>function ww(n,e,t,i,r){return new cx(n,e,t,i,r).apply()}(n,e,t,r.extractedUrl,i).pipe((0,mt.U)(s=>({...r,urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Ai.b)(S=>{this.currentNavigation={...this.currentNavigation,finalUrl:S.urlAfterRedirects},r.urlAfterRedirects=S.urlAfterRedirects}),function CI(n,e,t,i,r,s){return(0,pi.z)(u=>function dx(n,e,t,i,r,s,u="emptyOnly",h="legacy"){return new em(n,e,t,i,r,u,h,s).recognize().pipe(Ci(g=>null===g?function Jk(n){return new Cr.y(e=>e.error(n))}(new mI):wt(g)))}(n,e,t,u.urlAfterRedirects,i.serialize(u.urlAfterRedirects),i,r,s).pipe((0,mt.U)(h=>({...u,targetSnapshot:h}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Ai.b)(S=>{if(r.targetSnapshot=S.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!S.extras.skipLocationChange){const k=this.urlHandlingStrategy.merge(S.urlAfterRedirects,S.rawUrl);this.setBrowserUrl(k,S)}this.browserUrlTree=S.urlAfterRedirects}const P=new Ef(S.id,this.serializeUrl(S.extractedUrl),this.serializeUrl(S.urlAfterRedirects),S.targetSnapshot);i.next(P)}));if(y&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:P,extractedUrl:k,source:U,restoredState:J,extras:ue}=h,Re=new Cf(P,this.serializeUrl(k),U,J);i.next(Re);const Ye=Tf(k,this.rootComponentType).snapshot;return wt(r={...h,targetSnapshot:Ye,urlAfterRedirects:k,extras:{...ue,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=h.rawUrl,h.resolve(null),ds.E}),(0,Ai.b)(h=>{const g=new Bg(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);this.triggerEvent(g)}),(0,mt.U)(h=>r={...h,guards:_c(h.targetSnapshot,h.currentSnapshot,this.rootContexts)}),function aI(n,e){return(0,pi.z)(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:u}}=t;return 0===u.length&&0===s.length?wt({...t,guardsResult:!0}):function lI(n,e,t,i){return(0,wn.D)(n).pipe((0,pi.z)(r=>function ox(n,e,t,i,r){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?wt(s.map(h=>{const g=gc(e)??r,y=Wa(h,g);return T(function ix(n){return n&&Bd(n.canDeactivate)}(y)?y.canDeactivate(n,e,t,i):g.runInContext(()=>y(n,e,t,i))).pipe(hs())})).pipe(zd()):wt(!0)}(r.component,r.route,t,e,i)),hs(r=>!0!==r,!0))}(u,i,r,n).pipe((0,pi.z)(h=>h&&function oI(n){return"boolean"==typeof n}(h)?function sx(n,e,t,i){return(0,wn.D)(e).pipe(Kr(r=>io(function cI(n,e){return null!==n&&e&&e(new jg(n)),wt(!0)}(r.route.parent,i),function uI(n,e){return null!==n&&e&&e(new Gg(n)),wt(!0)}(r.route,i),function Qk(n,e,t){const i=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(u=>function Zg(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(u)).filter(u=>null!==u).map(u=>Gl(()=>wt(u.guards.map(g=>{const y=gc(u.node)??t,I=Wa(g,y);return T(function nx(n){return n&&Bd(n.canActivateChild)}(I)?I.canActivateChild(i,n):y.runInContext(()=>I(i,n))).pipe(hs())})).pipe(zd())));return wt(s).pipe(zd())}(n,r.path,t),function mw(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return wt(!0);const r=i.map(s=>Gl(()=>{const u=gc(e)??t,h=Wa(s,u);return T(function tx(n){return n&&Bd(n.canActivate)}(h)?h.canActivate(e,n):u.runInContext(()=>h(e,n))).pipe(hs())}));return wt(r).pipe(zd())}(n,r.route,t))),hs(r=>!0!==r,!0))}(i,s,n,e):wt(h)),(0,mt.U)(h=>({...t,guardsResult:h})))})}(this.ngModule.injector,h=>this.triggerEvent(h)),(0,Ai.b)(h=>{if(r.guardsResult=h.guardsResult,Kl(h.guardsResult))throw fy(0,h.guardsResult);const g=new Ug(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot,!!h.guardsResult);this.triggerEvent(g)}),Ji(h=>!!h.guardsResult||(this.restoreHistory(h),this.cancelNavigationTransition(h,"",3),!1)),Dw(h=>{if(h.guards.canActivateChecks.length)return wt(h).pipe((0,Ai.b)(g=>{const y=new Od(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);this.triggerEvent(y)}),Ci(g=>{let y=!1;return wt(g).pipe(function bw(n,e){return(0,pi.z)(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return wt(t);let s=0;return(0,wn.D)(r).pipe(Kr(u=>function Iw(n,e,t,i){const r=n.routeConfig,s=n._resolve;return void 0!==r?.title&&!EI(r)&&(s[ql]=r.title),function fx(n,e,t,i){const r=function Tw(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return wt({});const s={};return(0,wn.D)(r).pipe((0,pi.z)(u=>function nm(n,e,t,i){const r=gc(e)??i,s=Wa(n,r);return T(s.resolve?s.resolve(e,t):r.runInContext(()=>s(e,t)))}(n[u],e,t,i).pipe(hs(),(0,Ai.b)(h=>{s[u]=h}))),Sg(1),function oa(n){return(0,mt.U)(()=>n)}(s),ks(u=>Ud(u)?ds.E:Zr(u)))}(s,n,e,i).pipe((0,mt.U)(u=>(n._resolvedData=u,n.data=Sf(n,t).resolve,r&&EI(r)&&(n.data[ql]=r.title),null)))}(u.route,i,n,e)),(0,Ai.b)(()=>s++),Sg(1),(0,pi.z)(u=>s===r.length?wt(t):ds.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Ai.b)({next:()=>y=!0,complete:()=>{y||(this.restoreHistory(g),this.cancelNavigationTransition(g,"",2))}}))}),(0,Ai.b)(g=>{const y=new pw(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);this.triggerEvent(y)}))}),Dw(h=>{const g=y=>{const I=[];y.routeConfig?.loadComponent&&!y.routeConfig._loadedComponent&&I.push(this.configLoader.loadComponent(y.routeConfig).pipe((0,Ai.b)(S=>{y.component=S}),(0,mt.U)(()=>{})));for(const S of y.children)I.push(...g(S));return I};return So(g(h.targetSnapshot.root)).pipe(Ao(),Wl(1))}),Dw(()=>this.afterPreactivation()),(0,mt.U)(h=>{const g=function gw(n,e,t){const i=xi(n,e._root,t?t._root:void 0);return new cy(i,e)}(this.routeReuseStrategy,h.targetSnapshot,h.currentRouterState);return r={...h,targetRouterState:g}}),(0,Ai.b)(h=>{this.currentUrlTree=h.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(h.urlAfterRedirects,h.rawUrl),this.routerState=h.targetRouterState,"deferred"===this.urlUpdateStrategy&&(h.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,h),this.browserUrlTree=h.urlAfterRedirects)}),((n,e,t)=>(0,mt.U)(i=>(new Wg(e,i.targetRouterState,i.currentRouterState,t).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,h=>this.triggerEvent(h)),(0,Ai.b)({next(){s=!0},complete(){s=!0}}),Td(()=>{s||u||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),ks(h=>{if(u=!0,gy(h)){py(h)||(this.navigated=!0,this.restoreHistory(r,!0));const g=new ao(r.id,this.serializeUrl(r.extractedUrl),h.message,h.cancellationCode);if(i.next(g),py(h)){const y=this.urlHandlingStrategy.merge(h.url,this.rawUrlTree),I={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Sw(r.source)};this.scheduleNavigation(y,"imperative",null,I,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{this.restoreHistory(r,!0);const g=new Vg(r.id,this.serializeUrl(r.extractedUrl),h,r.targetSnapshot??void 0);i.next(g);try{r.resolve(this.errorHandler(h))}catch(y){r.reject(y)}}return ds.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{const r={replaceUrl:!0},s=t.state?.navigationId?t.state:null;if(s){const h={...s};delete h.navigationId,delete h.\u0275routerPageId,0!==Object.keys(h).length&&(r.state=h)}const u=this.parseUrl(t.url);this.scheduleNavigation(u,i,s,r)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(Ld),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:r,queryParams:s,fragment:u,queryParamsHandling:h,preserveFragment:g}=i,y=r||this.routerState.root,I=g?this.currentUrlTree.fragment:u;let S=null;switch(h){case"merge":S={...this.currentUrlTree.queryParams,...s};break;case"preserve":S=this.currentUrlTree.queryParams;break;default:S=s||null}return null!==S&&(S=this.removeEmptyProps(S)),fw(y,this.currentUrlTree,t,S,I??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=Kl(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,i)}navigate(t,i={skipLocationChange:!1}){return function vx(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new l.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?{..._x}:!1===i?{...MI}:i,Kl(t))return ge(this.currentUrlTree,t,r);const s=this.parseUrl(t);return ge(this.currentUrlTree,s,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const s=t[r];return null!=s&&(i[r]=s),i},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Po(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,i,r,s,u){if(this.disposed)return Promise.resolve(!1);let h,g,y;u?(h=u.resolve,g=u.reject,y=u.promise):y=new Promise((P,k)=>{h=P,g=k});const I=++this.navigationId;let S;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),S=r&&r.\u0275routerPageId?r.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):S=0,this.setTransition({id:I,targetPageId:S,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:s,resolve:h,reject:g,promise:y,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),y.catch(P=>Promise.reject(P))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t),s={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",s):this.location.go(r,"",s)}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===r?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===r&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,i,r){const s=new ao(t.id,this.serializeUrl(t.extractedUrl),i,r);this.triggerEvent(s),t.resolve(!1)}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return n.\u0275fac=function(t){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:function(){return PI()},providedIn:"root"}),n})();function Sw(n){return"imperative"!==n}let Gd=(()=>{class n{constructor(t,i,r){this.router=t,this.route=i,this.locationStrategy=r,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new Kn.x,this.subscription=t.events.subscribe(s=>{s instanceof Po&&this.updateTargetUrlAndHref()})}set preserveFragment(t){this._preserveFragment=(0,l.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,l.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,l.D6c)(t)}get replaceUrl(){return this._replaceUrl}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,i,r,s,u){return!!(0!==t||i||r||s||u||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Ln),l.Y36(er),l.Y36(Ie))},n.\u0275dir=l.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,i){1&t&&l.NdJ("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&t&&l.uIk("target",i.target)("href",i.href,l.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[l.TTD]}),n})();class xw{}let Ex=(()=>{class n{constructor(t,i,r,s,u){this.router=t,this.injector=r,this.preloadingStrategy=s,this.loader=u}setUpPreloading(){this.subscription=this.router.events.pipe(Ji(t=>t instanceof Po),Kr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const s of i){s.providers&&!s._injector&&(s._injector=(0,l.MMx)(s.providers,t,`Route: ${s.path}`));const u=s._injector??t,h=s._loadedInjector??u;s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent?r.push(this.preloadConfig(u,s)):(s.children||s._loadedRoutes)&&r.push(this.processRoutes(h,s.children??s._loadedRoutes))}return(0,wn.D)(r).pipe((0,Ua.J)())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):wt(null);const s=r.pipe((0,pi.z)(u=>null===u?wt(void 0):(i._loadedRoutes=u.routes,i._loadedInjector=u.injector,this.processRoutes(u.injector??t,u.routes))));if(i.loadComponent&&!i._loadedComponent){const u=this.loader.loadComponent(i);return(0,wn.D)([s,u]).pipe((0,Ua.J)())}return s})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Ln),l.LFG(l.Sil),l.LFG(l.lqb),l.LFG(xw),l.LFG(SI))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const $t=new l.OlP("");let Mw=(()=>{class n{constructor(t,i,r={}){this.router=t,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Cf?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Po&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof bf&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.router.triggerEvent(new bf(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function kf(n,e){return{\u0275kind:n,\u0275providers:e}}function by(n){return[{provide:DI,multi:!0,useValue:n}]}function Pw(){const n=(0,l.f3M)(l.zs3);return e=>{const t=n.get(l.z2F);if(e!==t.components[0])return;const i=n.get(Ln),r=n.get(NI);1===n.get(Ow)&&i.initialNavigation(),n.get(yc,null,l.XFs.Optional)?.setUpPreloading(),n.get($t,null,l.XFs.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.unsubscribe())}}const NI=new l.OlP("",{factory:()=>new Kn.x}),Ow=new l.OlP("",{providedIn:"root",factory:()=>1});const yc=new l.OlP("");function Ix(n){return kf(0,[{provide:yc,useExisting:Ex},{provide:xw,useExisting:n}])}const Tx=new l.OlP("ROUTER_FORROOT_GUARD"),aR=[Ve,{provide:ac,useClass:Sd},{provide:Ln,useFactory:PI},Fd,{provide:er,useFactory:function OI(n){return n.routerState.root},deps:[Ln]},SI];function lR(){return new l.PXZ("Router",Ln)}let LI=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[aR,[],by(t),{provide:Tx,useFactory:Ff,deps:[[Ln,new l.FiY,new l.tp0]]},{provide:Ey,useValue:i||{}},i?.useHash?{provide:Ie,useClass:Tt}:{provide:Ie,useClass:gt},{provide:$t,useFactory:()=>{const n=(0,l.f3M)(Ln),e=(0,l.f3M)(Ys),t=(0,l.f3M)(Ey);return t.scrollOffset&&e.setOffset(t.scrollOffset),new Mw(n,e,t)}},i?.preloadingStrategy?Ix(i.preloadingStrategy).\u0275providers:[],{provide:l.PXZ,multi:!0,useFactory:lR},i?.initialNavigation?Sx(i):[],[{provide:Nw,useFactory:Pw},{provide:l.tb,multi:!0,useExisting:Nw}]]}}static forChild(t){return{ngModule:n,providers:[by(t)]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Tx,8))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[A]}),n})();function Ff(n){return"guarded"}function Sx(n){return["disabled"===n.initialNavigation?kf(3,[{provide:l.ip1,multi:!0,useFactory:()=>{const e=(0,l.f3M)(Ln);return()=>{e.setUpLocationChangeListener()}}},{provide:Ow,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?kf(2,[{provide:Ow,useValue:0},{provide:l.ip1,multi:!0,deps:[l.zs3],useFactory:e=>{const t=e.get(j,Promise.resolve());let i=!1;return()=>t.then(()=>new Promise(s=>{const u=e.get(Ln),h=e.get(NI);(function r(s){e.get(Ln).events.pipe(Ji(h=>h instanceof Po||h instanceof ao||h instanceof Vg),(0,mt.U)(h=>h instanceof Po||h instanceof ao&&(0===h.code||1===h.code)&&null),Ji(h=>null!==h),Wl(1)).subscribe(()=>{s()})})(()=>{s(!0),i=!0}),u.afterPreactivation=()=>(s(!0),i||h.closed?wt(void 0):h),u.initialNavigation()}))}}]).\u0275providers:[]]}const Nw=new l.OlP("");var Se=R(5861),sm=R(4986),gi=R(710);function kw(){return(0,fi.e)((n,e)=>{let t,i=!1;n.subscribe((0,Mn.x)(e,r=>{const s=t;t=r,i&&e.next([s,r]),i=!0}))})}function BI(n,e=na.y){return n=n??Ax,(0,fi.e)((t,i)=>{let r,s=!0;t.subscribe((0,Mn.x)(i,u=>{const h=e(u);(s||!n(r,h))&&(s=!1,r=h,i.next(u))}))})}function Ax(n,e){return n===e}var tt,Yr=R(2011),la=(R(8463),R(6101),R(9752),R(4859)),qa=R(1877),F=R(2090),xx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Za={},Ty=Ty||{},Gt=xx||self;function Wd(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function ms(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Fw="closure_uid_"+(1e9*Math.random()>>>0),Lw=0;function ru(n,e,t){return n.call.apply(n.bind,arguments)}function Vw(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function Fr(n,e,t){return(Fr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ru:Vw).apply(null,arguments)}function Lf(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function su(){this.s=this.s,this.o=this.o}su.prototype.s=!1,su.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function UI(n){Object.prototype.hasOwnProperty.call(n,Fw)&&n[Fw]||(n[Fw]=++Lw)}(this)},su.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const om=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function Vf(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function Dy(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(Wd(i)){const r=n.length||0,s=i.length||0;n.length=r+s;for(let u=0;u<s;u++)n[r+u]=i[u]}else n.push(i)}}function Er(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Er.prototype.h=function(){this.defaultPrevented=!0};var Bw=function(){if(!Gt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Gt.addEventListener("test",()=>{},e),Gt.removeEventListener("test",()=>{},e)}catch{}return n}();function Sy(n){return/^[\s\xa0]*$/.test(n)}function Ay(){var n=Gt.navigator;return n&&(n=n.userAgent)?n:""}function Ka(n){return-1!=Ay().indexOf(n)}function Uw(n){return Uw[" "](n),n}Uw[" "]=function(){};var lm,zI=Ka("Opera"),am=Ka("Trident")||Ka("MSIE"),HI=Ka("Edge"),jI=HI||am,zw=Ka("Gecko")&&!(-1!=Ay().toLowerCase().indexOf("webkit")&&!Ka("Edge"))&&!(Ka("Trident")||Ka("MSIE"))&&!Ka("Edge"),$I=-1!=Ay().toLowerCase().indexOf("webkit")&&!Ka("Edge");function GI(){var n=Gt.document;return n?n.documentMode:void 0}e:{var WI="",qI=function(){var n=Ay();return zw?/rv:([^\);]+)(\)|;)/.exec(n):HI?/Edge\/([\d\.]+)/.exec(n):am?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):$I?/WebKit\/(\S+)/.exec(n):zI?/(?:Version)[ \/]?(\S+)/.exec(n):void 0}();if(qI&&(WI=qI?qI[1]:""),am){var ZI=GI();if(null!=ZI&&ZI>parseFloat(WI)){lm=String(ZI);break e}}lm=WI}var fR=Gt.document&&am&&(GI()||parseInt(lm,10))||void 0;function xy(n,e){if(Er.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(zw){e:{try{Uw(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:pR[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&xy.$.h.call(this)}}var pR={2:"touch",3:"pen",4:"mouse"};xy.prototype.h=function(){xy.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var My="closure_listenable_"+(1e6*Math.random()|0),gR=0;function vc(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.la=r,this.key=++gR,this.fa=this.ia=!1}function Bf(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function Hw(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function Py(n){const e={};for(const t in n)e[t]=n[t];return e}const jw="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Oy(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let s=0;s<jw.length;s++)t=jw[s],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function Ny(n){this.src=n,this.g={},this.h=0}function Ya(n,e){var t=e.type;if(t in n.g){var s,i=n.g[t],r=om(i,e);(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(Bf(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function ky(n,e,t,i){for(var r=0;r<n.length;++r){var s=n[r];if(!s.fa&&s.listener==e&&s.capture==!!t&&s.la==i)return r}return-1}Ny.prototype.add=function(n,e,t,i,r){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var u=ky(n,e,i,r);return-1<u?(e=n[u],t||(e.ia=!1)):((e=new vc(e,this.src,s,!!i,r)).ia=t,n.push(e)),e};var $w="closure_lm_"+(1e6*Math.random()|0),Gw={};function Ww(n,e,t,i,r){if(i&&i.once)return um(n,e,t,i,r);if(Array.isArray(e)){for(var s=0;s<e.length;s++)Ww(n,e[s],t,i,r);return null}return t=Fy(t),n&&n[My]?n.O(e,t,ms(i)?!!i.capture:!!i,r):QI(n,e,t,!1,i,r)}function QI(n,e,t,i,r,s){if(!e)throw Error("Invalid event type");var u=ms(r)?!!r.capture:!!r,h=Uf(n);if(h||(n[$w]=h=new Ny(n)),(t=h.add(e,t,i,u,s)).proxy)return t;if(i=function Ox(){const e=qw;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)Bw||(r=u),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(Zd(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function um(n,e,t,i,r){if(Array.isArray(e)){for(var s=0;s<e.length;s++)um(n,e[s],t,i,r);return null}return t=Fy(t),n&&n[My]?n.P(e,t,ms(i)?!!i.capture:!!i,r):QI(n,e,t,!0,i,r)}function qd(n,e,t,i,r){if(Array.isArray(e))for(var s=0;s<e.length;s++)qd(n,e[s],t,i,r);else i=ms(i)?!!i.capture:!!i,t=Fy(t),n&&n[My]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=ky(s=n.g[e],t,i,r))&&(Bf(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=Uf(n))&&(e=n.g[e.toString()],n=-1,e&&(n=ky(e,t,i,r)),(t=-1<n?e[n]:null)&&cm(t))}function cm(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[My])Ya(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(Zd(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=Uf(e))?(Ya(t,n),0==t.h&&(t.src=null,e[$w]=null)):Bf(n)}}}function Zd(n){return n in Gw?Gw[n]:Gw[n]="on"+n}function qw(n,e){if(n.fa)n=!0;else{e=new xy(e,this);var t=n.listener,i=n.la||n.src;n.ia&&cm(n),n=t.call(i,e)}return n}function Uf(n){return(n=n[$w])instanceof Ny?n:null}var Ry="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fy(n){return"function"==typeof n?n:(n[Ry]||(n[Ry]=function(e){return n.handleEvent(e)}),n[Ry])}function tr(){su.call(this),this.i=new Ny(this),this.S=this,this.J=null}function fr(n,e){var t,i=n.J;if(i)for(t=[];i;i=i.J)t.push(i);if(n=n.S,i=e.type||e,"string"==typeof e)e=new Er(e,n);else if(e instanceof Er)e.target=e.target||n;else{var r=e;Oy(e=new Er(i,n),r)}if(r=!0,t)for(var s=t.length-1;0<=s;s--){var u=e.g=t[s];r=dm(u,i,!0,e)&&r}if(r=dm(u=e.g=n,i,!0,e)&&r,r=dm(u,i,!1,e)&&r,t)for(s=0;s<t.length;s++)r=dm(u=e.g=t[s],i,!1,e)&&r}function dm(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,s=0;s<e.length;++s){var u=e[s];if(u&&!u.fa&&u.capture==t){var h=u.listener,g=u.la||u.src;u.ia&&Ya(n.i,u),r=!1!==h.call(g,i)&&r}}return r&&!i.defaultPrevented}tr.prototype[My]=!0,tr.prototype.removeEventListener=function(n,e,t,i){qd(this,n,e,t,i)},tr.prototype.N=function(){if(tr.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)Bf(t[i]);delete n.g[e],n.h--}}this.J=null},tr.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},tr.prototype.P=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var hm=Gt.JSON.stringify;class Nx{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function mR(){var n=Ly;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}class kx{constructor(){this.h=this.g=null}add(e,t){const i=Zw.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}}var Zw=new Nx(()=>new Rx,n=>n.reset());class Rx{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function JI(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function XI(n){Gt.setTimeout(()=>{throw n},0)}let fm,Vr=!1,Ly=new kx,eT=()=>{const n=Gt.Promise.resolve(void 0);fm=()=>{n.then(_R)}};var _R=()=>{for(var n;n=mR();){try{n.h.call(n.g)}catch(t){XI(t)}var e=Zw;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Vr=!1};function Vy(n,e){tr.call(this),this.h=n||1,this.g=e||Gt,this.j=Fr(this.qb,this),this.l=Date.now()}function pm(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function By(n,e,t){if("function"==typeof n)t&&(n=Fr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Fr(n.handleEvent,n)}return 2147483647<Number(e)?-1:Gt.setTimeout(n,e||0)}function tT(n){n.g=By(()=>{n.g=null,n.i&&(n.i=!1,tT(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}(tt=Vy.prototype).ga=!1,tt.T=null,tt.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),fr(this,"tick"),this.ga&&(pm(this),this.start()))}},tt.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},tt.N=function(){Vy.$.N.call(this),pm(this),delete this.g};class Fx extends su{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:tT(this)}N(){super.N(),this.g&&(Gt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function gm(n){su.call(this),this.h=n,this.g={}}var Kw=[];function nT(n,e,t,i){Array.isArray(t)||(t&&(Kw[0]=t.toString()),t=Kw);for(var r=0;r<t.length;r++){var s=Ww(e,t[r],i||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function Yw(n){Hw(n.g,function(e,t){this.g.hasOwnProperty(t)&&cm(e)},n),n.g={}}function Uy(){this.g=!0}function Kd(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Qa(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var u=1;u<r.length;u++)r[u]=""}}}return hm(t)}catch{return e}}(n,t)+(i?" "+i:"")})}gm.prototype.N=function(){gm.$.N.call(this),Yw(this)},gm.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Uy.prototype.Ea=function(){this.g=!1},Uy.prototype.info=function(){};var ou={},rT=null;function zy(){return rT=rT||new tr}function Bx(n){Er.call(this,ou.Ta,n)}function zf(n){const e=zy();fr(e,new Bx(e))}function sT(n,e){Er.call(this,ou.STAT_EVENT,n),this.stat=e}function _s(n){const e=zy();fr(e,new sT(e,n))}function oT(n,e){Er.call(this,ou.Ua,n),this.size=e}function Yd(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Gt.setTimeout(function(){n()},e)}ou.Ta="serverreachability",ou.STAT_EVENT="statevent",ou.Ua="timingevent";var Hy={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},aT={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function mm(){}var Gy,$y={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function _m(){Er.call(this,"d")}function lT(){Er.call(this,"c")}function ym(){}function jf(n,e,t,i){this.l=n,this.j=e,this.m=t,this.W=i||1,this.U=new gm(this),this.P=Jw,this.V=new Vy(n=jI?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Qw}function Qw(){this.i=null,this.g="",this.h=!1}ym.prototype.g=function(){return new XMLHttpRequest},ym.prototype.i=function(){return{}},Gy=new ym;var Jw=45e3,ua={},Qd={};function $f(n,e,t){n.L=1,n.v=Zy(lu(e)),n.s=t,n.S=!0,Gf(n,null)}function Gf(n,e){n.G=Date.now(),vm(n),n.A=lu(n.v);var t=n.A,i=n.W;Array.isArray(i)||(i=[String(i)]),Br(t.i,"t",i),n.C=0,t=n.l.J,n.h=new Qw,n.g=dC(n.l,t?e:null,!n.s),0<n.O&&(n.M=new Fx(Fr(n.Pa,n,n.g),n.O)),nT(n.U,n.g,"readystatechange",n.nb),e=n.I?Py(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),zf(),function Lx(n,e,t,i,r,s){n.info(function(){if(n.g)if(s)for(var u="",h=s.split("&"),g=0;g<h.length;g++){var y=h[g].split("=");if(1<y.length){var I=y[0];y=y[1];var S=I.split("_");u=2<=S.length&&"type"==S[1]?u+(I+"=")+y+"&":u+(I+"=redacted&")}}else u=null;else u=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+u})}(n.j,n.u,n.A,n.m,n.W,n.s)}function uT(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function Wy(n,e,t){let r,i=!0;for(;!n.J&&n.C<t.length;){if(r=cT(n,t),r==Qd){4==e&&(n.o=4,_s(14),i=!1),Kd(n.j,n.m,null,"[Incomplete Response]");break}if(r==ua){n.o=4,_s(15),Kd(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}Kd(n.j,n.m,r,null),Xw(n,r)}uT(n)&&r!=Qd&&r!=ua&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,_s(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),av(e),e.M=!0,_s(11))):(Kd(n.j,n.m,t,"[Invalid Chunked Response]"),Wf(n),wm(n))}function cT(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?Qd:(t=Number(e.substring(t,i)),isNaN(t)?ua:(i+=1)+t>e.length?Qd:(e=e.slice(i,i+t),n.C=i+t,e))}function vm(n){n.Y=Date.now()+n.P,dT(n,n.P)}function dT(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Yd(Fr(n.lb,n),e)}function wc(n){n.B&&(Gt.clearTimeout(n.B),n.B=null)}function wm(n){0==n.l.H||n.J||aC(n.l,n)}function Wf(n){wc(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,pm(n.V),Yw(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function Xw(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||bc(t.i,n)))if(!n.K&&bc(t.i,n)&&3==t.H){try{var i=t.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;sh(t),tp(t)}ov(t),_s(18)}}else t.Fa=r[1],0<t.Fa-t.V&&37500>r[2]&&t.G&&0==t.A&&!t.v&&(t.v=Yd(Fr(t.ib,t),6e3));if(1>=eh(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Tc(t,11)}else if((n.K||t.g==n)&&sh(t),!Sy(e))for(r=t.Ja.g.parse(e),e=0;e<r.length;e++){let y=r[e];if(t.V=y[0],y=y[1],2==t.H)if("c"==y[0]){t.K=y[1],t.pa=y[2];const I=y[3];null!=I&&(t.ra=I,t.l.info("VER="+t.ra));const S=y[4];null!=S&&(t.Ga=S,t.l.info("SVER="+t.Ga));const P=y[5];null!=P&&"number"==typeof P&&0<P&&(t.L=i=1.5*P,t.l.info("backChannelRequestTimeoutMs_="+i)),i=t;const k=n.g;if(k){const U=k.g?k.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(U){var s=i.i;s.g||-1==U.indexOf("spdy")&&-1==U.indexOf("quic")&&-1==U.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(Ic(s,s.h),s.h=null))}if(i.F){const J=k.g?k.g.getResponseHeader("X-HTTP-Session-Id"):null;J&&(i.Da=J,mi(i.I,i.F,J))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var u=n;if((i=t).wa=cC(i,i.J?i.pa:null,i.Y),u.K){th(i.i,u);var h=u,g=i.L;g&&h.setTimeout(g),h.B&&(wc(h),vm(h)),i.g=u}else CT(i);0<t.j.length&&sv(t)}else"stop"!=y[0]&&"close"!=y[0]||Tc(t,7);else 3==t.H&&("stop"==y[0]||"close"==y[0]?"stop"==y[0]?Tc(t,7):rv(t):"noop"!=y[0]&&t.h&&t.h.Aa(y),t.A=0)}zf()}catch{}}function hT(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Wd(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function Ux(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Wd(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function yR(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Wd(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length,s=0;s<r;s++)e.call(void 0,i[s],t&&t[s],n)}(tt=jf.prototype).setTimeout=function(n){this.P=n},tt.nb=function(n){n=n.target;const e=this.M;e&&3==Ja(n)?e.l():this.Pa(n)},tt.Pa=function(n){try{if(n==this.g)e:{const I=Ja(this.g);var e=this.g.Ia();if(this.g.da(),!(3>I)&&(3!=I||jI||this.g&&(this.h.h||this.g.ja()||Sm(this.g)))){this.J||4!=I||7==e||zf(),wc(this);var t=this.g.da();this.ca=t;t:if(uT(this)){var i=Sm(this.g);n="";var r=i.length,s=4==Ja(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Wf(this),wm(this);var u="";break t}this.h.i=new Gt.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:s&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.ja();if(this.i=200==t,function iT(n,e,t,i,r,s,u){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+s+" "+u})}(this.j,this.u,this.A,this.m,this.W,I,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var h,g=this.g;if((h=g.g?g.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Sy(h)){var y=h;break t}}y=null}if(!(t=y)){this.i=!1,this.o=3,_s(12),Wf(this),wm(this);break e}Kd(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Xw(this,t)}this.S?(Wy(this,I,u),jI&&this.i&&3==I&&(nT(this.U,this.V,"tick",this.mb),this.V.start())):(Kd(this.j,this.m,u,null),Xw(this,u)),4==I&&Wf(this),this.i&&!this.J&&(4==I?aC(this.l,this):(this.i=!1,vm(this)))}else(function tv(n){const e={};n=(n.g&&2<=Ja(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<n.length;i++){if(Sy(n[i]))continue;var t=JI(n[i]);const r=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const s=e[r]||[];e[r]=s,s.push(t)}!function YI(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(i){return i.join(", ")})})(this.g),400==t&&0<u.indexOf("Unknown SID")?(this.o=3,_s(12)):(this.o=0,_s(13)),Wf(this),wm(this)}}}catch{}},tt.mb=function(){if(this.g){var n=Ja(this.g),e=this.g.ja();this.C<e.length&&(wc(this),Wy(this,n,e),this.i&&4!=n&&vm(this))}},tt.cancel=function(){this.J=!0,Wf(this)},tt.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function Vx(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(zf(),_s(17)),Wf(this),this.o=2,wm(this)):dT(this,this.Y-n)};var fT=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function au(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof au){this.h=n.h,qf(this,n.j),this.s=n.s,this.g=n.g,qy(this,n.m),this.l=n.l;var e=n.i,t=new Jd;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),gT(this,t),this.o=n.o}else n&&(e=String(n).match(fT))?(this.h=!1,qf(this,e[1]||"",!0),this.s=Cm(e[2]||""),this.g=Cm(e[3]||"",!0),qy(this,e[4]),this.l=Cm(e[5]||"",!0),gT(this,e[6]||"",!0),this.o=Cm(e[7]||"")):(this.h=!1,this.i=new Jd(null,this.h))}function lu(n){return new au(n)}function qf(n,e,t){n.j=t?Cm(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function qy(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function gT(n,e,t){e instanceof Jd?(n.i=e,function Yy(n,e){e&&!n.j&&(Ec(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(ca(this,i),Br(this,r,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Em(e,zx)),n.i=new Jd(e,n.h))}function mi(n,e,t){n.i.set(e,t)}function Zy(n){return mi(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Cm(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Em(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,Ky),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Ky(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}au.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Em(e,Cc,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Em(e,Cc,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Em(t,"/"==t.charAt(0)?bm:vR,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Em(t,Hx)),n.join("")};var Cc=/[#\/\?@]/g,vR=/[#\?:]/g,bm=/[#\?]/g,zx=/[#\?@]/g,Hx=/#/g;function Jd(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Ec(n){n.g||(n.g=new Map,n.h=0,n.i&&function pT(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var s=n[t].substring(0,i);r=n[t].substring(i+1)}else s=n[t];e(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function ca(n,e){Ec(n),e=ko(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function Zf(n,e){return Ec(n),e=ko(n,e),n.g.has(e)}function Br(n,e,t){ca(n,e),0<t.length&&(n.i=null,n.g.set(ko(n,e),Vf(t)),n.h+=t.length)}function ko(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function Qy(n){this.l=n||Kf,n=Gt.PerformanceNavigationTiming?0<(n=Gt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Gt.g&&Gt.g.Ka&&Gt.g.Ka()&&Gt.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(tt=Jd.prototype).add=function(n,e){Ec(this),this.i=null,n=ko(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},tt.forEach=function(n,e){Ec(this),this.g.forEach(function(t,i){t.forEach(function(r){n.call(e,r,i,this)},this)},this)},tt.ta=function(){Ec(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const r=n[i];for(let s=0;s<r.length;s++)t.push(e[i])}return t},tt.Z=function(n){Ec(this);let e=[];if("string"==typeof n)Zf(this,n)&&(e=e.concat(this.g.get(ko(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},tt.set=function(n,e){return Ec(this),this.i=null,Zf(this,n=ko(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},tt.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},tt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const s=encodeURIComponent(String(i)),u=this.Z(i);for(i=0;i<u.length;i++){var r=s;""!==u[i]&&(r+="="+encodeURIComponent(String(u[i]))),n.push(r)}}return this.i=n.join("&")};var n,Kf=10;function Xd(n){return!!n.h||!!n.g&&n.g.size>=n.j}function eh(n){return n.h?1:n.g?n.g.size:0}function bc(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Ic(n,e){n.g?n.g.add(e):n.h=e}function th(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function nh(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return Vf(n.i)}function Qf(){this.g=new class{stringify(n){return Gt.JSON.stringify(n,void 0)}parse(n){return Gt.JSON.parse(n,void 0)}}}function mT(n,e,t){const i=t||"";try{hT(n,function(r,s){let u=r;ms(r)&&(u=hm(r)),e.push(i+s+"="+encodeURIComponent(u))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function Im(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function Jf(n){this.l=n.fc||null,this.j=n.ob||!1}function Tm(n,e){tr.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=Jy,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Qy.prototype.cancel=function(){if(this.i=nh(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Jf.prototype.g=function(){return new Tm(this.l,this.j)},Jf.prototype.i=(n={},function(){return n});var Jy=0;function eC(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Xf(n){n.readyState=4,n.l=null,n.j=null,n.A=null,ep(n)}function ep(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(tt=Tm.prototype).open=function(n,e){if(this.readyState!=Jy)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,ep(this)},tt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||Gt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},tt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Xf(this)),this.readyState=Jy},tt.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,ep(this)),this.g&&(this.readyState=3,ep(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Gt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;eC(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},tt.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Xf(this):ep(this),3==this.readyState&&eC(this)}},tt.Za=function(n){this.g&&(this.response=this.responseText=n,Xf(this))},tt.Ya=function(n){this.g&&(this.response=n,Xf(this))},tt.ka=function(){this.g&&Xf(this)},tt.setRequestHeader=function(n,e){this.v.append(n,e)},tt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},tt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")};var jx=Gt.JSON.parse;function Li(n){tr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=tC,this.L=this.M=!1}var tC="",$x=/^https?$/i,yT=["POST","PUT"];function Xy(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,vT(n),ih(n)}function vT(n){n.F||(n.F=!0,fr(n,"complete"),fr(n,"error"))}function Dm(n){if(n.h&&typeof Ty<"u"&&(!n.C[1]||4!=Ja(n)||2!=n.da()))if(n.v&&4==Ja(n))By(n.La,0,n);else if(fr(n,"readystatechange"),4==Ja(n)){n.h=!1;try{const u=n.da();e:switch(u){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===u){var r=String(n.I).match(fT)[1]||null;!r&&Gt.self&&Gt.self.location&&(r=Gt.self.location.protocol.slice(0,-1)),i=!$x.test(r?r.toLowerCase():"")}t=i}if(t)fr(n,"complete"),fr(n,"success");else{n.m=6;try{var s=2<Ja(n)?n.g.statusText:""}catch{s=""}n.j=s+" ["+n.da()+"]",vT(n)}}finally{ih(n)}}}function ih(n,e){if(n.g){ev(n);const t=n.g,i=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||fr(n,"ready");try{t.onreadystatechange=i}catch{}}}function ev(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Gt.clearTimeout(n.A),n.A=null)}function Ja(n){return n.g?n.g.readyState:0}function Sm(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case tC:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function nv(n){let e="";return Hw(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function iv(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=nv(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):mi(n,e,t))}function rh(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function iC(n){this.Ga=0,this.j=[],this.l=new Uy,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=rh("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=rh("baseRetryDelayMs",5e3,n),this.hb=rh("retryDelaySeedMs",1e4,n),this.eb=rh("forwardChannelMaxRetries",2,n),this.xa=rh("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new Qy(n&&n.concurrentRequestLimit),this.Ja=new Qf,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function rv(n){if(rC(n),3==n.H){var e=n.W++,t=lu(n.I);if(mi(t,"SID",n.K),mi(t,"RID",e),mi(t,"TYPE","terminate"),np(n,t),(e=new jf(n,n.l,e)).L=2,e.v=Zy(lu(t)),t=!1,Gt.navigator&&Gt.navigator.sendBeacon)try{t=Gt.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&Gt.Image&&((new Image).src=e.v,t=!0),t||(e.g=dC(e.l,null),e.g.ha(e.v)),e.G=Date.now(),vm(e)}uC(n)}function tp(n){n.g&&(av(n),n.g.cancel(),n.g=null)}function rC(n){tp(n),n.u&&(Gt.clearTimeout(n.u),n.u=null),sh(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Gt.clearTimeout(n.m),n.m=null)}function sv(n){if(!Xd(n.i)&&!n.m){n.m=!0;var e=n.Na;fm||eT(),Vr||(fm(),Vr=!0),Ly.add(e,n),n.C=0}}function sC(n,e){var t;t=e?e.m:n.W++;const i=lu(n.I);mi(i,"SID",n.K),mi(i,"RID",t),mi(i,"AID",n.V),np(n,i),n.o&&n.s&&iv(i,n.o,n.s),t=new jf(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=oC(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),Ic(n.i,t),$f(t,i,e)}function np(n,e){n.na&&Hw(n.na,function(t,i){mi(e,i,t)}),n.h&&hT({},function(t,i){mi(e,i,t)})}function oC(n,e,t){t=Math.min(n.j.length,t);var i=n.h?Fr(n.h.Va,n.h,n):null;e:{var r=n.j;let s=-1;for(;;){const u=["count="+t];-1==s?0<t?(s=r[0].g,u.push("ofs="+s)):s=0:u.push("ofs="+s);let h=!0;for(let g=0;g<t;g++){let y=r[g].g;const I=r[g].map;if(y-=s,0>y)s=Math.max(0,r[g].g-100),h=!1;else try{mT(I,u,"req"+y+"_")}catch{i&&i(I)}}if(h){i=u.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,i}function CT(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;fm||eT(),Vr||(fm(),Vr=!0),Ly.add(e,n),n.A=0}}function ov(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Yd(Fr(n.Ma,n),lC(n,n.A)),n.A++,0))}function av(n){null!=n.B&&(Gt.clearTimeout(n.B),n.B=null)}function lv(n){n.g=new jf(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=lu(n.wa);mi(e,"RID","rpc"),mi(e,"SID",n.K),mi(e,"AID",n.V),mi(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&mi(e,"TO",n.qa),mi(e,"TYPE","xmlhttp"),np(n,e),n.o&&n.s&&iv(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=Zy(lu(e)),t.s=null,t.S=!0,Gf(t,n)}function sh(n){null!=n.v&&(Gt.clearTimeout(n.v),n.v=null)}function aC(n,e){var t=null;if(n.g==e){sh(n),av(n),n.g=null;var i=2}else{if(!bc(n.i,e))return;t=e.F,th(n.i,e),i=1}if(0!=n.H)if(e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.G;var r=n.C;fr(i=zy(),new oT(i,t)),sv(n)}else CT(n);else if(3==(r=e.o)||0==r&&0<e.ca||!(1==i&&function wT(n,e){return!(eh(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Yd(Fr(n.Na,n,e),lC(n,n.C)),n.C++,0)))}(n,e)||2==i&&ov(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),r){case 1:Tc(n,5);break;case 4:Tc(n,10);break;case 3:Tc(n,6);break;default:Tc(n,2)}}function lC(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function Tc(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var i=Fr(n.pb,n);t||(t=new au("//www.google.com/images/cleardot.gif"),Gt.location&&"http"==Gt.location.protocol||qf(t,"https"),Zy(t)),function _T(n,e){const t=new Uy;if(Gt.Image){const i=new Image;i.onload=Lf(Im,t,i,"TestLoadImage: loaded",!0,e),i.onerror=Lf(Im,t,i,"TestLoadImage: error",!1,e),i.onabort=Lf(Im,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=Lf(Im,t,i,"TestLoadImage: timeout",!1,e),Gt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else _s(2);n.H=0,n.h&&n.h.za(e),uC(n),rC(n)}function uC(n){if(n.H=0,n.ma=[],n.h){const e=nh(n.i);(0!=e.length||0!=n.j.length)&&(Dy(n.ma,e),Dy(n.ma,n.j),n.i.i.length=0,Vf(n.j),n.j.length=0),n.h.ya()}}function cC(n,e,t){var i=t instanceof au?lu(t):new au(t);if(""!=i.g)e&&(i.g=e+"."+i.g),qy(i,i.m);else{var r=Gt.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var s=new au(null);i&&qf(s,i),e&&(s.g=e),r&&qy(s,r),t&&(s.l=t),i=s}return e=n.Da,(t=n.F)&&e&&mi(i,t,e),mi(i,"VER",n.ra),np(n,i),i}function dC(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Li(t&&n.Ha&&!n.va?new Jf({ob:!0}):n.va)).Oa(n.J),e}function Am(){if(am&&!(10<=Number(fR)))throw Error("Environmental error: no available transport.")}function Fo(n,e){tr.call(this),this.g=new iC(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!Sy(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Sy(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new oh(this)}function ET(n){_m.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function bT(){lT.call(this),this.status=1}function oh(n){this.g=n}function Vn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function uv(n,e,t){t||(t=0);var i=Array(16);if("string"==typeof e)for(var r=0;16>r;++r)i[r]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(r=0;16>r;++r)i[r]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var s=n.g[3],u=(e=n.g[0])+(s^(t=n.g[1])&((r=n.g[2])^s))+i[0]+3614090360&4294967295;u=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=t+(u<<7&4294967295|u>>>25))+((u=s+(r^e&(t^r))+i[1]+3905402710&4294967295)<<12&4294967295|u>>>20))+((u=r+(t^s&(e^t))+i[2]+606105819&4294967295)<<17&4294967295|u>>>15))+((u=t+(e^r&(s^e))+i[3]+3250441966&4294967295)<<22&4294967295|u>>>10))+((u=e+(s^t&(r^s))+i[4]+4118548399&4294967295)<<7&4294967295|u>>>25))+((u=s+(r^e&(t^r))+i[5]+1200080426&4294967295)<<12&4294967295|u>>>20))+((u=r+(t^s&(e^t))+i[6]+2821735955&4294967295)<<17&4294967295|u>>>15))+((u=t+(e^r&(s^e))+i[7]+4249261313&4294967295)<<22&4294967295|u>>>10))+((u=e+(s^t&(r^s))+i[8]+1770035416&4294967295)<<7&4294967295|u>>>25))+((u=s+(r^e&(t^r))+i[9]+2336552879&4294967295)<<12&4294967295|u>>>20))+((u=r+(t^s&(e^t))+i[10]+4294925233&4294967295)<<17&4294967295|u>>>15))+((u=t+(e^r&(s^e))+i[11]+2304563134&4294967295)<<22&4294967295|u>>>10))+((u=e+(s^t&(r^s))+i[12]+1804603682&4294967295)<<7&4294967295|u>>>25))+((u=s+(r^e&(t^r))+i[13]+4254626195&4294967295)<<12&4294967295|u>>>20))+((u=r+(t^s&(e^t))+i[14]+2792965006&4294967295)<<17&4294967295|u>>>15))+((u=t+(e^r&(s^e))+i[15]+1236535329&4294967295)<<22&4294967295|u>>>10))+((u=e+(r^s&(t^r))+i[1]+4129170786&4294967295)<<5&4294967295|u>>>27))+((u=s+(t^r&(e^t))+i[6]+3225465664&4294967295)<<9&4294967295|u>>>23))+((u=r+(e^t&(s^e))+i[11]+643717713&4294967295)<<14&4294967295|u>>>18))+((u=t+(s^e&(r^s))+i[0]+3921069994&4294967295)<<20&4294967295|u>>>12))+((u=e+(r^s&(t^r))+i[5]+3593408605&4294967295)<<5&4294967295|u>>>27))+((u=s+(t^r&(e^t))+i[10]+38016083&4294967295)<<9&4294967295|u>>>23))+((u=r+(e^t&(s^e))+i[15]+3634488961&4294967295)<<14&4294967295|u>>>18))+((u=t+(s^e&(r^s))+i[4]+3889429448&4294967295)<<20&4294967295|u>>>12))+((u=e+(r^s&(t^r))+i[9]+568446438&4294967295)<<5&4294967295|u>>>27))+((u=s+(t^r&(e^t))+i[14]+3275163606&4294967295)<<9&4294967295|u>>>23))+((u=r+(e^t&(s^e))+i[3]+4107603335&4294967295)<<14&4294967295|u>>>18))+((u=t+(s^e&(r^s))+i[8]+1163531501&4294967295)<<20&4294967295|u>>>12))+((u=e+(r^s&(t^r))+i[13]+2850285829&4294967295)<<5&4294967295|u>>>27))+((u=s+(t^r&(e^t))+i[2]+4243563512&4294967295)<<9&4294967295|u>>>23))+((u=r+(e^t&(s^e))+i[7]+1735328473&4294967295)<<14&4294967295|u>>>18))+((u=t+(s^e&(r^s))+i[12]+2368359562&4294967295)<<20&4294967295|u>>>12))+((u=e+(t^r^s)+i[5]+4294588738&4294967295)<<4&4294967295|u>>>28))+((u=s+(e^t^r)+i[8]+2272392833&4294967295)<<11&4294967295|u>>>21))+((u=r+(s^e^t)+i[11]+1839030562&4294967295)<<16&4294967295|u>>>16))+((u=t+(r^s^e)+i[14]+4259657740&4294967295)<<23&4294967295|u>>>9))+((u=e+(t^r^s)+i[1]+2763975236&4294967295)<<4&4294967295|u>>>28))+((u=s+(e^t^r)+i[4]+1272893353&4294967295)<<11&4294967295|u>>>21))+((u=r+(s^e^t)+i[7]+4139469664&4294967295)<<16&4294967295|u>>>16))+((u=t+(r^s^e)+i[10]+3200236656&4294967295)<<23&4294967295|u>>>9))+((u=e+(t^r^s)+i[13]+681279174&4294967295)<<4&4294967295|u>>>28))+((u=s+(e^t^r)+i[0]+3936430074&4294967295)<<11&4294967295|u>>>21))+((u=r+(s^e^t)+i[3]+3572445317&4294967295)<<16&4294967295|u>>>16))+((u=t+(r^s^e)+i[6]+76029189&4294967295)<<23&4294967295|u>>>9))+((u=e+(t^r^s)+i[9]+3654602809&4294967295)<<4&4294967295|u>>>28))+((u=s+(e^t^r)+i[12]+3873151461&4294967295)<<11&4294967295|u>>>21))+((u=r+(s^e^t)+i[15]+530742520&4294967295)<<16&4294967295|u>>>16))+((u=t+(r^s^e)+i[2]+3299628645&4294967295)<<23&4294967295|u>>>9))+((u=e+(r^(t|~s))+i[0]+4096336452&4294967295)<<6&4294967295|u>>>26))+((u=s+(t^(e|~r))+i[7]+1126891415&4294967295)<<10&4294967295|u>>>22))+((u=r+(e^(s|~t))+i[14]+2878612391&4294967295)<<15&4294967295|u>>>17))+((u=t+(s^(r|~e))+i[5]+4237533241&4294967295)<<21&4294967295|u>>>11))+((u=e+(r^(t|~s))+i[12]+1700485571&4294967295)<<6&4294967295|u>>>26))+((u=s+(t^(e|~r))+i[3]+2399980690&4294967295)<<10&4294967295|u>>>22))+((u=r+(e^(s|~t))+i[10]+4293915773&4294967295)<<15&4294967295|u>>>17))+((u=t+(s^(r|~e))+i[1]+2240044497&4294967295)<<21&4294967295|u>>>11))+((u=e+(r^(t|~s))+i[8]+1873313359&4294967295)<<6&4294967295|u>>>26))+((u=s+(t^(e|~r))+i[15]+4264355552&4294967295)<<10&4294967295|u>>>22))+((u=r+(e^(s|~t))+i[6]+2734768916&4294967295)<<15&4294967295|u>>>17))+((u=t+(s^(r|~e))+i[13]+1309151649&4294967295)<<21&4294967295|u>>>11))+((s=(e=t+((u=e+(r^(t|~s))+i[4]+4149444226&4294967295)<<6&4294967295|u>>>26))+((u=s+(t^(e|~r))+i[11]+3174756917&4294967295)<<10&4294967295|u>>>22))^((r=s+((u=r+(e^(s|~t))+i[2]+718787259&4294967295)<<15&4294967295|u>>>17))|~e))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(r+(u<<21&4294967295|u>>>11))&4294967295,n.g[2]=n.g[2]+r&4294967295,n.g[3]=n.g[3]+s&4294967295}function Bn(n,e){this.h=e;for(var t=[],i=!0,r=n.length-1;0<=r;r--){var s=0|n[r];i&&s==e||(t[r]=s,i=!1)}this.g=t}(tt=Li.prototype).Oa=function(n){this.M=n},tt.ha=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Gy.g(),this.C=function jy(n){return n.h||(n.h=n.i())}(this.u?this.u:Gy),this.g.onreadystatechange=Fr(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(s){return void Xy(this,s)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)t.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const s of i.keys())t.set(s,i.get(s))}i=Array.from(t.keys()).find(s=>"content-type"==s.toLowerCase()),r=Gt.FormData&&n instanceof Gt.FormData,!(0<=om(yT,e))||i||r||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,u]of t)this.g.setRequestHeader(s,u);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{ev(this),0<this.B&&((this.L=function nC(n){return am&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Fr(this.ua,this)):this.A=By(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){Xy(this,s)}},tt.ua=function(){typeof Ty<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,fr(this,"timeout"),this.abort(8))},tt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,fr(this,"complete"),fr(this,"abort"),ih(this))},tt.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ih(this,!0)),Li.$.N.call(this)},tt.La=function(){this.s||(this.G||this.v||this.l?Dm(this):this.kb())},tt.kb=function(){Dm(this)},tt.isActive=function(){return!!this.g},tt.da=function(){try{return 2<Ja(this)?this.g.status:-1}catch{return-1}},tt.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},tt.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),jx(e)}},tt.Ia=function(){return this.m},tt.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(tt=iC.prototype).ra=8,tt.H=1,tt.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const r=new jf(this,this.l,n);let s=this.s;if(this.U&&(s?(s=Py(s),Oy(s,this.U)):s=this.U),null!==this.o||this.O||(r.I=s,s=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var i=this.j[t];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=oC(this,r,e),mi(t=lu(this.I),"RID",n),mi(t,"CVER",22),this.F&&mi(t,"X-HTTP-Session-Id",this.F),np(this,t),s&&(this.O?e="headers="+encodeURIComponent(String(nv(s)))+"&"+e:this.o&&iv(t,this.o,s)),Ic(this.i,r),this.bb&&mi(t,"TYPE","init"),this.P?(mi(t,"$req",e),mi(t,"SID","null"),r.aa=!0,$f(r,t,null)):$f(r,t,e),this.H=2}}else 3==this.H&&(n?sC(this,n):0==this.j.length||Xd(this.i)||sC(this))},tt.Ma=function(){if(this.u=null,lv(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=Yd(Fr(this.jb,this),n)}},tt.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,_s(10),tp(this),lv(this))},tt.ib=function(){null!=this.v&&(this.v=null,tp(this),ov(this),_s(19))},tt.pb=function(n){n?(this.l.info("Successfully pinged google.com"),_s(2)):(this.l.info("Failed to ping google.com"),_s(1))},tt.isActive=function(){return!!this.h&&this.h.isActive(this)},(tt=function hC(){}.prototype).Ba=function(){},tt.Aa=function(){},tt.za=function(){},tt.ya=function(){},tt.isActive=function(){return!0},tt.Va=function(){},Am.prototype.g=function(n,e){return new Fo(n,e)},Fo.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;_s(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=cC(n,null,n.Y),sv(n)},Fo.prototype.close=function(){rv(this.g)},Fo.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=hm(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&sv(e)},Fo.prototype.N=function(){this.g.h=null,delete this.j,rv(this.g),delete this.g,Fo.$.N.call(this)},oh.prototype.Ba=function(){fr(this.g,"a")},oh.prototype.Aa=function(n){fr(this.g,new ET(n))},oh.prototype.za=function(n){fr(this.g,new bT)},oh.prototype.ya=function(){fr(this.g,"b")},Vn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Vn.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,i=this.m,r=this.h,s=0;s<e;){if(0==r)for(;s<=t;)uv(this,n,s),s+=this.blockSize;if("string"==typeof n){for(;s<e;)if(i[r++]=n.charCodeAt(s++),r==this.blockSize){uv(this,i),r=0;break}}else for(;s<e;)if(i[r++]=n[s++],r==this.blockSize){uv(this,i),r=0;break}}this.h=r,this.i+=e},Vn.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var i=0;32>i;i+=8)n[t++]=this.g[e]>>>i&255;return n};var Wx={};function cv(n){return-128<=n&&128>n?function Mx(n,e){var t=Wx;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new Bn([0|e],0>e?-1:0)}):new Bn([0|n],0>n?-1:0)}function Xa(n){if(isNaN(n)||!isFinite(n))return da;if(0>n)return br(Xa(-n));for(var e=[],t=1,i=0;n>=t;i++)e[i]=n/t|0,t*=dv;return new Bn(e,0)}var dv=4294967296,da=cv(0),pC=cv(1),IT=cv(16777216);function el(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function Lo(n){return-1==n.h}function br(n){for(var e=n.g.length,t=[],i=0;i<e;i++)t[i]=~n.g[i];return new Bn(t,~n.h).add(pC)}function gC(n,e){return n.add(br(e))}function ip(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function ah(n,e){this.g=n,this.h=e}function uo(n,e){if(el(e))throw Error("division by zero");if(el(n))return new ah(da,da);if(Lo(n))return e=uo(br(n),e),new ah(br(e.g),br(e.h));if(Lo(e))return e=uo(n,br(e)),new ah(br(e.g),e.h);if(30<n.g.length){if(Lo(n)||Lo(e))throw Error("slowDivide_ only works with positive integers.");for(var t=pC,i=e;0>=i.X(n);)t=TT(t),i=TT(i);var r=rp(t,1),s=rp(i,1);for(i=rp(i,2),t=rp(t,2);!el(i);){var u=s.add(i);0>=u.X(n)&&(r=r.add(t),s=u),i=rp(i,1),t=rp(t,1)}return e=gC(n,r.R(e)),new ah(r,e)}for(r=da;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),i=48>=(i=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,i-48),u=(s=Xa(t)).R(e);Lo(u)||0<u.X(n);)u=(s=Xa(t-=i)).R(e);el(s)&&(s=pC),r=r.add(s),n=gC(n,u)}return new ah(r,n)}function TT(n){for(var e=n.g.length+1,t=[],i=0;i<e;i++)t[i]=n.D(i)<<1|n.D(i-1)>>>31;return new Bn(t,n.h)}function rp(n,e){var t=e>>5;e%=32;for(var i=n.g.length-t,r=[],s=0;s<i;s++)r[s]=0<e?n.D(s+t)>>>e|n.D(s+t+1)<<32-e:n.D(s+t);return new Bn(r,n.h)}(tt=Bn.prototype).ea=function(){if(Lo(this))return-br(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var i=this.D(t);n+=(0<=i?i:dv+i)*e,e*=dv}return n},tt.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(el(this))return"0";if(Lo(this))return"-"+br(this).toString(n);for(var e=Xa(Math.pow(n,6)),t=this,i="";;){var r=uo(t,e).g,s=((0<(t=gC(t,r.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(el(t=r))return s+i;for(;6>s.length;)s="0"+s;i=s+i}},tt.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},tt.X=function(n){return Lo(n=gC(this,n))?-1:el(n)?0:1},tt.abs=function(){return Lo(this)?br(this):this},tt.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0,r=0;r<=e;r++){var s=i+(65535&this.D(r))+(65535&n.D(r)),u=(s>>>16)+(this.D(r)>>>16)+(n.D(r)>>>16);i=u>>>16,t[r]=(u&=65535)<<16|(s&=65535)}return new Bn(t,-2147483648&t[t.length-1]?-1:0)},tt.R=function(n){if(el(this)||el(n))return da;if(Lo(this))return Lo(n)?br(this).R(br(n)):br(br(this).R(n));if(Lo(n))return br(this.R(br(n)));if(0>this.X(IT)&&0>n.X(IT))return Xa(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],i=0;i<2*e;i++)t[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<n.g.length;r++){var s=this.D(i)>>>16,u=65535&this.D(i),h=n.D(r)>>>16,g=65535&n.D(r);t[2*i+2*r]+=u*g,ip(t,2*i+2*r),t[2*i+2*r+1]+=s*g,ip(t,2*i+2*r+1),t[2*i+2*r+1]+=u*h,ip(t,2*i+2*r+1),t[2*i+2*r+2]+=s*h,ip(t,2*i+2*r+2)}for(i=0;i<e;i++)t[i]=t[2*i+1]<<16|t[2*i];for(i=e;i<2*e;i++)t[i]=0;return new Bn(t,0)},tt.gb=function(n){return uo(this,n).h},tt.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)&n.D(i);return new Bn(t,this.h&n.h)},tt.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)|n.D(i);return new Bn(t,this.h|n.h)},tt.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)^n.D(i);return new Bn(t,this.h^n.h)},Am.prototype.createWebChannel=Am.prototype.g,Fo.prototype.send=Fo.prototype.u,Fo.prototype.open=Fo.prototype.m,Fo.prototype.close=Fo.prototype.close,Hy.NO_ERROR=0,Hy.TIMEOUT=8,Hy.HTTP_ERROR=6,aT.COMPLETE="complete",mm.EventType=$y,$y.OPEN="a",$y.CLOSE="b",$y.ERROR="c",$y.MESSAGE="d",tr.prototype.listen=tr.prototype.O,Li.prototype.listenOnce=Li.prototype.P,Li.prototype.getLastError=Li.prototype.Sa,Li.prototype.getLastErrorCode=Li.prototype.Ia,Li.prototype.getStatus=Li.prototype.da,Li.prototype.getResponseJson=Li.prototype.Wa,Li.prototype.getResponseText=Li.prototype.ja,Li.prototype.send=Li.prototype.ha,Li.prototype.setWithCredentials=Li.prototype.Oa,Vn.prototype.digest=Vn.prototype.l,Vn.prototype.reset=Vn.prototype.reset,Vn.prototype.update=Vn.prototype.j,Bn.prototype.add=Bn.prototype.add,Bn.prototype.multiply=Bn.prototype.R,Bn.prototype.modulo=Bn.prototype.gb,Bn.prototype.compare=Bn.prototype.X,Bn.prototype.toNumber=Bn.prototype.ea,Bn.prototype.toString=Bn.prototype.toString,Bn.prototype.getBits=Bn.prototype.D,Bn.fromNumber=Xa,Bn.fromString=function fC(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return br(fC(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Xa(Math.pow(e,8)),i=da,r=0;r<n.length;r+=8){var s=Math.min(8,n.length-r),u=parseInt(n.substring(r,r+s),e);8>s?(s=Xa(Math.pow(e,s)),i=i.R(s).add(Xa(u))):i=(i=i.R(t)).add(Xa(u))}return i};var tl=Za.createWebChannelTransport=function(){return new Am},ha=Za.getStatEventTarget=function(){return zy()},co=Za.ErrorCode=Hy,DT=Za.EventType=aT,ST=Za.Event=ou,AT=Za.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},qx=Za.FetchXmlHttpFactory=Jf,hv=Za.WebChannel=mm,Zx=Za.XhrIo=Li,mC=Za.Md5=Vn,nl=Za.Integer=Bn;class pr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}pr.UNAUTHENTICATED=new pr(null),pr.GOOGLE_CREDENTIALS=new pr("google-credentials-uid"),pr.FIRST_PARTY=new pr("first-party-uid"),pr.MOCK_USER=new pr("mock-user");let sp="9.23.0";const uu=new qa.Yd("@firebase/firestore");function fv(){return uu.logLevel}function Be(n,...e){if(uu.logLevel<=qa.in.DEBUG){const t=e.map(xm);uu.debug(`Firestore (${sp}): ${n}`,...t)}}function Vi(n,...e){if(uu.logLevel<=qa.in.ERROR){const t=e.map(xm);uu.error(`Firestore (${sp}): ${n}`,...t)}}function ho(n,...e){if(uu.logLevel<=qa.in.WARN){const t=e.map(xm);uu.warn(`Firestore (${sp}): ${n}`,...t)}}function xm(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function ht(n="Unexpected state"){const e=`FIRESTORE (${sp}) INTERNAL ASSERTION FAILED: `+n;throw Vi(e),new Error(e)}function At(n,e){n||ht()}function rt(n,e){return n}const ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ke extends F.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class nr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class PT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(pr.UNAUTHENTICATED))}shutdown(){}}class Kx{constructor(e,t,i){this.h=e,this.l=t,this.m=i,this.type="FirstParty",this.user=pr.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Yx{constructor(e,t,i){this.h=e,this.l=t,this.m=i}getToken(){return Promise.resolve(new Kx(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(pr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}function Jx(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class RT{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=Jx(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<t&&(i+=e.charAt(r[s]%e.length))}return i}}function Wt(n,e){return n<e?-1:n>e?1:0}function op(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}class Ei{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ke(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ke(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ke(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ke(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ei.fromMillis(Date.now())}static fromDate(e){return Ei.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new Ei(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Wt(this.nanoseconds,e.nanoseconds):Wt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Mt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Mt(e)}static min(){return new Mt(new Ei(0,0))}static max(){return new Mt(new Ei(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Mm{constructor(e,t,i){void 0===t?t=0:t>e.length&&ht(),void 0===i?i=e.length-t:i>e.length-t&&ht(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===Mm.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Mm?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const s=e.get(r),u=t.get(r);if(s<u)return-1;if(s>u)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class mn extends Mm{construct(e,t,i){return new mn(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new ke(ce.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new mn(t)}static emptyPath(){return new mn([])}}const Xx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Bi extends Mm{construct(e,t,i){return new Bi(e,t,i)}static isValidIdentifier(e){return Xx.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Bi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Bi(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const s=()=>{if(0===i.length)throw new ke(ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let u=!1;for(;r<e.length;){const h=e[r];if("\\"===h){if(r+1===e.length)throw new ke(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[r+1];if("\\"!==g&&"."!==g&&"`"!==g)throw new ke(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=g,r+=2}else"`"===h?(u=!u,r++):"."!==h||u?(i+=h,r++):(s(),r++)}if(s(),u)throw new ke(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Bi(t)}static emptyPath(){return new Bi([])}}class nt{constructor(e){this.path=e}static fromPath(e){return new nt(mn.fromString(e))}static fromName(e){return new nt(mn.fromString(e).popFirst(5))}static empty(){return new nt(mn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===mn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return mn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new nt(new mn(e.slice()))}}function vC(n){return new Vs(n.readTime,n.key,-1)}class Vs{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Vs(Mt.min(),nt.empty(),-1)}static max(){return new Vs(Mt.max(),nt.empty(),-1)}}function cu(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=nt.comparator(n.documentKey,e.documentKey),0!==t?t:Wt(n.largestBatchId,e.largestBatchId))}const BT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";function fo(n){return zT.apply(this,arguments)}function zT(){return zT=(0,Se.Z)(function*(n){if(n.code!==ce.FAILED_PRECONDITION||n.message!==BT)throw n;Be("LocalStore","Unexpectedly lost primary lease")}),zT.apply(this,arguments)}class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ht(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ae((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(t,s).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ae?t:ae.resolve(t)}catch(t){return ae.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ae.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ae.reject(t)}static resolve(e){return new ae((t,i)=>{t(e)})}static reject(e){return new ae((t,i)=>{i(e)})}static waitFor(e){return new ae((t,i)=>{let r=0,s=0,u=!1;e.forEach(h=>{++r,h.next(()=>{++s,u&&s===r&&t()},g=>i(g))}),u=!0,s===r&&t()})}static or(e){let t=ae.resolve(!1);for(const i of e)t=t.next(r=>r?ae.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,s)=>{i.push(t.call(this,r,s))}),this.waitFor(i)}static mapArray(e,t){return new ae((i,r)=>{const s=e.length,u=new Array(s);let h=0;for(let g=0;g<s;g++){const y=g;t(e[y]).next(I=>{u[y]=I,++h,h===s&&i(u)},I=>r(I))}})}static doWhile(e,t){return new ae((i,r)=>{const s=()=>{!0===e()?t().next(()=>{s()},r):i()};s()})}}function Pt(n){return"IndexedDbTransactionError"===n.name}let Qr=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>i.writeSequenceNumber(r))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function si(n){return null==n}function yv(n){return 0===n&&1/n==-1/0}function YT(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function uh(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function hM(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class _i{constructor(e,t){this.comparator=e,this.root=t||Tr.EMPTY}insert(e,t){return new _i(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Tr.BLACK,null,null))}remove(e){return new _i(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Tr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new DC(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new DC(this.root,e,this.comparator,!1)}getReverseIterator(){return new DC(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new DC(this.root,e,this.comparator,!0)}}class DC{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?i(e.key,t):1,t&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Tr{constructor(e,t,i,r,s){this.key=e,this.value=t,this.color=i??Tr.RED,this.left=r??Tr.EMPTY,this.right=s??Tr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,s){return new Tr(e??this.key,t??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===s?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Tr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Tr.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Tr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Tr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ht();const e=this.left.check();if(e!==this.right.check())throw ht();return e+(this.isRed()?0:1)}}Tr.EMPTY=null,Tr.RED=!0,Tr.BLACK=!1,Tr.EMPTY=new class{constructor(){this.size=0}get key(){throw ht()}get value(){throw ht()}get color(){throw ht()}get left(){throw ht()}get right(){throw ht()}copy(n,e,t,i,r){return this}insert(n,e,t){return new Tr(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Wn{constructor(e){this.comparator=e,this.data=new _i(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new QT(this.data.getIterator())}getIteratorFrom(e){return new QT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Wn)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(0!==this.comparator(r,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Wn(this.comparator);return t.data=e,t}}class QT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ys{constructor(e){this.fields=e,e.sort(Bi.comparator)}static empty(){return new ys([])}unionWith(e){let t=new Wn(Bi.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new ys(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return op(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class up extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class gr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new up("Invalid base64 string: "+r):r}}(e);return new gr(t)}static fromUint8Array(e){const t=function(i){let r="";for(let s=0;s<i.length;++s)r+=String.fromCharCode(i[s]);return r}(e);return new gr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Wt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}gr.EMPTY_BYTE_STRING=new gr("");const pM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ac(n){if(At(!!n),"string"==typeof n){let e=0;const t=pM.exec(n);if(At(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ui(n.seconds),nanos:Ui(n.nanos)}}function Ui(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function il(n){return"string"==typeof n?gr.fromBase64String(n):gr.fromUint8Array(n)}function Cv(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Ev(n){const e=n.mapValue.fields.__previous_value__;return Cv(e)?Ev(e):e}function du(n){const e=Ac(n.mapValue.fields.__local_write_time__.timestampValue);return new Ei(e.seconds,e.nanos)}class gM{constructor(e,t,i,r,s,u,h,g,y){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=g,this.useFetchStreams=y}}class hu{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new hu("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof hu&&e.projectId===this.projectId&&e.database===this.database}}const xc_mapValue={fields:{__type__:{stringValue:"__max__"}}};function Mc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Cv(n)?4:eD(n)?9007199254740991:10:ht()}function pa(n,e){if(n===e)return!0;const t=Mc(n);if(t!==Mc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return du(n).isEqual(du(e));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const s=Ac(i.timestampValue),u=Ac(r.timestampValue);return s.seconds===u.seconds&&s.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return r=e,il(n.bytesValue).isEqual(il(r.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,r){return Ui(i.geoPointValue.latitude)===Ui(r.geoPointValue.latitude)&&Ui(i.geoPointValue.longitude)===Ui(r.geoPointValue.longitude)}(n,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return Ui(i.integerValue)===Ui(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const s=Ui(i.doubleValue),u=Ui(r.doubleValue);return s===u?yv(s)===yv(u):isNaN(s)&&isNaN(u)}return!1}(n,e);case 9:return op(n.arrayValue.values||[],e.arrayValue.values||[],pa);case 10:return function(i,r){const s=i.mapValue.fields||{},u=r.mapValue.fields||{};if(YT(s)!==YT(u))return!1;for(const h in s)if(s.hasOwnProperty(h)&&(void 0===u[h]||!pa(s[h],u[h])))return!1;return!0}(n,e);default:return ht()}var r}function Vm(n,e){return void 0!==(n.values||[]).find(t=>pa(t,e))}function rl(n,e){if(n===e)return 0;const t=Mc(n),i=Mc(e);if(t!==i)return Wt(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Wt(n.booleanValue,e.booleanValue);case 2:return function(r,s){const u=Ui(r.integerValue||r.doubleValue),h=Ui(s.integerValue||s.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1}(n,e);case 3:return JT(n.timestampValue,e.timestampValue);case 4:return JT(du(n),du(e));case 5:return Wt(n.stringValue,e.stringValue);case 6:return function(r,s){const u=il(r),h=il(s);return u.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(r,s){const u=r.split("/"),h=s.split("/");for(let g=0;g<u.length&&g<h.length;g++){const y=Wt(u[g],h[g]);if(0!==y)return y}return Wt(u.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,s){const u=Wt(Ui(r.latitude),Ui(s.latitude));return 0!==u?u:Wt(Ui(r.longitude),Ui(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(r,s){const u=r.values||[],h=s.values||[];for(let g=0;g<u.length&&g<h.length;++g){const y=rl(u[g],h[g]);if(y)return y}return Wt(u.length,h.length)}(n.arrayValue,e.arrayValue);case 10:return function(r,s){if(r===xc_mapValue&&s===xc_mapValue)return 0;if(r===xc_mapValue)return 1;if(s===xc_mapValue)return-1;const u=r.fields||{},h=Object.keys(u),g=s.fields||{},y=Object.keys(g);h.sort(),y.sort();for(let I=0;I<h.length&&I<y.length;++I){const S=Wt(h[I],y[I]);if(0!==S)return S;const P=rl(u[h[I]],g[y[I]]);if(0!==P)return P}return Wt(h.length,y.length)}(n.mapValue,e.mapValue);default:throw ht()}}function JT(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Wt(n,e);const t=Ac(n),i=Ac(e),r=Wt(t.seconds,i.seconds);return 0!==r?r:Wt(t.nanos,i.nanos)}function ch(n){return bv(n)}function bv(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=Ac(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?il(n.bytesValue).toBase64():"referenceValue"in n?nt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let r="[",s=!0;for(const u of i.values||[])s?s=!1:r+=",",r+=bv(u);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let s="{",u=!0;for(const h of r)u?u=!1:s+=",",s+=`${h}:${bv(i.fields[h])}`;return s+"}"}(n.mapValue):ht();var e}function dh(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function SC(n){return!!n&&"integerValue"in n}function hh(n){return!!n&&"arrayValue"in n}function XT(n){return!!n&&"nullValue"in n}function AC(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Tv(n){return!!n&&"mapValue"in n}function Bm(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return uh(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Bm(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Bm(n.arrayValue.values[t]);return e}return Object.assign({},n)}function eD(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class zr{constructor(e){this.value=e}static empty(){return new zr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Tv(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bm(t)}setAll(e){let t=Bi.emptyPath(),i={},r=[];e.forEach((u,h)=>{if(!t.isImmediateParentOf(h)){const g=this.getFieldsMap(t);this.applyChanges(g,i,r),i={},r=[],t=h.popLast()}u?i[h.lastSegment()]=Bm(u):r.push(h.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,i,r)}delete(e){const t=this.field(e.popLast());Tv(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return pa(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];Tv(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){uh(t,(r,s)=>e[r]=s);for(const r of i)delete e[r]}clone(){return new zr(Bm(this.value))}}function xC(n){const e=[];return uh(n.fields,(t,i)=>{const r=new Bi([t]);if(Tv(i)){const s=xC(i.mapValue).fields;if(0===s.length)e.push(r);else for(const u of s)e.push(r.child(u))}else e.push(r)}),new ys(e)}class oi{constructor(e,t,i,r,s,u,h){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=s,this.data=u,this.documentState=h}static newInvalidDocument(e){return new oi(e,0,Mt.min(),Mt.min(),Mt.min(),zr.empty(),0)}static newFoundDocument(e,t,i,r){return new oi(e,1,t,Mt.min(),i,r,0)}static newNoDocument(e,t){return new oi(e,2,t,Mt.min(),Mt.min(),zr.empty(),0)}static newUnknownDocument(e,t){return new oi(e,3,t,Mt.min(),Mt.min(),zr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Mt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Mt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof oi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new oi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Pc{constructor(e,t){this.position=e,this.inclusive=t}}function iD(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const s=e[r],u=n.position[r];if(i=s.field.isKeyField()?nt.comparator(nt.fromName(u.referenceValue),t.key):rl(u,t.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function MC(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!pa(n.position[t],e.position[t]))return!1;return!0}class cp{constructor(e,t="asc"){this.field=e,this.dir=t}}function yM(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class rD{}class sn extends rD{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,i):new aD(e,t,i):"array-contains"===t?new kC(e,i):"in"===t?new lD(e,i):"not-in"===t?new RC(e,i):"array-contains-any"===t?new wM(e,i):new sn(e,t,i)}static createKeyFieldInFilter(e,t,i){return"in"===t?new vM(e,i):new CR(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(rl(t,this.value)):null!==t&&Mc(this.value)===Mc(t)&&this.matchesComparison(rl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ht()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Sn extends rD{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Sn(e,t)}matches(e){return fh(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function fh(n){return"and"===n.op}function PC(n){return function sD(n){for(const e of n.filters)if(e instanceof Sn)return!1;return!0}(n)&&fh(n)}function zm(n){if(n instanceof sn)return n.field.canonicalString()+n.op.toString()+ch(n.value);if(PC(n))return n.filters.map(e=>zm(e)).join(",");{const e=n.filters.map(t=>zm(t)).join(",");return`${n.op}(${e})`}}function oD(n,e){return n instanceof sn?(t=n,(i=e)instanceof sn&&t.op===i.op&&t.field.isEqual(i.field)&&pa(t.value,i.value)):n instanceof Sn?function(t,i){return i instanceof Sn&&t.op===i.op&&t.filters.length===i.filters.length&&t.filters.reduce((r,s,u)=>r&&oD(s,i.filters[u]),!0)}(n,e):void ht();var t,i}function ph(n){return n instanceof sn?`${(e=n).field.canonicalString()} ${e.op} ${ch(e.value)}`:n instanceof Sn?function(e){return e.op.toString()+" {"+e.getFilters().map(ph).join(" ,")+"}"}(n):"Filter";var e}class aD extends sn{constructor(e,t,i){super(e,t,i),this.key=nt.fromName(i.referenceValue)}matches(e){const t=nt.comparator(e.key,this.key);return this.matchesComparison(t)}}class vM extends sn{constructor(e,t){super(e,"in",t),this.keys=NC(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class CR extends sn{constructor(e,t){super(e,"not-in",t),this.keys=NC(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function NC(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>nt.fromName(i.referenceValue))}class kC extends sn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return hh(t)&&Vm(t.arrayValue,this.value)}}class lD extends sn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Vm(this.value.arrayValue,t)}}class RC extends sn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Vm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Vm(this.value.arrayValue,t)}}class wM extends sn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!hh(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Vm(this.value.arrayValue,i))}}class uD{constructor(e,t=null,i=[],r=[],s=null,u=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=u,this.endAt=h,this.dt=null}}function Hm(n,e=null,t=[],i=[],r=null,s=null,u=null){return new uD(n,e,t,i,r,s,u)}function Oc(n){const e=rt(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>zm(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),si(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>ch(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>ch(i)).join(",")),e.dt=t}return e.dt}function dp(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!yM(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!oD(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!MC(n.startAt,e.startAt)&&MC(n.endAt,e.endAt)}function jm(n){return nt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class fu{constructor(e,t=null,i=[],r=[],s=null,u="F",h=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=u,this.startAt=h,this.endAt=g,this.wt=null,this._t=null}}function gh(n){return new fu(n)}function CM(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Dv(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Sv(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function FC(n){return null!==n.collectionGroup}function hp(n){const e=rt(n);if(null===e.wt){e.wt=[];const t=Sv(e),i=Dv(e);if(null!==t&&null===i)t.isKeyField()||e.wt.push(new cp(t)),e.wt.push(new cp(Bi.keyField(),"asc"));else{let r=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(r=!0);if(!r){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new cp(Bi.keyField(),s))}}}return e.wt}function Bs(n){const e=rt(n);if(!e._t)if("F"===e.limitType)e._t=Hm(e.path,e.collectionGroup,hp(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of hp(e))t.push(new cp(s.field,"desc"===s.dir?"asc":"desc"));const i=e.endAt?new Pc(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Pc(e.startAt.position,e.startAt.inclusive):null;e._t=Hm(e.path,e.collectionGroup,t,e.filters,e.limit,i,r)}return e._t}function LC(n,e){e.getFirstInequalityField(),Sv(n);const t=n.filters.concat([e]);return new fu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Av(n,e,t){return new fu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function fp(n,e){return dp(Bs(n),Bs(e))&&n.limitType===e.limitType}function VC(n){return`${Oc(Bs(n))}|lt:${n.limitType}`}function xv(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(i=>ph(i)).join(", ")}]`),si(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(i=>{return`${(r=i).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>ch(i)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>ch(i)).join(",")),`Target(${t})`}(Bs(n))}; limitType=${n.limitType})`}function pp(n,e){return e.isFoundDocument()&&function(t,i){const r=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(r):nt.isDocumentKey(t.path)?t.path.isEqual(r):t.path.isImmediateParentOf(r)}(n,e)&&function(t,i){for(const r of hp(t))if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,e)&&function(t,i){for(const r of t.filters)if(!r.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(r,s,u){const h=iD(r,s,u);return r.inclusive?h<=0:h<0}(t.startAt,hp(t),i)||t.endAt&&!function(r,s,u){const h=iD(r,s,u);return r.inclusive?h>=0:h>0}(t.endAt,hp(t),i)));var t,i}function fD(n){return(e,t)=>{let i=!1;for(const r of hp(n)){const s=EM(r,e,t);if(0!==s)return s;i=i||r.field.isKeyField()}return 0}}function EM(n,e,t){const i=n.field.isKeyField()?nt.comparator(e.key,t.key):function(r,s,u){const h=s.data.field(r),g=u.data.field(r);return null!==h&&null!==g?rl(h,g):ht()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return ht()}}class pu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,s]of i)if(this.equalsFn(r,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){uh(this.inner,(t,i)=>{for(const[r,s]of i)e(r,s)})}isEmpty(){return hM(this.inner)}size(){return this.innerSize}}const bM=new _i(nt.comparator);function Us(){return bM}const gp=new _i(nt.comparator);function mp(...n){let e=gp;for(const t of n)e=e.insert(t.key,t);return e}function UC(n){let e=gp;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function ga(){return _p()}function zC(){return _p()}function _p(){return new pu(n=>n.toString(),(n,e)=>n.isEqual(e))}const IM=new _i(nt.comparator),TM=new Wn(nt.comparator);function Xt(...n){let e=TM;for(const t of n)e=e.add(t);return e}const DM=new Wn(Wt);function pD(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yv(e)?"-0":e}}function gD(n){return{integerValue:""+n}}function mD(n,e){return function CC(n){return"number"==typeof n&&Number.isInteger(n)&&!yv(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?gD(e):pD(n,e)}class Nc{constructor(){this._=void 0}}function SM(n,e,t){return n instanceof yp?function(i,r){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&Cv(r)&&(r=Ev(r)),r&&(s.fields.__previous_value__=r),{mapValue:s}}(t,e):n instanceof gu?vp(n,e):n instanceof mh?_D(n,e):function(i,r){const s=ma(i,r),u=Gm(s)+Gm(i.gt);return SC(s)&&SC(i.gt)?gD(u):pD(i.serializer,u)}(n,e)}function jC(n,e,t){return n instanceof gu?vp(n,e):n instanceof mh?_D(n,e):t}function ma(n,e){return n instanceof wp?SC(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class yp extends Nc{}class gu extends Nc{constructor(e){super(),this.elements=e}}function vp(n,e){const t=Wm(e);for(const i of n.elements)t.some(r=>pa(r,i))||t.push(i);return{arrayValue:{values:t}}}class mh extends Nc{constructor(e){super(),this.elements=e}}function _D(n,e){let t=Wm(e);for(const i of n.elements)t=t.filter(r=>!pa(r,i));return{arrayValue:{values:t}}}class wp extends Nc{constructor(e,t){super(),this.serializer=e,this.gt=t}}function Gm(n){return Ui(n.integerValue||n.doubleValue)}function Wm(n){return hh(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class yD{constructor(e,t){this.version=e,this.transformResults=t}}class yi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new yi}static exists(e){return new yi(void 0,e)}static updateTime(e){return new yi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Cp(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Zm{}function vD(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Ep(n.key,yi.none()):new _h(n.key,n.data,yi.none());{const t=n.data,i=zr.empty();let r=new Wn(Bi.comparator);for(let s of e.fields)if(!r.has(s)){let u=t.field(s);null===u&&s.length>1&&(s=s.popLast(),u=t.field(s)),null===u?i.delete(s):i.set(s,u),r=r.add(s)}return new _a(n.key,i,new ys(r.toArray()),yi.none())}}function xM(n,e,t){n instanceof _h?function(i,r,s){const u=i.value.clone(),h=wD(i.fieldTransforms,r,s.transformResults);u.setAll(h),r.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(n,e,t):n instanceof _a?function(i,r,s){if(!Cp(i.precondition,r))return void r.convertToUnknownDocument(s.version);const u=wD(i.fieldTransforms,r,s.transformResults),h=r.data;h.setAll(Ov(i)),h.setAll(u),r.convertToFoundDocument(s.version,h).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Mv(n,e,t,i){return n instanceof _h?function(r,s,u,h){if(!Cp(r.precondition,s))return u;const g=r.value.clone(),y=CD(r.fieldTransforms,h,s);return g.setAll(y),s.convertToFoundDocument(s.version,g).setHasLocalMutations(),null}(n,e,t,i):n instanceof _a?function(r,s,u,h){if(!Cp(r.precondition,s))return u;const g=CD(r.fieldTransforms,h,s),y=s.data;return y.setAll(Ov(r)),y.setAll(g),s.convertToFoundDocument(s.version,y).setHasLocalMutations(),null===u?null:u.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(I=>I.field))}(n,e,t,i):(u=t,Cp(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):u);var s,u}function $C(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),s=ma(i.transform,r||null);null!=s&&(null===t&&(t=zr.empty()),t.set(i.field,s))}return t||null}function Pv(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&op(t,i,(r,s)=>function AM(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof gu&&i instanceof gu||t instanceof mh&&i instanceof mh?op(t.elements,i.elements,pa):t instanceof wp&&i instanceof wp?pa(t.gt,i.gt):t instanceof yp&&i instanceof yp);var t,i}(r,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}class _h extends Zm{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class _a extends Zm{constructor(e,t,i,r,s=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Ov(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function wD(n,e,t){const i=new Map;At(n.length===t.length);for(let r=0;r<t.length;r++){const s=n[r],u=s.transform,h=e.data.field(s.field);i.set(s.field,jC(u,h,t[r]))}return i}function CD(n,e,t){const i=new Map;for(const r of n){const s=r.transform,u=t.data.field(r.field);i.set(r.field,SM(s,u,e))}return i}class Ep extends Zm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class GC extends Zm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Nv{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&xM(s,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Mv(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Mv(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=zC();return this.mutations.forEach(r=>{const s=e.get(r.key),u=s.overlayedDocument;let h=this.applyToLocalView(u,s.mutatedFields);h=t.has(r.key)?null:h;const g=vD(u,h);null!==g&&i.set(r.key,g),u.isValidDocument()||u.convertToNoDocument(Mt.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Xt())}isEqual(e){return this.batchId===e.batchId&&op(this.mutations,e.mutations,(t,i)=>Pv(t,i))&&op(this.baseMutations,e.baseMutations,(t,i)=>Pv(t,i))}}class Km{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){At(e.mutations.length===i.length);let r=IM;const s=e.mutations;for(let u=0;u<s.length;u++)r=r.insert(s[u].key,i[u].version);return new Km(e,t,i,r)}}class kv{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class bD{constructor(e,t){this.count=e,this.unchangedNames=t}}var Wi,_n;function WC(n){switch(n){default:return ht();case ce.CANCELLED:case ce.UNKNOWN:case ce.DEADLINE_EXCEEDED:case ce.RESOURCE_EXHAUSTED:case ce.INTERNAL:case ce.UNAVAILABLE:case ce.UNAUTHENTICATED:return!1;case ce.INVALID_ARGUMENT:case ce.NOT_FOUND:case ce.ALREADY_EXISTS:case ce.PERMISSION_DENIED:case ce.FAILED_PRECONDITION:case ce.ABORTED:case ce.OUT_OF_RANGE:case ce.UNIMPLEMENTED:case ce.DATA_LOSS:return!0}}function qC(n){if(void 0===n)return Vi("GRPC error has no .code"),ce.UNKNOWN;switch(n){case Wi.OK:return ce.OK;case Wi.CANCELLED:return ce.CANCELLED;case Wi.UNKNOWN:return ce.UNKNOWN;case Wi.DEADLINE_EXCEEDED:return ce.DEADLINE_EXCEEDED;case Wi.RESOURCE_EXHAUSTED:return ce.RESOURCE_EXHAUSTED;case Wi.INTERNAL:return ce.INTERNAL;case Wi.UNAVAILABLE:return ce.UNAVAILABLE;case Wi.UNAUTHENTICATED:return ce.UNAUTHENTICATED;case Wi.INVALID_ARGUMENT:return ce.INVALID_ARGUMENT;case Wi.NOT_FOUND:return ce.NOT_FOUND;case Wi.ALREADY_EXISTS:return ce.ALREADY_EXISTS;case Wi.PERMISSION_DENIED:return ce.PERMISSION_DENIED;case Wi.FAILED_PRECONDITION:return ce.FAILED_PRECONDITION;case Wi.ABORTED:return ce.ABORTED;case Wi.OUT_OF_RANGE:return ce.OUT_OF_RANGE;case Wi.UNIMPLEMENTED:return ce.UNIMPLEMENTED;case Wi.DATA_LOSS:return ce.DATA_LOSS;default:return ht()}}(_n=Wi||(Wi={}))[_n.OK=0]="OK",_n[_n.CANCELLED=1]="CANCELLED",_n[_n.UNKNOWN=2]="UNKNOWN",_n[_n.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_n[_n.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_n[_n.NOT_FOUND=5]="NOT_FOUND",_n[_n.ALREADY_EXISTS=6]="ALREADY_EXISTS",_n[_n.PERMISSION_DENIED=7]="PERMISSION_DENIED",_n[_n.UNAUTHENTICATED=16]="UNAUTHENTICATED",_n[_n.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_n[_n.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_n[_n.ABORTED=10]="ABORTED",_n[_n.OUT_OF_RANGE=11]="OUT_OF_RANGE",_n[_n.UNIMPLEMENTED=12]="UNIMPLEMENTED",_n[_n.INTERNAL=13]="INTERNAL",_n[_n.UNAVAILABLE=14]="UNAVAILABLE",_n[_n.DATA_LOSS=15]="DATA_LOSS";class ZC{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Ym}static getOrCreateInstance(){return null===Ym&&(Ym=new ZC),Ym}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let Ym=null;const vs=new nl([4294967295,4294967295],0);function yh(n){const e=function KC(){return new TextEncoder}().encode(n),t=new mC;return t.update(e),new Uint8Array(t.digest())}function ID(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new nl([t,i],0),new nl([r,s],0)]}class YC{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Rv(`Invalid padding: ${t}`);if(i<0)throw new Rv(`Invalid hash count: ${i}`);if(e.length>0&&0===this.hashCount)throw new Rv(`Invalid hash count: ${i}`);if(0===e.length&&0!==t)throw new Rv(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=nl.fromNumber(this.It)}Et(e,t,i){let r=e.add(t.multiply(nl.fromNumber(i)));return 1===r.compare(vs)&&(r=new nl([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=yh(e),[i,r]=ID(t);for(let s=0;s<this.hashCount;s++){const u=this.Et(i,r,s);if(!this.At(u))return!1}return!0}static create(e,t,i){const r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),u=new YC(s,r,t);return i.forEach(h=>u.insert(h)),u}insert(e){if(0===this.It)return;const t=yh(e),[i,r]=ID(t);for(let s=0;s<this.hashCount;s++){const u=this.Et(i,r,s);this.Rt(u)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Rv extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Fv{constructor(e,t,i,r,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,bp.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Fv(Mt.min(),r,new _i(Wt),Us(),Xt())}}class bp{constructor(e,t,i,r,s){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new bp(i,t,Xt(),Xt(),Xt())}}class Qm{constructor(e,t,i,r){this.Pt=e,this.removedTargetIds=t,this.key=i,this.bt=r}}class Ip{constructor(e,t){this.targetId=e,this.Vt=t}}class TD{constructor(e,t,i=gr.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class Lv{constructor(){this.St=0,this.Dt=DD(),this.Ct=gr.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Xt(),t=Xt(),i=Xt();return this.Dt.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:ht()}}),new bp(this.Ct,this.xt,e,t,i)}Ft(){this.Nt=!1,this.Dt=DD()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class MM{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Us(),this.zt=QC(),this.Wt=new _i(Wt)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const i=this.Zt(t);switch(e.state){case 0:this.te(t)&&i.$t(e.resumeToken);break;case 1:i.Ut(),i.kt||i.Ft(),i.$t(e.resumeToken);break;case 2:i.Ut(),i.kt||this.removeTarget(t);break;case 3:this.te(t)&&(i.Kt(),i.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),i.$t(e.resumeToken));break;default:ht()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((i,r)=>{this.te(r)&&t(r)})}ne(e){var t;const i=e.targetId,r=e.Vt.count,s=this.se(i);if(s){const u=s.target;if(jm(u))if(0===r){const h=new nt(u.path);this.Yt(i,h,oi.newNoDocument(h,Mt.min()))}else At(1===r);else{const h=this.ie(i);if(h!==r){const g=this.re(e,h);0!==g&&(this.ee(i),this.Wt=this.Wt.insert(i,2===g?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=ZC.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(y,I,S){var P,k,U,J,ue,Re;const Ye={localCacheCount:I,existenceFilterCount:S.count},st=S.unchangedNames;return st&&(Ye.bloomFilter={applied:0===y,hashCount:null!==(P=st?.hashCount)&&void 0!==P?P:0,bitmapLength:null!==(J=null===(U=null===(k=st?.bits)||void 0===k?void 0:k.bitmap)||void 0===U?void 0:U.length)&&void 0!==J?J:0,padding:null!==(Re=null===(ue=st?.bits)||void 0===ue?void 0:ue.padding)&&void 0!==Re?Re:0}),Ye}(g,h,e.Vt))}}}}re(e,t){const{unchangedNames:i,count:r}=e.Vt;if(!i||!i.bits)return 1;const{bits:{bitmap:s="",padding:u=0},hashCount:h=0}=i;let g,y;try{g=il(s).toUint8Array()}catch(I){if(I instanceof up)return ho("Decoding the base64 bloom filter in existence filter failed ("+I.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw I}try{y=new YC(g,u,h)}catch(I){return ho(I instanceof Rv?"BloomFilter error: ":"Applying bloom filter failed: ",I),1}return 0===y.It?1:r!==t-this.oe(e.targetId,y)?2:0}oe(e,t){const i=this.Gt.getRemoteKeysForTarget(e);let r=0;return i.forEach(s=>{const u=this.Gt.ue(),h=`projects/${u.projectId}/databases/${u.database}/documents/${s.path.canonicalString()}`;t.vt(h)||(this.Yt(e,s,null),r++)}),r}ce(e){const t=new Map;this.Qt.forEach((s,u)=>{const h=this.se(u);if(h){if(s.current&&jm(h.target)){const g=new nt(h.target.path);null!==this.jt.get(g)||this.ae(u,g)||this.Yt(u,g,oi.newNoDocument(g,e))}s.Mt&&(t.set(u,s.Ot()),s.Ft())}});let i=Xt();this.zt.forEach((s,u)=>{let h=!0;u.forEachWhile(g=>{const y=this.se(g);return!y||"TargetPurposeLimboResolution"===y.purpose||(h=!1,!1)}),h&&(i=i.add(s))}),this.jt.forEach((s,u)=>u.setReadTime(e));const r=new Fv(e,t,this.Wt,this.jt,i);return this.jt=Us(),this.zt=QC(),this.Wt=new _i(Wt),r}Jt(e,t){if(!this.te(e))return;const i=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,i),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,i){if(!this.te(e))return;const r=this.Zt(e);this.ae(e,t)?r.Bt(t,1):r.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),i&&(this.jt=this.jt.insert(t,i))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new Lv,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Wn(Wt),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Be("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new Lv),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function QC(){return new _i(nt.comparator)}function DD(){return new _i(nt.comparator)}const PM=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),OM=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),JC=(()=>({and:"AND",or:"OR"}))();class SD{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Vv(n,e){return n.useProto3Json||si(e)?e:{value:e}}function mu(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Bv(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function ER(n,e){return mu(n,e.toTimestamp())}function zi(n){return At(!!n),Mt.fromTimestamp(function(e){const t=Ac(e);return new Ei(t.seconds,t.nanos)}(n))}function XC(n,e){return(t=n,new mn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function eE(n){const e=mn.fromString(n);return At(UM(e)),e}function sl(n,e){return XC(n.databaseId,e.path)}function ol(n,e){const t=eE(e);if(t.get(1)!==n.databaseId.projectId)throw new ke(ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ke(ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new nt(AD(t))}function Uv(n,e){return XC(n.databaseId,e)}function Hv(n){return new mn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function AD(n){return At(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function NM(n,e,t){return{name:sl(n,e),fields:t.value.mapValue.fields}}function tE(n,e){return{documents:[Uv(n,e.path)]}}function $v(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=Uv(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Uv(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(g){if(0!==g.length)return ND(Sn.create(g,"and"))}(e.filters);r&&(t.structuredQuery.where=r);const s=function(g){if(0!==g.length)return g.map(y=>{return{field:_u((I=y).field),direction:VM(I.dir)};var I})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const u=Vv(n,e.limit);var h,g;return null!==u&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt={before:(h=e.startAt).inclusive,values:h.position}),e.endAt&&(t.structuredQuery.endAt={before:!(g=e.endAt).inclusive,values:g.position}),t}function MD(n){let e=function zv(n){const e=eE(n);return 4===e.length?mn.emptyPath():AD(e)}(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){At(1===i);const I=t.from[0];I.allDescendants?r=I.collectionId:e=e.child(I.collectionId)}let s=[];t.where&&(s=function(I){const S=nE(I);return S instanceof Sn&&PC(S)?S.getFilters():[S]}(t.where));let u=[];t.orderBy&&(u=t.orderBy.map(I=>{return new cp(vh((S=I).field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction));var S}));let h=null;t.limit&&(h=function(I){let S;return S="object"==typeof I?I.value:I,si(S)?null:S}(t.limit));let g=null;var I;t.startAt&&(g=new Pc((I=t.startAt).values||[],!!I.before));let y=null;return t.endAt&&(y=function(I){return new Pc(I.values||[],!I.before)}(t.endAt)),function hD(n,e,t,i,r,s,u,h){return new fu(n,e,t,i,r,s,u,h)}(e,r,u,s,h,"F",g,y)}function nE(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=vh(e.unaryFilter.field);return sn.create(t,"==",{doubleValue:NaN});case"IS_NULL":const i=vh(e.unaryFilter.field);return sn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=vh(e.unaryFilter.field);return sn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=vh(e.unaryFilter.field);return sn.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ht()}}(n):void 0!==n.fieldFilter?sn.create(vh((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ht()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Sn.create(e.compositeFilter.filters.map(t=>nE(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return ht()}}(e.compositeFilter.op))}(n):ht();var e}function VM(n){return PM[n]}function PD(n){return OM[n]}function OD(n){return JC[n]}function _u(n){return{fieldPath:n.canonicalString()}}function vh(n){return Bi.fromServerFormat(n.fieldPath)}function ND(n){return n instanceof sn?function(e){if("=="===e.op){if(AC(e.value))return{unaryFilter:{field:_u(e.field),op:"IS_NAN"}};if(XT(e.value))return{unaryFilter:{field:_u(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(AC(e.value))return{unaryFilter:{field:_u(e.field),op:"IS_NOT_NAN"}};if(XT(e.value))return{unaryFilter:{field:_u(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_u(e.field),op:PD(e.op),value:e.value}}}(n):n instanceof Sn?function(e){const t=e.getFilters().map(i=>ND(i));return 1===t.length?t[0]:{compositeFilter:{op:OD(e.op),filters:t}}}(n):ht()}function BM(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function UM(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class al{constructor(e,t,i,r,s=Mt.min(),u=Mt.min(),h=gr.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=g}withSequenceNumber(e){return new al(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new al(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new al(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new al(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class zM{constructor(e){this.fe=e}}function kD(n){const e=MD({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Av(e,e.limit,"L"):e}class kc{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Ui(e.integerValue));else if("doubleValue"in e){const i=Ui(e.doubleValue);isNaN(i)?this.ye(t,13):(this.ye(t,15),yv(i)?t.pe(0):t.pe(i))}else if("timestampValue"in e){const i=e.timestampValue;this.ye(t,20),"string"==typeof i?t.Ie(i):(t.Ie(`${i.seconds||""}`),t.pe(i.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(il(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.ye(t,45),t.pe(i.latitude||0),t.pe(i.longitude||0)}else"mapValue"in e?eD(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):ht()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const i=e.fields||{};this.ye(t,55);for(const r of Object.keys(i))this.Te(r,t),this.me(i[r],t)}Pe(e,t){const i=e.values||[];this.ye(t,50);for(const r of i)this.me(r,t)}ve(e,t){this.ye(t,37),nt.fromName(e).path.forEach(i=>{this.ye(t,60),this.be(i,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}kc.Ve=new kc;class aE{constructor(){this.rn=new lE}addToCollectionParentIndex(e,t){return this.rn.add(t),ae.resolve()}getCollectionParents(e,t){return ae.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return ae.resolve()}deleteFieldIndex(e,t){return ae.resolve()}getDocumentsMatchingTarget(e,t){return ae.resolve(null)}getIndexType(e,t){return ae.resolve(0)}getFieldIndexes(e,t){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}getMinOffset(e,t){return ae.resolve(Vs.min())}getMinOffsetFromCollectionGroup(e,t){return ae.resolve(Vs.min())}updateCollectionGroup(e,t,i){return ae.resolve()}updateIndexEntries(e,t){return ae.resolve()}}class lE{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new Wn(mn.comparator),s=!r.has(i);return this.index[t]=r.add(i),s}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Wn(mn.comparator)).toArray()}}class Jr{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new Jr(e,Jr.DEFAULT_COLLECTION_PERCENTILE,Jr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Jr.DEFAULT_COLLECTION_PERCENTILE=10,Jr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Jr.DEFAULT=new Jr(41943040,Jr.DEFAULT_COLLECTION_PERCENTILE,Jr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Jr.DISABLED=new Jr(-1,0,0);class Lc{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Lc(0)}static Mn(){return new Lc(-1)}}class e0{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class o_{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(null!==i&&Mv(i.mutation,r,ys.empty(),Ei.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Xt()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Xt()){const r=ga();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(s=>{let u=mp();return s.forEach((h,g)=>{u=u.insert(h,g.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const i=ga();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Xt()))}populateOverlays(e,t,i){const r=[];return i.forEach(s=>{t.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((u,h)=>{t.set(u,h)})})}computeViews(e,t,i,r){let s=Us();const u=_p(),h=_p();return t.forEach((g,y)=>{const I=i.get(y.key);r.has(y.key)&&(void 0===I||I.mutation instanceof _a)?s=s.insert(y.key,y):void 0!==I?(u.set(y.key,I.mutation.getFieldMask()),Mv(I.mutation,y,I.mutation.getFieldMask(),Ei.now())):u.set(y.key,ys.empty())}),this.recalculateAndSaveOverlays(e,s).next(g=>(g.forEach((y,I)=>u.set(y,I)),t.forEach((y,I)=>{var S;return h.set(y,new e0(I,null!==(S=u.get(y))&&void 0!==S?S:null))}),h))}recalculateAndSaveOverlays(e,t){const i=_p();let r=new _i((u,h)=>u-h),s=Xt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const h of u)h.keys().forEach(g=>{const y=t.get(g);if(null===y)return;let I=i.get(g)||ys.empty();I=h.applyToLocalView(y,I),i.set(g,I);const S=(r.get(h.batchId)||Xt()).add(g);r=r.insert(h.batchId,S)})}).next(()=>{const u=[],h=r.getReverseIterator();for(;h.hasNext();){const g=h.getNext(),y=g.key,I=g.value,S=zC();I.forEach(P=>{if(!s.has(P)){const k=vD(t.get(P),i.get(P));null!==k&&S.set(P,k),s=s.add(P)}}),u.push(this.documentOverlayCache.saveOverlays(e,y,S))}return ae.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i){return nt.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):FC(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i):this.getDocumentsMatchingCollectionQuery(e,t,i);var r}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(s=>{const u=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-s.size):ae.resolve(ga());let h=-1,g=s;return u.next(y=>ae.forEach(y,(I,S)=>(h<S.largestBatchId&&(h=S.largestBatchId),s.get(I)?ae.resolve():this.remoteDocumentCache.getEntry(e,I).next(P=>{g=g.insert(I,P)}))).next(()=>this.populateOverlays(e,y,s)).next(()=>this.computeViews(e,g,y,Xt())).next(I=>({batchId:h,changes:UC(I)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new nt(t)).next(i=>{let r=mp();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i){const r=t.collectionGroup;let s=mp();return this.indexManager.getCollectionParents(e,r).next(u=>ae.forEach(u,h=>{const g=(y=t,I=h.child(r),new fu(I,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt));var y,I;return this.getDocumentsMatchingCollectionQuery(e,g,i).next(y=>{y.forEach((I,S)=>{s=s.insert(I,S)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,i){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(s=>(r=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,r))).next(s=>{r.forEach((h,g)=>{const y=g.getKey();null===s.get(y)&&(s=s.insert(y,oi.newInvalidDocument(y)))});let u=mp();return s.forEach((h,g)=>{const y=r.get(h);void 0!==y&&Mv(y.mutation,g,ys.empty(),Ei.now()),pp(t,g)&&(u=u.insert(h,g))}),u})}}class GD{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return ae.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var i;return this.cs.set(t.id,{id:(i=t).id,version:i.version,createTime:zi(i.createTime)}),ae.resolve()}getNamedQuery(e,t){return ae.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(i=t).name,query:kD(i.bundledQuery),readTime:zi(i.readTime)}),ae.resolve();var i}}class XM{constructor(){this.overlays=new _i(nt.comparator),this.ls=new Map}getOverlay(e,t){return ae.resolve(this.overlays.get(t))}getOverlays(e,t){const i=ga();return ae.forEach(t,r=>this.getOverlay(e,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,s)=>{this.we(e,t,s)}),ae.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.ls.get(i);return void 0!==r&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(i)),ae.resolve()}getOverlaysForCollection(e,t,i){const r=ga(),s=t.length+1,u=new nt(t.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const g=h.getNext().value,y=g.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===s&&g.largestBatchId>i&&r.set(g.getKey(),g)}return ae.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let s=new _i((y,I)=>y-I);const u=this.overlays.getIterator();for(;u.hasNext();){const y=u.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>i){let I=s.get(y.largestBatchId);null===I&&(I=ga(),s=s.insert(y.largestBatchId,I)),I.set(y.getKey(),y)}}const h=ga(),g=s.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((y,I)=>h.set(y,I)),!(h.size()>=r)););return ae.resolve(h)}we(e,t,i){const r=this.overlays.get(i.key);if(null!==r){const u=this.ls.get(r.largestBatchId).delete(i.key);this.ls.set(r.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new kv(t,i));let s=this.ls.get(t);void 0===s&&(s=Xt(),this.ls.set(t,s)),this.ls.set(t,s.add(i.key))}}class t0{constructor(){this.fs=new Wn(mr.ds),this.ws=new Wn(mr._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const i=new mr(e,t);this.fs=this.fs.add(i),this.ws=this.ws.add(i)}gs(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.ys(new mr(e,t))}ps(e,t){e.forEach(i=>this.removeReference(i,t))}Is(e){const t=new nt(new mn([])),i=new mr(t,e),r=new mr(t,e+1),s=[];return this.ws.forEachInRange([i,r],u=>{this.ys(u),s.push(u.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new nt(new mn([])),i=new mr(t,e),r=new mr(t,e+1);let s=Xt();return this.ws.forEachInRange([i,r],u=>{s=s.add(u.key)}),s}containsKey(e){const t=new mr(e,0),i=this.fs.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class mr{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return nt.comparator(e.key,t.key)||Wt(e.As,t.As)}static _s(e,t){return Wt(e.As,t.As)||nt.comparator(e.key,t.key)}}class eP{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Wn(mr.ds)}checkEmpty(e){return ae.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,r){const s=this.vs;this.vs++;const u=new Nv(s,t,i,r);this.mutationQueue.push(u);for(const h of r)this.Rs=this.Rs.add(new mr(h.key,s)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return ae.resolve(u)}lookupMutationBatch(e,t){return ae.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.bs(t+1),s=r<0?0:r;return ae.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new mr(t,0),r=new mr(t,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([i,r],u=>{const h=this.Ps(u.As);s.push(h)}),ae.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Wn(Wt);return t.forEach(r=>{const s=new mr(r,0),u=new mr(r,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,u],h=>{i=i.add(h.As)})}),ae.resolve(this.Vs(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let s=i;nt.isDocumentKey(s)||(s=s.child(""));const u=new mr(new nt(s),0);let h=new Wn(Wt);return this.Rs.forEachWhile(g=>{const y=g.key.path;return!!i.isPrefixOf(y)&&(y.length===r&&(h=h.add(g.As)),!0)},u),ae.resolve(this.Vs(h))}Vs(e){const t=[];return e.forEach(i=>{const r=this.Ps(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){At(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let i=this.Rs;return ae.forEach(t.mutations,r=>{const s=new mr(r.key,t.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Rs=i})}Cn(e){}containsKey(e,t){const i=new mr(t,0),r=this.Rs.firstAfterOrEqual(i);return ae.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return ae.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class tP{constructor(e){this.Ds=e,this.docs=new _i(nt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),s=r?r.size:0,u=this.Ds(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:u}),this.size+=u-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return ae.resolve(i?i.document.mutableCopy():oi.newInvalidDocument(t))}getEntries(e,t){let i=Us();return t.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():oi.newInvalidDocument(r))}),ae.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let s=Us();const u=t.path,h=new nt(u.child("")),g=this.docs.getIteratorFrom(h);for(;g.hasNext();){const{key:y,value:{document:I}}=g.getNext();if(!u.isPrefixOf(y.path))break;y.path.length>u.length+1||cu(vC(I),i)<=0||(r.has(I.key)||pp(t,I))&&(s=s.insert(I.key,I.mutableCopy()))}return ae.resolve(s)}getAllFromCollectionGroup(e,t,i,r){ht()}Cs(e,t){return ae.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new DR(this)}getSize(e){return ae.resolve(this.size)}}class DR extends class jD{constructor(){this.changes=new pu(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,oi.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?ae.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.os.addEntry(e,r)):this.os.removeEntry(i)}),ae.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class SR{constructor(e){this.persistence=e,this.xs=new pu(t=>Oc(t),dp),this.lastRemoteSnapshotVersion=Mt.min(),this.highestTargetId=0,this.Ns=0,this.ks=new t0,this.targetCount=0,this.Ms=Lc.kn()}forEachTarget(e,t){return this.xs.forEach((i,r)=>t(r)),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Ns&&(this.Ns=t),ae.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Lc(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,ae.resolve()}updateTargetData(e,t){return this.Fn(t),ae.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,t,i){let r=0;const s=[];return this.xs.forEach((u,h)=>{h.sequenceNumber<=t&&null===i.get(h.targetId)&&(this.xs.delete(u),s.push(this.removeMatchingKeysForTargetId(e,h.targetId)),r++)}),ae.waitFor(s).next(()=>r)}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,t){const i=this.xs.get(t)||null;return ae.resolve(i)}addMatchingKeys(e,t,i){return this.ks.gs(t,i),ae.resolve()}removeMatchingKeys(e,t,i){this.ks.ps(t,i);const r=this.persistence.referenceDelegate,s=[];return r&&t.forEach(u=>{s.push(r.markPotentiallyOrphaned(e,u))}),ae.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),ae.resolve()}getMatchingKeysForTargetId(e,t){const i=this.ks.Es(t);return ae.resolve(i)}containsKey(e,t){return ae.resolve(this.ks.containsKey(t))}}class n0{constructor(e,t){this.$s={},this.overlays={},this.Os=new Qr(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new SR(this),this.indexManager=new aE,this.remoteDocumentCache=new tP(i=>this.referenceDelegate.Ls(i)),this.serializer=new zM(t),this.qs=new GD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new XM,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.$s[e.toKey()];return i||(i=new eP(t,this.referenceDelegate),this.$s[e.toKey()]=i),i}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,i){Be("MemoryPersistence","Starting transaction:",e);const r=new nP(this.Os.next());return this.referenceDelegate.Us(),i(r).next(s=>this.referenceDelegate.Ks(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Gs(e,t){return ae.or(Object.values(this.$s).map(i=>()=>i.containsKey(e,t)))}}class nP extends class UT{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}{constructor(e){super(),this.currentSequenceNumber=e}}class r0{constructor(e){this.persistence=e,this.Qs=new t0,this.js=null}static zs(e){return new r0(e)}get Ws(){if(this.js)return this.js;throw ht()}addReference(e,t,i){return this.Qs.addReference(i,t),this.Ws.delete(i.toString()),ae.resolve()}removeReference(e,t,i){return this.Qs.removeReference(i,t),this.Ws.add(i.toString()),ae.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),ae.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(r=>this.Ws.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(s=>this.Ws.add(s.toString()))}).next(()=>i.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.Ws,i=>{const r=nt.fromPath(i);return this.Hs(e,r).next(s=>{s||t.removeEntry(r,Mt.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(i=>{i?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return ae.or([()=>ae.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class vE{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Fi=i,this.Bi=r}static Li(e,t){let i=Xt(),r=Xt();for(const s of t.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new vE(e,t.fromCache,i,r)}}class ZD{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,i,r){return this.Ki(e,t).next(s=>s||this.Gi(e,t,r,i)).next(s=>s||this.Qi(e,t))}Ki(e,t){if(CM(t))return ae.resolve(null);let i=Bs(t);return this.indexManager.getIndexType(e,i).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=Av(t,null,"F"),i=Bs(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{const u=Xt(...s);return this.Ui.getDocuments(e,u).next(h=>this.indexManager.getMinOffset(e,i).next(g=>{const y=this.ji(t,h);return this.zi(t,y,u,g.readTime)?this.Ki(e,Av(t,null,"F")):this.Wi(e,y,t,g)}))})))}Gi(e,t,i,r){return CM(t)||r.isEqual(Mt.min())?this.Qi(e,t):this.Ui.getDocuments(e,i).next(s=>{const u=this.ji(t,s);return this.zi(t,u,i,r)?this.Qi(e,t):(fv()<=qa.in.DEBUG&&Be("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),xv(t)),this.Wi(e,u,t,function yC(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Mt.fromTimestamp(1e9===i?new Ei(t+1,0):new Ei(t,i));return new Vs(r,nt.empty(),e)}(r,-1)))})}ji(e,t){let i=new Wn(fD(e));return t.forEach((r,s)=>{pp(e,s)&&(i=i.add(s))}),i}zi(e,t,i,r){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Qi(e,t){return fv()<=qa.in.DEBUG&&Be("QueryEngine","Using full collection scan to execute query:",xv(t)),this.Ui.getDocumentsMatchingQuery(e,t,Vs.min())}Wi(e,t,i,r){return this.Ui.getDocumentsMatchingQuery(e,i,r).next(s=>(t.forEach(u=>{s=s.insert(u.key,u)}),s))}}class KD{constructor(e,t,i,r){this.persistence=e,this.Hi=t,this.serializer=r,this.Ji=new _i(Wt),this.Yi=new pu(s=>Oc(s),dp),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(i)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new o_(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function wE(n,e){return a_.apply(this,arguments)}function a_(){return a_=(0,Se.Z)(function*(n,e){const t=rt(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,t.tr(e),t.mutationQueue.getAllMutationBatches(i))).next(s=>{const u=[],h=[];let g=Xt();for(const y of r){u.push(y.batchId);for(const I of y.mutations)g=g.add(I.key)}for(const y of s){h.push(y.batchId);for(const I of y.mutations)g=g.add(I.key)}return t.localDocuments.getDocuments(i,g).next(y=>({er:y,removedBatchIds:u,addedBatchIds:h}))})})}),a_.apply(this,arguments)}function CE(n,e){const t=rt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),s=t.Zi.newChangeBuffer({trackRemovals:!0});return function(u,h,g,y){const I=g.batch,S=I.keys();let P=ae.resolve();return S.forEach(k=>{P=P.next(()=>y.getEntry(h,k)).next(U=>{const J=g.docVersions.get(k);At(null!==J),U.version.compareTo(J)<0&&(I.applyToRemoteDocument(U,g),U.isValidDocument()&&(U.setReadTime(g.commitVersion),y.addEntry(U)))})}),P.next(()=>u.mutationQueue.removeMutationBatch(h,I))}(t,i,e,s).next(()=>s.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(u){let h=Xt();for(let g=0;g<u.mutationResults.length;++g)u.mutationResults[g].transformResults.length>0&&(h=h.add(u.batch.mutations[g].key));return h}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}function YD(n){const e=rt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function EE(n,e){const t=rt(n),i=e.snapshotVersion;let r=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const u=t.Zi.newChangeBuffer({trackRemovals:!0});r=t.Ji;const h=[];e.targetChanges.forEach((I,S)=>{const P=r.get(S);if(!P)return;h.push(t.Bs.removeMatchingKeys(s,I.removedDocuments,S).next(()=>t.Bs.addMatchingKeys(s,I.addedDocuments,S)));let k=P.withSequenceNumber(s.currentSequenceNumber);var U,J,ue;null!==e.targetMismatches.get(S)?k=k.withResumeToken(gr.EMPTY_BYTE_STRING,Mt.min()).withLastLimboFreeSnapshotVersion(Mt.min()):I.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(I.resumeToken,i)),r=r.insert(S,k),J=k,ue=I,(0===(U=P).resumeToken.approximateByteSize()||J.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=3e8||ue.addedDocuments.size+ue.modifiedDocuments.size+ue.removedDocuments.size>0)&&h.push(t.Bs.updateTargetData(s,k))});let g=Us(),y=Xt();if(e.documentUpdates.forEach(I=>{e.resolvedLimboDocuments.has(I)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(s,I))}),h.push(function l0(n,e,t){let i=Xt(),r=Xt();return t.forEach(s=>i=i.add(s)),e.getEntries(n,i).next(s=>{let u=Us();return t.forEach((h,g)=>{const y=s.get(h);g.isFoundDocument()!==y.isFoundDocument()&&(r=r.add(h)),g.isNoDocument()&&g.version.isEqual(Mt.min())?(e.removeEntry(h,g.readTime),u=u.insert(h,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||0===g.version.compareTo(y.version)&&y.hasPendingWrites?(e.addEntry(g),u=u.insert(h,g)):Be("LocalStore","Ignoring outdated watch update for ",h,". Current version:",y.version," Watch version:",g.version)}),{nr:u,sr:r}})}(s,u,e.documentUpdates).next(I=>{g=I.nr,y=I.sr})),!i.isEqual(Mt.min())){const I=t.Bs.getLastRemoteSnapshotVersion(s).next(S=>t.Bs.setTargetsMetadata(s,s.currentSequenceNumber,i));h.push(I)}return ae.waitFor(h).next(()=>u.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,g,y)).next(()=>g)}).then(s=>(t.Ji=r,s))}function u0(n,e){const t=rt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function l_(n,e){const t=rt(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Bs.getTargetData(i,e).next(s=>s?(r=s,ae.resolve(r)):t.Bs.allocateTargetId(i).next(u=>(r=new al(e,u,"TargetPurposeListen",i.currentSequenceNumber),t.Bs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.Ji.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(i.targetId,i),t.Yi.set(e,i.targetId)),i})}function u_(n,e,t){return QD.apply(this,arguments)}function QD(){return QD=(0,Se.Z)(function*(n,e,t){const i=rt(n),r=i.Ji.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",s,u=>i.persistence.referenceDelegate.removeTarget(u,r)))}catch(u){if(!Pt(u))throw u;Be("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}i.Ji=i.Ji.remove(e),i.Yi.delete(r.target)}),QD.apply(this,arguments)}function bE(n,e,t){const i=rt(n);let r=Mt.min(),s=Xt();return i.persistence.runTransaction("Execute query","readonly",u=>function(h,g,y){const I=rt(h),S=I.Yi.get(y);return void 0!==S?ae.resolve(I.Ji.get(S)):I.Bs.getTargetData(g,y)}(i,u,Bs(e)).next(h=>{if(h)return r=h.lastLimboFreeSnapshotVersion,i.Bs.getMatchingKeysForTargetId(u,h.targetId).next(g=>{s=g})}).next(()=>i.Hi.getDocumentsMatchingQuery(u,e,t?r:Mt.min(),t?s:Xt())).next(h=>(function XD(n,e,t){let i=n.Xi.get(e)||Mt.min();t.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.Xi.set(e,i)}(i,function BC(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),h),{documents:h,ir:s})))}class d_{constructor(){this.activeTargetIds=function HC(){return DM}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class nS{constructor(){this.Hr=new d_,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,i){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new d_,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class xR{Yr(e){}shutdown(){}}class sP{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Be("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Be("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let h0=null;function ME(){return null===h0?h0=268435456+Math.round(2147483648*Math.random()):h0++,"0x"+h0.toString(16)}const oP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class MR{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Cs="WebChannelConnection";class PR extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,i,r,s){const u=ME(),h=this.To(e,t);Be("RestConnection",`Sending RPC '${e}' ${u}:`,h,i);const g={};return this.Eo(g,r,s),this.Ao(e,h,g,i).then(y=>(Be("RestConnection",`Received RPC '${e}' ${u}: `,y),y),y=>{throw ho("RestConnection",`RPC '${e}' ${u} failed with error: `,y,"url: ",h,"request:",i),y})}vo(e,t,i,r,s,u){return this.Io(e,t,i,r,s)}Eo(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+sp,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,s)=>e[s]=r),i&&i.headers.forEach((r,s)=>e[s]=r)}To(e,t){return`${this.mo}/v1/${t}:${oP[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,i,r){const s=ME();return new Promise((u,h)=>{const g=new Zx;g.setWithCredentials(!0),g.listenOnce(DT.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case co.NO_ERROR:const I=g.getResponseJson();Be(Cs,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(I)),u(I);break;case co.TIMEOUT:Be(Cs,`RPC '${e}' ${s} timed out`),h(new ke(ce.DEADLINE_EXCEEDED,"Request time out"));break;case co.HTTP_ERROR:const S=g.getStatus();if(Be(Cs,`RPC '${e}' ${s} failed with status:`,S,"response text:",g.getResponseText()),S>0){let P=g.getResponseJson();Array.isArray(P)&&(P=P[0]);const k=P?.error;if(k&&k.status&&k.message){const U=function(J){const ue=J.toLowerCase().replace(/_/g,"-");return Object.values(ce).indexOf(ue)>=0?ue:ce.UNKNOWN}(k.status);h(new ke(U,k.message))}else h(new ke(ce.UNKNOWN,"Server responded with status "+g.getStatus()))}else h(new ke(ce.UNAVAILABLE,"Connection failed."));break;default:ht()}}finally{Be(Cs,`RPC '${e}' ${s} completed.`)}});const y=JSON.stringify(r);Be(Cs,`RPC '${e}' ${s} sending request:`,r),g.send(t,"POST",y,i,15)})}Ro(e,t,i){const r=ME(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=tl(),h=ha(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;void 0!==y&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.xmlHttpFactory=new qx({})),this.Eo(g.initMessageHeaders,t,i),g.encodeInitMessageHeaders=!0;const I=s.join("");Be(Cs,`Creating RPC '${e}' stream ${r}: ${I}`,g);const S=u.createWebChannel(I,g);let P=!1,k=!1;const U=new MR({ro:ue=>{k?Be(Cs,`Not sending because RPC '${e}' stream ${r} is closed:`,ue):(P||(Be(Cs,`Opening RPC '${e}' stream ${r} transport.`),S.open(),P=!0),Be(Cs,`RPC '${e}' stream ${r} sending:`,ue),S.send(ue))},oo:()=>S.close()}),J=(ue,Re,Ye)=>{ue.listen(Re,st=>{try{Ye(st)}catch(yt){setTimeout(()=>{throw yt},0)}})};return J(S,hv.EventType.OPEN,()=>{k||Be(Cs,`RPC '${e}' stream ${r} transport opened.`)}),J(S,hv.EventType.CLOSE,()=>{k||(k=!0,Be(Cs,`RPC '${e}' stream ${r} transport closed`),U.wo())}),J(S,hv.EventType.ERROR,ue=>{k||(k=!0,ho(Cs,`RPC '${e}' stream ${r} transport errored:`,ue),U.wo(new ke(ce.UNAVAILABLE,"The operation could not be completed")))}),J(S,hv.EventType.MESSAGE,ue=>{var Re;if(!k){const Ye=ue.data[0];At(!!Ye);const st=Ye,yt=st.error||(null===(Re=st[0])||void 0===Re?void 0:Re.error);if(yt){Be(Cs,`RPC '${e}' stream ${r} received error:`,yt);const Kt=yt.status;let Yt=function(Ts){const vl=Wi[Ts];if(void 0!==vl)return qC(vl)}(Kt),On=yt.message;void 0===Yt&&(Yt=ce.INTERNAL,On="Unknown error status: "+Kt+" with message "+yt.message),k=!0,U.wo(new ke(Yt,On)),S.close()}else Be(Cs,`RPC '${e}' stream ${r} received:`,Ye),U._o(Ye)}}),J(h,ST.STAT_EVENT,ue=>{ue.stat===AT.PROXY?Be(Cs,`RPC '${e}' stream ${r} detected buffering proxy`):ue.stat===AT.NOPROXY&&Be(Cs,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{U.fo()},0),U}}function PE(){return typeof document<"u"?document:null}function h_(n){return new SD(n,!0)}class iS{constructor(e,t,i=1e3,r=1.5,s=6e4){this.ii=e,this.timerId=t,this.Po=i,this.bo=r,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),i=Math.max(0,Date.now()-this.Co),r=Math.max(0,t-i);r>0&&Be("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class lP{constructor(e,t,i,r,s,u,h,g){this.ii=e,this.$o=i,this.Oo=r,this.connection=s,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=g,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new iS(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,Se.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,Se.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var i=this;return(0,Se.Z)(function*(){i.Ho(),i.Jo(),i.qo.cancel(),i.Fo++,4!==e?i.qo.reset():t&&t.code===ce.RESOURCE_EXHAUSTED?(Vi(t.toString()),Vi("Using maximum backoff delay to prevent overloading the backend."),i.qo.xo()):t&&t.code===ce.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Yo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Fo===t&&this.Zo(i,r)},i=>{e(()=>{const r=new ke(ce.UNKNOWN,"Fetching auth token failed: "+i.message);return this.tu(r)})})}Zo(e,t){const i=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{i(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(r=>{i(()=>this.tu(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Go(){var e=this;this.state=5,this.qo.No((0,Se.Z)(function*(){e.state=0,e.start()}))}tu(e){return Be("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(Be("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class OR extends lP{constructor(e,t,i,r,s,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,u),this.serializer=s}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function RM(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(g=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===g?1:"REMOVE"===g?2:"CURRENT"===g?3:"RESET"===g?4:ht(),r=e.targetChange.targetIds||[],s=function(g,y){return g.useProto3Json?(At(void 0===y||"string"==typeof y),gr.fromBase64String(y||"")):(At(void 0===y||y instanceof Uint8Array),gr.fromUint8Array(y||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&function(g){const y=void 0===g.code?ce.UNKNOWN:qC(g.code);return new ke(y,g.message||"")}(u);t=new TD(i,r,s,h||null)}else if("documentChange"in e){const i=e.documentChange,r=ol(n,i.document.name),s=zi(i.document.updateTime),u=i.document.createTime?zi(i.document.createTime):Mt.min(),h=new zr({mapValue:{fields:i.document.fields}}),g=oi.newFoundDocument(r,s,u,h);t=new Qm(i.targetIds||[],i.removedTargetIds||[],g.key,g)}else if("documentDelete"in e){const i=e.documentDelete,r=ol(n,i.document),s=i.readTime?zi(i.readTime):Mt.min(),u=oi.newNoDocument(r,s);t=new Qm([],i.removedTargetIds||[],u.key,u)}else if("documentRemove"in e){const i=e.documentRemove,r=ol(n,i.document);t=new Qm([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return ht();{const i=e.filter,{count:r=0,unchangedNames:s}=i,u=new bD(r,s);t=new Ip(i.targetId,u)}}var g;return t}(this.serializer,e),i=function(r){if(!("targetChange"in r))return Mt.min();const s=r.targetChange;return s.targetIds&&s.targetIds.length?Mt.min():s.readTime?zi(s.readTime):Mt.min()}(e);return this.listener.nu(t,i)}su(e){const t={};t.database=Hv(this.serializer),t.addTarget=function(r,s){let u;const h=s.target;if(u=jm(h)?{documents:tE(r,h)}:{query:$v(r,h)},u.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){u.resumeToken=Bv(r,s.resumeToken);const g=Vv(r,s.expectedCount);null!==g&&(u.expectedCount=g)}else if(s.snapshotVersion.compareTo(Mt.min())>0){u.readTime=mu(r,s.snapshotVersion.toTimestamp());const g=Vv(r,s.expectedCount);null!==g&&(u.expectedCount=g)}return u}(this.serializer,e);const i=function LM(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ht()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Wo(t)}iu(e){const t={};t.database=Hv(this.serializer),t.removeTarget=e,this.Wo(t)}}class NR extends lP{constructor(e,t,i,r,s,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,u),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(At(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function FM(n,e){return n&&n.length>0?(At(void 0!==e),n.map(t=>function(i,r){let s=zi(i.updateTime?i.updateTime:r);return s.isEqual(Mt.min())&&(s=zi(r)),new yD(s,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=zi(e.commitTime);return this.listener.cu(i,t)}return At(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Hv(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>function Tp(n,e){let t;if(e instanceof _h)t={update:NM(n,e.key,e.value)};else if(e instanceof Ep)t={delete:sl(n,e.key)};else if(e instanceof _a)t={update:NM(n,e.key,e.data),updateMask:BM(e.fieldMask)};else{if(!(e instanceof GC))return ht();t={verify:sl(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(r,s){const u=s.transform;if(u instanceof yp)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof gu)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof mh)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof wp)return{fieldPath:s.field.canonicalString(),increment:u.gt};throw ht()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:ER(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:ht()),t;var r}(this.serializer,i))};this.Wo(t)}}class kR extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new ke(ce.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.connection.Io(e,t,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new ke(ce.UNKNOWN,r.toString())})}vo(e,t,i,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,u])=>this.connection.vo(e,t,i,s,u,r)).catch(s=>{throw"FirebaseError"===s.name?(s.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ke(ce.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class a{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Vi(t),this.mu=!1):Be("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class c{constructor(e,t,i,r,s){var u=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(h=>{i.enqueueAndForget((0,Se.Z)(function*(){var g;te(u)&&(Be("RemoteStore","Restarting streams for network reachability change."),yield(g=(0,Se.Z)(function*(y){const I=rt(y);I.vu.add(4),yield _(I),I.bu.set("Unknown"),I.vu.delete(4),yield d(I)}),function(y){return g.apply(this,arguments)})(u))}))}),this.bu=new a(i,r)}}function d(n){return f.apply(this,arguments)}function f(){return f=(0,Se.Z)(function*(n){if(te(n))for(const e of n.Ru)yield e(!0)}),f.apply(this,arguments)}function _(n){return w.apply(this,arguments)}function w(){return w=(0,Se.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),w.apply(this,arguments)}function b(n,e){const t=rt(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),q(t)?B(t):g0(t).Ko()&&x(t,e))}function D(n,e){const t=rt(n),i=g0(t);t.Au.delete(e),i.Ko()&&N(t,e),0===t.Au.size&&(i.Ko()?i.jo():te(t)&&t.bu.set("Unknown"))}function x(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Mt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}g0(n).su(e)}function N(n,e){n.Vu.qt(e),g0(n).iu(e)}function B(n){n.Vu=new MM({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),g0(n).start(),n.bu.gu()}function q(n){return te(n)&&!g0(n).Uo()&&n.Au.size>0}function te(n){return 0===rt(n).vu.size}function Me(n){n.Vu=void 0}function He(n){return Xe.apply(this,arguments)}function Xe(){return Xe=(0,Se.Z)(function*(n){n.Au.forEach((e,t)=>{x(n,e)})}),Xe.apply(this,arguments)}function bt(n,e){return Ft.apply(this,arguments)}function Ft(){return Ft=(0,Se.Z)(function*(n,e){Me(n),q(n)?(n.bu.Iu(e),B(n)):n.bu.set("Unknown")}),Ft.apply(this,arguments)}function Fe(n,e,t){return Bt.apply(this,arguments)}function Bt(){return Bt=(0,Se.Z)(function*(n,e,t){if(n.bu.set("Online"),e instanceof TD&&2===e.state&&e.cause)try{yield(i=(0,Se.Z)(function*(r,s){const u=s.cause;for(const h of s.targetIds)r.Au.has(h)&&(yield r.remoteSyncer.rejectListen(h,u),r.Au.delete(h),r.Vu.removeTarget(h))}),function(r,s){return i.apply(this,arguments)})(n,e)}catch(i){Be("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield yn(n,i)}else if(e instanceof Qm?n.Vu.Ht(e):e instanceof Ip?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(Mt.min()))try{const i=yield YD(n.localStore);t.compareTo(i)>=0&&(yield function(r,s){const u=r.Vu.ce(s);return u.targetChanges.forEach((h,g)=>{if(h.resumeToken.approximateByteSize()>0){const y=r.Au.get(g);y&&r.Au.set(g,y.withResumeToken(h.resumeToken,s))}}),u.targetMismatches.forEach((h,g)=>{const y=r.Au.get(h);if(!y)return;r.Au.set(h,y.withResumeToken(gr.EMPTY_BYTE_STRING,y.snapshotVersion)),N(r,h);const I=new al(y.target,h,g,y.sequenceNumber);x(r,I)}),r.remoteSyncer.applyRemoteEvent(u)}(n,t))}catch(i){Be("RemoteStore","Failed to raise snapshot:",i),yield yn(n,i)}var i}),Bt.apply(this,arguments)}function yn(n,e,t){return ai.apply(this,arguments)}function ai(){return ai=(0,Se.Z)(function*(n,e,t){if(!Pt(e))throw e;n.vu.add(1),yield _(n),n.bu.set("Offline"),t||(t=()=>YD(n.localStore)),n.asyncQueue.enqueueRetryable((0,Se.Z)(function*(){Be("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield d(n)}))}),ai.apply(this,arguments)}function Uc(n,e){return e().catch(t=>yn(n,t,e))}function zc(n){return f_.apply(this,arguments)}function f_(){return f_=(0,Se.Z)(function*(n){const e=rt(n),t=Op(e);let i=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;OE(e);)try{const r=yield u0(e.localStore,i);if(null===r){0===e.Eu.length&&t.jo();break}i=r.batchId,NE(e,r)}catch(r){yield yn(e,r)}f0(e)&&p0(e)}),f_.apply(this,arguments)}function OE(n){return te(n)&&n.Eu.length<10}function NE(n,e){n.Eu.push(e);const t=Op(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function f0(n){return te(n)&&!Op(n).Uo()&&n.Eu.length>0}function p0(n){Op(n).start()}function kE(n){return p_.apply(this,arguments)}function p_(){return p_=(0,Se.Z)(function*(n){Op(n).hu()}),p_.apply(this,arguments)}function RE(n){return uP.apply(this,arguments)}function uP(){return uP=(0,Se.Z)(function*(n){const e=Op(n);for(const t of n.Eu)e.uu(t.mutations)}),uP.apply(this,arguments)}function N6(n,e,t){return cP.apply(this,arguments)}function cP(){return cP=(0,Se.Z)(function*(n,e,t){const i=n.Eu.shift(),r=Km.from(i,e,t);yield Uc(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield zc(n)}),cP.apply(this,arguments)}function k6(n,e){return dP.apply(this,arguments)}function dP(){return dP=(0,Se.Z)(function*(n,e){var t;e&&Op(n).ou&&(yield(t=(0,Se.Z)(function*(i,r){if(WC(s=r.code)&&s!==ce.ABORTED){const u=i.Eu.shift();Op(i).Qo(),yield Uc(i,()=>i.remoteSyncer.rejectFailedWrite(u.batchId,r)),yield zc(i)}var s}),function(i,r){return t.apply(this,arguments)})(n,e)),f0(n)&&p0(n)}),dP.apply(this,arguments)}function FR(n,e){return hP.apply(this,arguments)}function hP(){return hP=(0,Se.Z)(function*(n,e){const t=rt(n);t.asyncQueue.verifyOperationInProgress(),Be("RemoteStore","RemoteStore received new credentials");const i=te(t);t.vu.add(3),yield _(t),i&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield d(t)}),hP.apply(this,arguments)}function pP(){return pP=(0,Se.Z)(function*(n,e){const t=rt(n);e?(t.vu.delete(2),yield d(t)):e||(t.vu.add(2),yield _(t),t.bu.set("Unknown"))}),pP.apply(this,arguments)}function g0(n){return n.Su||(n.Su=function(e,t,i){const r=rt(e);return r.fu(),new OR(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{uo:He.bind(null,n),ao:bt.bind(null,n),nu:Fe.bind(null,n)}),n.Ru.push(function(){var e=(0,Se.Z)(function*(t){t?(n.Su.Qo(),q(n)?B(n):n.bu.set("Unknown")):(yield n.Su.stop(),Me(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function Op(n){return n.Du||(n.Du=function(e,t,i){const r=rt(e);return r.fu(),new NR(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{uo:kE.bind(null,n),ao:k6.bind(null,n),au:RE.bind(null,n),cu:N6.bind(null,n)}),n.Ru.push(function(){var e=(0,Se.Z)(function*(t){t?(n.Du.Qo(),yield zc(n)):(yield n.Du.stop(),n.Eu.length>0&&(Be("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class gP{constructor(e,t,i,r,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new nr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(e,t,i,r,s){const u=Date.now()+i,h=new gP(e,t,u,r,s);return h.start(i),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ke(ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function m0(n,e){if(Vi("AsyncQueue",`${e}: ${n}`),Pt(n))return new ke(ce.UNAVAILABLE,`${e}: ${n}`);throw n}class _0{constructor(e){this.comparator=e?(t,i)=>e(t,i)||nt.comparator(t.key,i.key):(t,i)=>nt.comparator(t.key,i.key),this.keyedMap=mp(),this.sortedSet=new _i(this.comparator)}static emptySet(e){return new _0(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof _0)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new _0;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class LR{constructor(){this.Cu=new _i(nt.comparator)}track(e){const t=e.doc.key,i=this.Cu.get(t);i?0!==e.type&&3===i.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==i.type?this.Cu=this.Cu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.Cu=this.Cu.remove(t):1===e.type&&2===i.type?this.Cu=this.Cu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):ht():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,i)=>{e.push(i)}),e}}class y0{constructor(e,t,i,r,s,u,h,g,y){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,t,i,r,s){const u=[];return t.forEach(h=>{u.push({type:0,doc:h})}),new y0(e,t,_0.emptySet(t),u,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&fp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class R6{constructor(){this.Nu=void 0,this.listeners=[]}}class F6{constructor(){this.queries=new pu(e=>VC(e),fp),this.onlineState="Unknown",this.ku=new Set}}function mP(n,e){return _P.apply(this,arguments)}function _P(){return _P=(0,Se.Z)(function*(n,e){const t=rt(n),i=e.query;let r=!1,s=t.queries.get(i);if(s||(r=!0,s=new R6),r)try{s.Nu=yield t.onListen(i)}catch(u){const h=m0(u,`Initialization of query '${xv(e.query)}' failed`);return void e.onError(h)}t.queries.set(i,s),s.listeners.push(e),e.Mu(t.onlineState),s.Nu&&e.$u(s.Nu)&&wP(t)}),_P.apply(this,arguments)}function yP(n,e){return vP.apply(this,arguments)}function vP(){return vP=(0,Se.Z)(function*(n,e){const t=rt(n),i=e.query;let r=!1;const s=t.queries.get(i);if(s){const u=s.listeners.indexOf(e);u>=0&&(s.listeners.splice(u,1),r=0===s.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),vP.apply(this,arguments)}function L6(n,e){const t=rt(n);let i=!1;for(const r of e){const u=t.queries.get(r.query);if(u){for(const h of u.listeners)h.$u(r)&&(i=!0);u.Nu=r}}i&&wP(t)}function V6(n,e,t){const i=rt(n),r=i.queries.get(e);if(r)for(const s of r.listeners)s.onError(t);i.queries.delete(e)}function wP(n){n.ku.forEach(e=>{e.next()})}class CP{constructor(e,t,i){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=i||{}}$u(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new y0(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=y0.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class UR{constructor(e){this.key=e}}class zR{constructor(e){this.key=e}}class HR{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Xt(),this.mutatedKeys=Xt(),this.tc=fD(e),this.ec=new _0(this.tc)}get nc(){return this.Yu}sc(e,t){const i=t?t.ic:new LR,r=t?t.ec:this.ec;let s=t?t.mutatedKeys:this.mutatedKeys,u=r,h=!1;const g="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,y="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((I,S)=>{const P=r.get(I),k=pp(this.query,S)?S:null,U=!!P&&this.mutatedKeys.has(P.key),J=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let ue=!1;P&&k?P.data.isEqual(k.data)?U!==J&&(i.track({type:3,doc:k}),ue=!0):this.rc(P,k)||(i.track({type:2,doc:k}),ue=!0,(g&&this.tc(k,g)>0||y&&this.tc(k,y)<0)&&(h=!0)):!P&&k?(i.track({type:0,doc:k}),ue=!0):P&&!k&&(i.track({type:1,doc:P}),ue=!0,(g||y)&&(h=!0)),ue&&(k?(u=u.add(k),s=J?s.add(I):s.delete(I)):(u=u.delete(I),s=s.delete(I)))}),null!==this.query.limit)for(;u.size>this.query.limit;){const I="F"===this.query.limitType?u.last():u.first();u=u.delete(I.key),s=s.delete(I.key),i.track({type:1,doc:I})}return{ec:u,ic:i,zi:h,mutatedKeys:s}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((y,I)=>function(S,P){const k=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ht()}};return k(S)-k(P)}(y.type,I.type)||this.tc(y.doc,I.doc)),this.oc(i);const u=t?this.uc():[],h=0===this.Zu.size&&this.current?1:0,g=h!==this.Xu;return this.Xu=h,0!==s.length||g?{snapshot:new y0(this.query,e.ec,r,s,e.mutatedKeys,0===h,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),cc:u}:{cc:u}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new LR,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Xt(),this.ec.forEach(i=>{this.ac(i.key)&&(this.Zu=this.Zu.add(i.key))});const t=[];return e.forEach(i=>{this.Zu.has(i)||t.push(new zR(i))}),this.Zu.forEach(i=>{e.has(i)||t.push(new UR(i))}),t}hc(e){this.Yu=e.ir,this.Zu=Xt();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return y0.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class z6{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class H6{constructor(e){this.key=e,this.fc=!1}}class j6{constructor(e,t,i,r,s,u){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=u,this.dc={},this.wc=new pu(h=>VC(h),fp),this._c=new Map,this.mc=new Set,this.gc=new _i(nt.comparator),this.yc=new Map,this.Ic=new t0,this.Tc={},this.Ec=new Map,this.Ac=Lc.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function $6(n,e){return EP.apply(this,arguments)}function EP(){return EP=(0,Se.Z)(function*(n,e){const t=GP(n);let i,r;const s=t.wc.get(e);if(s)i=s.targetId,t.sharedClientState.addLocalQueryTarget(i),r=s.view.lc();else{const u=yield l_(t.localStore,Bs(e)),h=t.sharedClientState.addLocalQueryTarget(u.targetId);i=u.targetId,r=yield bP(t,e,i,"current"===h,u.resumeToken),t.isPrimaryClient&&b(t.remoteStore,u)}return r}),EP.apply(this,arguments)}function bP(n,e,t,i,r){return IP.apply(this,arguments)}function IP(){return IP=(0,Se.Z)(function*(n,e,t,i,r){n.Rc=(S,P,k)=>{return(U=(0,Se.Z)(function*(J,ue,Re,Ye){let st=ue.view.sc(Re);st.zi&&(st=yield bE(J.localStore,ue.query,!1).then(({documents:Yt})=>ue.view.sc(Yt,st)));const yt=Ye&&Ye.targetChanges.get(ue.targetId),Kt=ue.view.applyChanges(st,J.isPrimaryClient,yt);return kP(J,ue.targetId,Kt.cc),Kt.snapshot}),function(J,ue,Re,Ye){return U.apply(this,arguments)})(n,S,P,k);var U};const s=yield bE(n.localStore,e,!0),u=new HR(e,s.ir),h=u.sc(s.documents),g=bp.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState,r),y=u.applyChanges(h,n.isPrimaryClient,g);kP(n,t,y.cc);const I=new z6(e,t,u);return n.wc.set(e,I),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),y.snapshot}),IP.apply(this,arguments)}function G6(n,e){return TP.apply(this,arguments)}function TP(){return TP=(0,Se.Z)(function*(n,e){const t=rt(n),i=t.wc.get(e),r=t._c.get(i.targetId);if(r.length>1)return t._c.set(i.targetId,r.filter(s=>!fp(s,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield u_(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),D(t.remoteStore,i.targetId),v0(t,i.targetId)}).catch(fo))):(v0(t,i.targetId),yield u_(t.localStore,i.targetId,!0))}),TP.apply(this,arguments)}function DP(){return DP=(0,Se.Z)(function*(n,e,t){const i=WP(n);try{const r=yield function(s,u){const h=rt(s),g=Ei.now(),y=u.reduce((P,k)=>P.add(k.key),Xt());let I,S;return h.persistence.runTransaction("Locally write mutations","readwrite",P=>{let k=Us(),U=Xt();return h.Zi.getEntries(P,y).next(J=>{k=J,k.forEach((ue,Re)=>{Re.isValidDocument()||(U=U.add(ue))})}).next(()=>h.localDocuments.getOverlayedDocuments(P,k)).next(J=>{I=J;const ue=[];for(const Re of u){const Ye=$C(Re,I.get(Re.key).overlayedDocument);null!=Ye&&ue.push(new _a(Re.key,Ye,xC(Ye.value.mapValue),yi.exists(!0)))}return h.mutationQueue.addMutationBatch(P,g,ue,u)}).next(J=>{S=J;const ue=J.applyToLocalDocumentSet(I,U);return h.documentOverlayCache.saveOverlays(P,J.batchId,ue)})}).then(()=>({batchId:S.batchId,changes:UC(I)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(s,u,h){let g=s.Tc[s.currentUser.toKey()];g||(g=new _i(Wt)),g=g.insert(u,h),s.Tc[s.currentUser.toKey()]=g}(i,r.batchId,t),yield Ih(i,r.changes),yield zc(i.remoteStore)}catch(r){const s=m0(r,"Failed to persist write");t.reject(s)}}),DP.apply(this,arguments)}function jR(n,e){return SP.apply(this,arguments)}function SP(){return SP=(0,Se.Z)(function*(n,e){const t=rt(n);try{const i=yield EE(t.localStore,e);e.targetChanges.forEach((r,s)=>{const u=t.yc.get(s);u&&(At(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?u.fc=!0:r.modifiedDocuments.size>0?At(u.fc):r.removedDocuments.size>0&&(At(u.fc),u.fc=!1))}),yield Ih(t,i,e)}catch(i){yield fo(i)}}),SP.apply(this,arguments)}function $R(n,e,t){const i=rt(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.wc.forEach((s,u)=>{const h=u.view.Mu(e);h.snapshot&&r.push(h.snapshot)}),function(s,u){const h=rt(s);h.onlineState=u;let g=!1;h.queries.forEach((y,I)=>{for(const S of I.listeners)S.Mu(u)&&(g=!0)}),g&&wP(h)}(i.eventManager,e),r.length&&i.dc.nu(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function q6(n,e,t){return AP.apply(this,arguments)}function AP(){return AP=(0,Se.Z)(function*(n,e,t){const i=rt(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.yc.get(e),s=r&&r.key;if(s){let u=new _i(nt.comparator);u=u.insert(s,oi.newNoDocument(s,Mt.min()));const h=Xt().add(s),g=new Fv(Mt.min(),new Map,new _i(Wt),u,h);yield jR(i,g),i.gc=i.gc.remove(s),i.yc.delete(e),RP(i)}else yield u_(i.localStore,e,!1).then(()=>v0(i,e,t)).catch(fo)}),AP.apply(this,arguments)}function Z6(n,e){return xP.apply(this,arguments)}function xP(){return xP=(0,Se.Z)(function*(n,e){const t=rt(n),i=e.batch.batchId;try{const r=yield CE(t.localStore,e);NP(t,i,null),OP(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield Ih(t,r)}catch(r){yield fo(r)}}),xP.apply(this,arguments)}function K6(n,e,t){return MP.apply(this,arguments)}function MP(){return MP=(0,Se.Z)(function*(n,e,t){const i=rt(n);try{const r=yield function(s,u){const h=rt(s);return h.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let y;return h.mutationQueue.lookupMutationBatch(g,u).next(I=>(At(null!==I),y=I.keys(),h.mutationQueue.removeMutationBatch(g,I))).next(()=>h.mutationQueue.performConsistencyCheck(g)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(g,y,u)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,y)).next(()=>h.localDocuments.getDocuments(g,y))})}(i.localStore,e);NP(i,e,t),OP(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield Ih(i,r)}catch(r){yield fo(r)}}),MP.apply(this,arguments)}function OP(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function NP(n,e,t){const i=rt(n);let r=i.Tc[i.currentUser.toKey()];if(r){const s=r.get(e);s&&(t?s.reject(t):s.resolve(),r=r.remove(e)),i.Tc[i.currentUser.toKey()]=r}}function v0(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n._c.get(e))n.wc.delete(i),t&&n.dc.Pc(i,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(i=>{n.Ic.containsKey(i)||GR(n,i)})}function GR(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(D(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),RP(n))}function kP(n,e,t){for(const i of t)i instanceof UR?(n.Ic.addReference(i.key,e),Q6(n,i)):i instanceof zR?(Be("SyncEngine","Document no longer in limbo: "+i.key),n.Ic.removeReference(i.key,e),n.Ic.containsKey(i.key)||GR(n,i.key)):ht()}function Q6(n,e){const t=e.key,i=t.path.canonicalString();n.gc.get(t)||n.mc.has(i)||(Be("SyncEngine","New document in limbo: "+t),n.mc.add(i),RP(n))}function RP(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new nt(mn.fromString(e)),i=n.Ac.next();n.yc.set(i,new H6(t)),n.gc=n.gc.insert(t,i),b(n.remoteStore,new al(Bs(gh(t.path)),i,"TargetPurposeLimboResolution",Qr.ct))}}function Ih(n,e,t){return FP.apply(this,arguments)}function FP(){return FP=(0,Se.Z)(function*(n,e,t){const i=rt(n),r=[],s=[],u=[];var h;i.wc.isEmpty()||(i.wc.forEach((h,g)=>{u.push(i.Rc(g,e,t).then(y=>{if((y||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(g.targetId,y?.fromCache?"not-current":"current"),y){r.push(y);const I=vE.Li(g.targetId,y);s.push(I)}}))}),yield Promise.all(u),i.dc.nu(r),yield(h=(0,Se.Z)(function*(g,y){const I=rt(g);try{yield I.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>ae.forEach(y,P=>ae.forEach(P.Fi,k=>I.persistence.referenceDelegate.addReference(S,P.targetId,k)).next(()=>ae.forEach(P.Bi,k=>I.persistence.referenceDelegate.removeReference(S,P.targetId,k)))))}catch(S){if(!Pt(S))throw S;Be("LocalStore","Failed to update sequence numbers: "+S)}for(const S of y){const P=S.targetId;if(!S.fromCache){const k=I.Ji.get(P),J=k.withLastLimboFreeSnapshotVersion(k.snapshotVersion);I.Ji=I.Ji.insert(P,J)}}}),function(g,y){return h.apply(this,arguments)})(i.localStore,s))}),FP.apply(this,arguments)}function J6(n,e){return LP.apply(this,arguments)}function LP(){return LP=(0,Se.Z)(function*(n,e){const t=rt(n);if(!t.currentUser.isEqual(e)){Be("SyncEngine","User change. New user:",e.toKey());const i=yield wE(t.localStore,e);t.currentUser=e,(r=t).Ec.forEach(u=>{u.forEach(h=>{h.reject(new ke(ce.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.Ec.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield Ih(t,i.er)}var r}),LP.apply(this,arguments)}function X6(n,e){const t=rt(n),i=t.yc.get(e);if(i&&i.fc)return Xt().add(i.key);{let r=Xt();const s=t._c.get(e);if(!s)return r;for(const u of s){const h=t.wc.get(u);r=r.unionWith(h.view.nc)}return r}}function GP(n){const e=rt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=jR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=X6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=q6.bind(null,e),e.dc.nu=L6.bind(null,e.eventManager),e.dc.Pc=V6.bind(null,e.eventManager),e}function WP(n){const e=rt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Z6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=K6.bind(null,e),e}class FE{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Se.Z)(function*(){t.serializer=h_(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function Bc(n,e,t,i){return new KD(n,e,t,i)}(this.persistence,new ZD,e.initialUser,this.serializer)}createPersistence(e){return new n0(r0.zs,this.serializer)}createSharedClientState(e){return new nS}terminate(){var e=this;return(0,Se.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class w0{initialize(e,t){var i=this;return(0,Se.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>$R(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=J6.bind(null,i.syncEngine),yield function fP(n,e){return pP.apply(this,arguments)}(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new F6}createDatastore(e){const t=h_(e.databaseInfo.databaseId),i=new PR(e.databaseInfo);return new kR(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,r=e.asyncQueue,s=h=>$R(this.syncEngine,h,0),u=sP.D()?new sP:new xR,new c(t,i,r,s,u);var t,i,r,s,u}createSyncEngine(e,t){return function(i,r,s,u,h,g,y){const I=new j6(i,r,s,u,h,g);return y&&(I.vc=!0),I}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Se.Z)(function*(t){const i=rt(t);Be("RemoteStore","RemoteStore shutting down."),i.vu.add(5),yield _(i),i.Pu.shutdown(),i.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class rS{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Vi("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class hz{constructor(e,t,i,r){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=pr.UNAUTHENTICATED,this.clientId=RT.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var u=(0,Se.Z)(function*(h){Be("FirestoreClient","Received user=",h.uid),yield s.authCredentialListener(h),s.user=h});return function(h){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(i,u=>(Be("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var e=this;return(0,Se.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ke(ce.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new nr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Se.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=m0(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function sS(n,e){return ZP.apply(this,arguments)}function ZP(){return ZP=(0,Se.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Be("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=(0,Se.Z)(function*(s){i.isEqual(s)||(yield wE(e.localStore,s),i=s)});return function(s){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),ZP.apply(this,arguments)}function KP(n,e){return YP.apply(this,arguments)}function YP(){return YP=(0,Se.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield QP(n);Be("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>FR(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>FR(e.remoteStore,s)),n._onlineComponents=e}),YP.apply(this,arguments)}function YR(n){return"FirebaseError"===n.name?n.code===ce.FAILED_PRECONDITION||n.code===ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function QP(n){return JP.apply(this,arguments)}function JP(){return JP=(0,Se.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Be("FirestoreClient","Using user provided OfflineComponentProvider");try{yield sS(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!YR(t))throw t;ho("Error using user provided cache. Falling back to memory cache: "+t),yield sS(n,new FE)}}else Be("FirestoreClient","Using default OfflineComponentProvider"),yield sS(n,new FE);return n._offlineComponents}),JP.apply(this,arguments)}function oS(n){return XP.apply(this,arguments)}function XP(){return XP=(0,Se.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Be("FirestoreClient","Using user provided OnlineComponentProvider"),yield KP(n,n._uninitializedComponentsProvider._online)):(Be("FirestoreClient","Using default OnlineComponentProvider"),yield KP(n,new w0))),n._onlineComponents}),XP.apply(this,arguments)}function aS(n){return QP(n).then(e=>e.localStore)}function C0(n){return t1.apply(this,arguments)}function t1(){return t1=(0,Se.Z)(function*(n){const e=yield oS(n),t=e.eventManager;return t.onListen=$6.bind(null,e.syncEngine),t.onUnlisten=G6.bind(null,e.syncEngine),t}),t1.apply(this,arguments)}function eF(n,e,t={}){const i=new nr;return n.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return function(r,s,u,h,g){const y=new rS({next:S=>{s.enqueueAndForget(()=>yP(r,I));const P=S.docs.has(u);!P&&S.fromCache?g.reject(new ke(ce.UNAVAILABLE,"Failed to get document because the client is offline.")):P&&S.fromCache&&h&&"server"===h.source?g.reject(new ke(ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(S)},error:S=>g.reject(S)}),I=new CP(gh(u.path),y,{includeMetadataChanges:!0,Ku:!0});return mP(r,I)}(yield C0(n),n.asyncQueue,e,t,i)})),i.promise}function tF(n,e,t={}){const i=new nr;return n.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return function(r,s,u,h,g){const y=new rS({next:S=>{s.enqueueAndForget(()=>yP(r,I)),S.fromCache&&"server"===h.source?g.reject(new ke(ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(S)},error:S=>g.reject(S)}),I=new CP(u,y,{includeMetadataChanges:!0,Ku:!0});return mP(r,I)}(yield C0(n),n.asyncQueue,e,t,i)})),i.promise}function nF(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const iF=new Map;function n1(n,e,t){if(!t)throw new ke(ce.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function sF(n){if(!nt.isDocumentKey(n))throw new ke(ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function oF(n){if(nt.isDocumentKey(n))throw new ke(ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function lS(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":ht()}function vn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ke(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=lS(n);throw new ke(ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function aF(n,e){if(e<=0)throw new ke(ce.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class lF{constructor(e){var t,i;if(void 0===e.host){if(void 0!==e.ssl)throw new ke(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ke(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function rF(n,e,t,i){if(!0===e&&!0===i)throw new ke(ce.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=nF(null!==(i=e.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(r){if(void 0!==r.timeoutSeconds){if(isNaN(r.timeoutSeconds))throw new ke(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ke(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ke(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class LE{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lF({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ke(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ke(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lF(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new PT;switch(t.type){case"firstParty":return new Yx(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new ke(ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=iF.get(e);t&&(Be("ComponentProvider","Removing Datastore"),iF.delete(e),t.terminate())}(this),Promise.resolve()}}class Pi{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Pi(this.firestore,e,this._key)}}class Es{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Es(this.firestore,e,this._query)}}class Hc extends Es{constructor(e,t,i){super(e,t,gh(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Pi(this.firestore,null,new nt(e))}withConverter(e){return new Hc(this.firestore,e,this._path)}}function uS(n,e,...t){if(n=(0,F.m9)(n),1===arguments.length&&(e=RT.A()),n1("doc","path",e),n instanceof LE){const i=mn.fromString(e,...t);return sF(i),new Pi(n,null,new nt(i))}{if(!(n instanceof Pi||n instanceof Hc))throw new ke(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(mn.fromString(e,...t));return sF(i),new Pi(n.firestore,n instanceof Hc?n.converter:null,new nt(i))}}function dF(n,e){return n=(0,F.m9)(n),e=(0,F.m9)(e),(n instanceof Pi||n instanceof Hc)&&(e instanceof Pi||e instanceof Hc)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function i1(n,e){return n=(0,F.m9)(n),e=(0,F.m9)(e),n instanceof Es&&e instanceof Es&&n.firestore===e.firestore&&fp(n._query,e._query)&&n.converter===e.converter}class Ez{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new iS(this,"async_queue_retry"),this.Xc=()=>{const t=PE();t&&Be("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=PE();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=PE();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new nr;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,Se.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!Pt(t))throw t;Be("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(i=>{throw this.Wc=i,this.Hc=!1,Vi("INTERNAL UNHANDLED ERROR: ",function(s){let u=s.message||"";return s.stack&&(u=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),u}(i)),i}).then(i=>(this.Hc=!1,i))));return this.Gc=t,t}enqueueAfterDelay(e,t,i){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const r=gP.createAndSchedule(this,e,t,i,s=>this.na(s));return this.zc.push(r),r}Zc(){this.Wc&&ht()}verifyOperationInProgress(){}sa(){var e=this;return(0,Se.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function r1(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const i=e;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class Oi extends LE{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new Ez,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||hF(this),this._firestoreClient.terminate()}}function _r(n){return n._firestoreClient||hF(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function hF(n){var e,t,i;const r=n._freezeSettings(),s=(h=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new gM(n._databaseId,h,n._persistenceKey,(y=r).host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,nF(y.experimentalLongPollingOptions),y.useFetchStreams));var h,y;n._firestoreClient=new hz(n._authCredentials,n._appCheckCredentials,n._queue,s),(null===(t=r.cache)||void 0===t?void 0:t._offlineComponentProvider)&&(null===(i=r.cache)||void 0===i?void 0:i._onlineComponentProvider)&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.cache.kind,_offline:r.cache._offlineComponentProvider,_online:r.cache._onlineComponentProvider})}class jc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new jc(gr.fromBase64String(e))}catch(t){throw new ke(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new jc(gr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Th{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new ke(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class g_{constructor(e){this._methodName=e}}class cS{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ke(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ke(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Wt(this._lat,e._lat)||Wt(this._long,e._long)}}const kz=/^__.*__$/;class Rz{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new _a(e,this.data,this.fieldMask,t,this.fieldTransforms):new _h(e,this.data,t,this.fieldTransforms)}}class gF{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new _a(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function mF(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ht()}}class dS{constructor(e,t,i,r,s,u){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===s&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=u||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new dS(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:i,la:!1});return r.fa(e),r}da(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:i,la:!1});return r.ua(),r}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return pS(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(mF(this.ca)&&kz.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class Fz{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||h_(e)}ya(e,t,i,r=!1){return new dS({ca:e,methodName:t,ga:i,path:Bi.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function m_(n){const e=n._freezeSettings(),t=h_(n._databaseId);return new Fz(n._databaseId,!!e.ignoreUndefinedProperties,t)}function hS(n,e,t,i,r,s={}){const u=n.ya(s.merge||s.mergeFields?2:0,e,t,r);l1("Data must be an object, but it was:",u,i);const h=vF(i,u);let g,y;if(s.merge)g=new ys(u.fieldMask),y=u.fieldTransforms;else if(s.mergeFields){const I=[];for(const S of s.mergeFields){const P=UE(e,S,t);if(!u.contains(P))throw new ke(ce.INVALID_ARGUMENT,`Field '${P}' is specified in your field mask but missing from your input data.`);CF(I,P)||I.push(P)}g=new ys(I),y=u.fieldTransforms.filter(S=>g.covers(S.field))}else g=null,y=u.fieldTransforms;return new Rz(new zr(h),g,y)}class BE extends g_{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof BE}}function yF(n,e,t,i=!1){return __(t,n.ya(i?4:3,e))}function __(n,e){if(wF(n=(0,F.m9)(n)))return l1("Unsupported field value:",e,n),vF(n,e);if(n instanceof g_)return function(t,i){if(!mF(i.ca))throw i._a(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i._a(`${t._methodName}() is not currently supported inside arrays`);const r=t._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,i){const r=[];let s=0;for(const u of t){let h=__(u,i.wa(s));null==h&&(h={nullValue:"NULL_VALUE"}),r.push(h),s++}return{arrayValue:{values:r}}}(n,e)}return function(t,i){if(null===(t=(0,F.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return mD(i.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const r=Ei.fromDate(t);return{timestampValue:mu(i.serializer,r)}}if(t instanceof Ei){const r=new Ei(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:mu(i.serializer,r)}}if(t instanceof cS)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof jc)return{bytesValue:Bv(i.serializer,t._byteString)};if(t instanceof Pi){const r=i.databaseId,s=t.firestore._databaseId;if(!s.isEqual(r))throw i._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:XC(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i._a(`Unsupported field value: ${lS(t)}`)}(n,e)}function vF(n,e){const t={};return hM(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):uh(n,(i,r)=>{const s=__(r,e.ha(i));null!=s&&(t[i]=s)}),{mapValue:{fields:t}}}function wF(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Ei||n instanceof cS||n instanceof jc||n instanceof Pi||n instanceof g_)}function l1(n,e,t){if(!wF(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=lS(t);throw e._a("an object"===i?n+" a custom object":n+" "+i)}var i}function UE(n,e,t){if((e=(0,F.m9)(e))instanceof Th)return e._internalPath;if("string"==typeof e)return fS(n,e);throw pS("Field path arguments must be of type string or ",n,!1,void 0,t)}const Uz=new RegExp("[~\\*/\\[\\]]");function fS(n,e,t){if(e.search(Uz)>=0)throw pS(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Th(...e.split("."))._internalPath}catch{throw pS(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function pS(n,e,t,i,r){const s=i&&!i.isEmpty(),u=void 0!==r;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let g="";return(s||u)&&(g+=" (found",s&&(g+=` in field ${i}`),u&&(g+=` in document ${r}`),g+=")"),new ke(ce.INVALID_ARGUMENT,h+n+g)}function CF(n,e){return n.some(t=>t.isEqual(e))}class zE{constructor(e,t,i,r,s){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Pi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new zz(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(gS("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class zz extends zE{data(){return super.data()}}function gS(n,e){return"string"==typeof e?fS(n,e):e instanceof Th?e._internalPath:e._delegate._internalPath}function EF(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new ke(ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class u1{}class HE extends u1{}function Np(n,e,...t){let i=[];e instanceof u1&&i.push(e),i=i.concat(t),function(r){const s=r.filter(h=>h instanceof E0).length,u=r.filter(h=>h instanceof jE).length;if(s>1||s>0&&u>0)throw new ke(ce.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class jE extends HE{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new jE(e,t,i)}_apply(e){const t=this._parse(e);return DF(e._query,t),new Es(e.firestore,e.converter,LC(e._query,t))}_parse(e){const t=m_(e.firestore);return function(r,s,u,h,g,y,I){let S;if(g.isKeyField()){if("array-contains"===y||"array-contains-any"===y)throw new ke(ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if("in"===y||"not-in"===y){TF(I,y);const P=[];for(const k of I)P.push(IF(h,r,k));S={arrayValue:{values:P}}}else S=IF(h,r,I)}else"in"!==y&&"not-in"!==y&&"array-contains-any"!==y||TF(I,y),S=yF(u,"where",I,"in"===y||"not-in"===y);return sn.create(g,y,S)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class E0 extends u1{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new E0(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return 1===t.length?t[0]:Sn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(i,r){let s=i;const u=r.getFlattenedFilters();for(const h of u)DF(s,h),s=LC(s,h)}(e._query,t),new Es(e.firestore,e.converter,LC(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class c1 extends HE{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new c1(e,t)}_apply(e){const t=function(i,r,s){if(null!==i.startAt)throw new ke(ce.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new ke(ce.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new cp(r,s);return function(h,g){if(null===Dv(h)){const y=Sv(h);null!==y&&SF(0,y,g.field)}}(i,u),u}(e._query,this._field,this._direction);return new Es(e.firestore,e.converter,function(i,r){const s=i.explicitOrderBy.concat([r]);return new fu(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class mS extends HE{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new mS(e,t,i)}_apply(e){return new Es(e.firestore,e.converter,Av(e._query,this._limit,this._limitType))}}class _S extends HE{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new _S(e,t,i)}_apply(e){const t=bF(e,this.type,this._docOrFields,this._inclusive);return new Es(e.firestore,e.converter,(r=t,new fu((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class yS extends HE{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new yS(e,t,i)}_apply(e){const t=bF(e,this.type,this._docOrFields,this._inclusive);return new Es(e.firestore,e.converter,(r=t,new fu((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function bF(n,e,t,i){if(t[0]=(0,F.m9)(t[0]),t[0]instanceof zE)return function(r,s,u,h,g){if(!h)throw new ke(ce.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const y=[];for(const I of hp(r))if(I.field.isKeyField())y.push(dh(s,h.key));else{const S=h.data.field(I.field);if(Cv(S))throw new ke(ce.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+I.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===S){const P=I.field.canonicalString();throw new ke(ce.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${P}' (used as the orderBy) does not exist.`)}y.push(S)}return new Pc(y,g)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const r=m_(n.firestore);return function(s,u,h,g,y,I){const S=s.explicitOrderBy;if(y.length>S.length)throw new ke(ce.INVALID_ARGUMENT,`Too many arguments provided to ${g}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const P=[];for(let k=0;k<y.length;k++){const U=y[k];if(S[k].field.isKeyField()){if("string"!=typeof U)throw new ke(ce.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${g}(), but got a ${typeof U}`);if(!FC(s)&&-1!==U.indexOf("/"))throw new ke(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${g}() must be a plain document ID, but '${U}' contains a slash.`);const J=s.path.child(mn.fromString(U));if(!nt.isDocumentKey(J))throw new ke(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${g}() must result in a valid document path, but '${J}' is not because it contains an odd number of segments.`);const ue=new nt(J);P.push(dh(u,ue))}else{const J=yF(h,g,U);P.push(J)}}return new Pc(P,I)}(n._query,n.firestore._databaseId,r,e,t,i)}}function IF(n,e,t){if("string"==typeof(t=(0,F.m9)(t))){if(""===t)throw new ke(ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!FC(e)&&-1!==t.indexOf("/"))throw new ke(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(mn.fromString(t));if(!nt.isDocumentKey(i))throw new ke(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return dh(n,new nt(i))}if(t instanceof Pi)return dh(n,t._key);throw new ke(ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${lS(t)}.`)}function TF(n,e){if(!Array.isArray(n)||0===n.length)throw new ke(ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function DF(n,e){if(e.isInequality()){const i=Sv(n),r=e.field;if(null!==i&&!i.isEqual(r))throw new ke(ce.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${r.toString()}'`);const s=Dv(n);null!==s&&SF(0,r,s)}const t=function(i,r){for(const s of i)for(const u of s.getFlattenedFilters())if(r.indexOf(u.op)>=0)return u.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new ke(ce.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function SF(n,e,t){if(!t.isEqual(e))throw new ke(ce.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class d1{convertValue(e,t="none"){switch(Mc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ui(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(il(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ht()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return uh(e,(r,s)=>{i[r]=this.convertValue(s,t)}),i}convertGeoPoint(e){return new cS(Ui(e.latitude),Ui(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Ev(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(du(e));default:return null}}convertTimestamp(e){const t=Ac(e);return new Ei(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=mn.fromString(e);At(UM(i));const r=new hu(i.get(1),i.get(3)),s=new nt(i.popFirst(5));return r.isEqual(t)||Vi(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}function vS(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class y_{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Dh extends zE{constructor(e,t,i,r,s,u){super(e,t,i,r,u),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new $E(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(gS("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class $E extends Dh{data(e={}){return super.data(e)}}class kp{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new y_(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new $E(this._firestore,this._userDataWriter,i.key,i,new y_(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ke(ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(u=>({type:"added",doc:new $E(i._firestore,i._userDataWriter,u.doc.key,u.doc,new y_(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>r||3!==u.type).map(u=>{const h=new $E(i._firestore,i._userDataWriter,u.doc.key,u.doc,new y_(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let g=-1,y=-1;return 0!==u.type&&(g=s.indexOf(u.doc.key),s=s.delete(u.doc.key)),1!==u.type&&(s=s.add(u.doc),y=s.indexOf(u.doc.key)),{type:Jz(u.type),doc:h,oldIndex:g,newIndex:y}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Jz(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ht()}}function xF(n,e){return n instanceof Dh&&e instanceof Dh?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof kp&&e instanceof kp&&n._firestore===e._firestore&&i1(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Rp extends d1{constructor(e){super(),this.firestore=e}convertBytes(e){return new jc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Pi(this.firestore,null,t)}}function MF(n,e,t){n=vn(n,Pi);const i=vn(n.firestore,Oi),r=vS(n.converter,e,t);return b0(i,[hS(m_(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,yi.none())])}function PF(n,e,t,...i){n=vn(n,Pi);const r=vn(n.firestore,Oi),s=m_(r);let u;return u="string"==typeof(e=(0,F.m9)(e))||e instanceof Th?function a1(n,e,t,i,r,s){const u=n.ya(1,e,t),h=[UE(e,i,t)],g=[r];if(s.length%2!=0)throw new ke(ce.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let P=0;P<s.length;P+=2)h.push(UE(e,s[P])),g.push(s[P+1]);const y=[],I=zr.empty();for(let P=h.length-1;P>=0;--P)if(!CF(y,h[P])){const k=h[P];let U=g[P];U=(0,F.m9)(U);const J=u.da(k);if(U instanceof BE)y.push(k);else{const ue=__(U,J);null!=ue&&(y.push(k),I.set(k,ue))}}const S=new ys(y);return new gF(I,S,u.fieldTransforms)}(s,"updateDoc",n._key,e,t,i):function o1(n,e,t,i){const r=n.ya(1,e,t);l1("Data must be an object, but it was:",r,i);const s=[],u=zr.empty();uh(i,(g,y)=>{const I=fS(e,g,t);y=(0,F.m9)(y);const S=r.da(I);if(y instanceof BE)s.push(I);else{const P=__(y,S);null!=P&&(s.push(I),u.set(I,P))}});const h=new ys(s);return new gF(u,h,r.fieldTransforms)}(s,"updateDoc",n._key,e),b0(r,[u.toMutation(n._key,yi.exists(!0))])}function OF(n,...e){var t,i,r;n=(0,F.m9)(n);let s={includeMetadataChanges:!1},u=0;"object"!=typeof e[u]||r1(e[u])||(s=e[u],u++);const h={includeMetadataChanges:s.includeMetadataChanges};if(r1(e[u])){const S=e[u];e[u]=null===(t=S.next)||void 0===t?void 0:t.bind(S),e[u+1]=null===(i=S.error)||void 0===i?void 0:i.bind(S),e[u+2]=null===(r=S.complete)||void 0===r?void 0:r.bind(S)}let g,y,I;if(n instanceof Pi)y=vn(n.firestore,Oi),I=gh(n._key.path),g={next:S=>{e[u]&&e[u](h1(y,n,S))},error:e[u+1],complete:e[u+2]};else{const S=vn(n,Es);y=vn(S.firestore,Oi),I=S._query;const P=new Rp(y);g={next:k=>{e[u]&&e[u](new kp(y,P,S,k))},error:e[u+1],complete:e[u+2]},EF(n._query)}return function(S,P,k,U){const J=new rS(U),ue=new CP(P,J,k);return S.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return mP(yield C0(S),ue)})),()=>{J.Dc(),S.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return yP(yield C0(S),ue)}))}}(_r(y),I,h,g)}function b0(n,e){return function(t,i){const r=new nr;return t.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return function W6(n,e,t){return DP.apply(this,arguments)}(yield function e1(n){return oS(n).then(e=>e.syncEngine)}(t),i,r)})),r.promise}(_r(n),e)}function h1(n,e,t){const i=t.docs.get(e._key),r=new Rp(n);return new Dh(n,r,e._key,i,new y_(t.hasPendingWrites,t.fromCache),e.converter)}function RF(){if(typeof Uint8Array>"u")throw new ke("unimplemented","Uint8Arrays are not available in this environment.")}function FF(){if(!function fM(){return typeof atob<"u"}())throw new ke("unimplemented","Blobs are unavailable in Firestore in this environment.")}class GE{constructor(e){this._delegate=e}static fromBase64String(e){return FF(),new GE(jc.fromBase64String(e))}static fromUint8Array(e){return RF(),new GE(jc.fromUint8Array(e))}toBase64(){return FF(),this._delegate.toBase64()}toUint8Array(){return RF(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function p1(n){return function D3(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class wS extends d1{constructor(e){super(),this.firestore=e}convertBytes(e){return new GE(new jc(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return ll.forKey(t,this.firestore,null)}}class v_{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new $E(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new qE(this._firestore,i),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=v_.INSTANCES;let r=i.get(e);r||(r=new WeakMap,i.set(e,r));let s=r.get(t);return s||(s=new v_(e,new wS(e),t),r.set(t,s)),s}}v_.INSTANCES=new WeakMap;class ll{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new wS(e)}static forPath(e,t,i){if(e.length%2!=0)throw new ke("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ll(t,new Pi(t._delegate,i,new nt(e)))}static forKey(e,t,i){return new ll(t,new Pi(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new I0(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new I0(this.firestore,function cF(n,e,...t){if(n=(0,F.m9)(n),n1("collection","path",e),n instanceof LE){const i=mn.fromString(e,...t);return oF(i),new Hc(n,null,i)}{if(!(n instanceof Pi||n instanceof Hc))throw new ke(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(mn.fromString(e,...t));return oF(i),new Hc(n.firestore,null,i)}}(this._delegate,e))}catch(t){throw po(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,F.m9)(e))instanceof Pi&&dF(this._delegate,e)}set(e,t){t=function f1(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new ke("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}("DocumentReference.set",t);try{return t?MF(this._delegate,e,t):MF(this._delegate,e)}catch(i){throw po(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?PF(this._delegate,e):PF(this._delegate,e,t,...i)}catch(r){throw po(r,"updateDoc()","DocumentReference.update()")}}delete(){return function s3(n){return b0(vn(n.firestore,Oi),[new Ep(n._key,yi.none())])}(this._delegate)}onSnapshot(...e){const t=UF(e),i=zF(e,r=>new WE(this.firestore,new Dh(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return OF(this._delegate,t,i)}get(e){let t;return t="cache"===e?.source?function e3(n){n=vn(n,Pi);const e=vn(n.firestore,Oi),t=_r(e),i=new Rp(e);return function gz(n,e){const t=new nr;return n.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return(i=(0,Se.Z)(function*(r,s,u){try{const h=yield function(g,y){const I=rt(g);return I.persistence.runTransaction("read document","readonly",S=>I.localDocuments.getDocument(S,y))}(r,s);h.isFoundDocument()?u.resolve(h):h.isNoDocument()?u.resolve(null):u.reject(new ke(ce.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const g=m0(h,`Failed to get document '${s} from cache`);u.reject(g)}}),function(r,s,u){return i.apply(this,arguments)})(yield aS(n),e,t);var i})),t.promise}(t,n._key).then(r=>new Dh(e,i,n._key,r,new y_(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function t3(n){n=vn(n,Pi);const e=vn(n.firestore,Oi);return eF(_r(e),n._key,{source:"server"}).then(t=>h1(e,n,t))}(this._delegate):function Xz(n){n=vn(n,Pi);const e=vn(n.firestore,Oi);return eF(_r(e),n._key).then(t=>h1(e,n,t))}(this._delegate),t.then(i=>new WE(this.firestore,new Dh(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new ll(this.firestore,this._delegate.withConverter(e?v_.getInstance(this.firestore,e):null))}}function po(n,e,t){return n.message=n.message.replace(e,t),n}function UF(n){for(const e of n)if("object"==typeof e&&!p1(e))return e;return{}}function zF(n,e){var t,i;let r;return r=p1(n[0])?n[0]:p1(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{r.next&&r.next(e(s))},error:null===(t=r.error)||void 0===t?void 0:t.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class WE{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new ll(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return xF(this._delegate,e._delegate)}}class qE extends WE{data(e){const t=this._delegate.data(e);return function MT(n,e){n||ht()}(void 0!==t),t}}class go{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new wS(e)}where(e,t,i){try{return new go(this.firestore,Np(this._delegate,function Hz(n,e,t){const i=e,r=gS("where",n);return jE._create(r,i,t)}(e,t,i)))}catch(r){throw po(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new go(this.firestore,Np(this._delegate,function jz(n,e="asc"){const t=e,i=gS("orderBy",n);return c1._create(i,t)}(e,t)))}catch(i){throw po(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new go(this.firestore,Np(this._delegate,function $z(n){return aF("limit",n),mS._create("limit",n,"F")}(e)))}catch(t){throw po(t,"limit()","Query.limit()")}}limitToLast(e){try{return new go(this.firestore,Np(this._delegate,function Gz(n){return aF("limitToLast",n),mS._create("limitToLast",n,"L")}(e)))}catch(t){throw po(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new go(this.firestore,Np(this._delegate,function Wz(...n){return _S._create("startAt",n,!0)}(...e)))}catch(t){throw po(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new go(this.firestore,Np(this._delegate,function qz(...n){return _S._create("startAfter",n,!1)}(...e)))}catch(t){throw po(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new go(this.firestore,Np(this._delegate,function Zz(...n){return yS._create("endBefore",n,!1)}(...e)))}catch(t){throw po(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new go(this.firestore,Np(this._delegate,function Kz(...n){return yS._create("endAt",n,!0)}(...e)))}catch(t){throw po(t,"endAt()","Query.endAt()")}}isEqual(e){return i1(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function i3(n){n=vn(n,Es);const e=vn(n.firestore,Oi),t=_r(e),i=new Rp(e);return function mz(n,e){const t=new nr;return n.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return(i=(0,Se.Z)(function*(r,s,u){try{const h=yield bE(r,s,!0),g=new HR(s,h.ir),y=g.sc(h.documents),I=g.applyChanges(y,!1);u.resolve(I.snapshot)}catch(h){const g=m0(h,`Failed to execute query '${s} against cache`);u.reject(g)}}),function(r,s,u){return i.apply(this,arguments)})(yield aS(n),e,t);var i})),t.promise}(t,n._query).then(r=>new kp(e,i,n,r))}(this._delegate):"server"===e?.source?function r3(n){n=vn(n,Es);const e=vn(n.firestore,Oi),t=_r(e),i=new Rp(e);return tF(t,n._query,{source:"server"}).then(r=>new kp(e,i,n,r))}(this._delegate):function n3(n){n=vn(n,Es);const e=vn(n.firestore,Oi),t=_r(e),i=new Rp(e);return EF(n._query),tF(t,n._query).then(r=>new kp(e,i,n,r))}(this._delegate),t.then(i=>new g1(this.firestore,new kp(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=UF(e),i=zF(e,r=>new g1(this.firestore,new kp(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return OF(this._delegate,t,i)}withConverter(e){return new go(this.firestore,this._delegate.withConverter(e?v_.getInstance(this.firestore,e):null))}}class x3{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new qE(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class g1{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new go(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new qE(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new x3(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new qE(this._firestore,i))})}isEqual(e){return xF(this._delegate,e._delegate)}}class I0 extends go{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ll(this.firestore,e):null}doc(e){try{return new ll(this.firestore,void 0===e?uS(this._delegate):uS(this._delegate,e))}catch(t){throw po(t,"doc()","CollectionReference.doc()")}}add(e){return function o3(n,e){const t=vn(n.firestore,Oi),i=uS(n),r=vS(n.converter,e);return b0(t,[hS(m_(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,yi.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new ll(this.firestore,t))}isEqual(e){return dF(this._delegate,e._delegate)}withConverter(e){return new I0(this.firestore,this._delegate.withConverter(e?v_.getInstance(this.firestore,e):null))}}var T0=R(6451),CS=R(5363),N3=R(6063);class k3 extends Kn.x{constructor(e=1/0,t=1/0,i=N3.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:u}=this;t||(i.push(e),!r&&i.push(s.now()+u)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,s=r.slice();for(let u=0;u<s.length&&!e.closed;u+=i?1:2)e.next(s[u]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,s=(r?1:2)*e;if(e<1/0&&s<i.length&&i.splice(0,i.length-s),!r){const u=t.now();let h=0;for(let g=1;g<i.length&&i[g]<=u;g+=2)h=g;h&&i.splice(0,h+1)}}}var HF=R(3099);function jF(n,e,t){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n):i=n??1/0,(0,HF.B)({connector:()=>new k3(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function $F(n,e){return(0,Ns.m)(e)?Ci(()=>n,e):Ci(()=>n)}var _1=R(9468);R(8140);var v1=R(9681);const w1=new Map,WF={activated:!1,tokenObservers:[]},B3={initialized:!1,enabled:!1};function ir(n){return w1.get(n)||Object.assign({},WF)}function bS(){return B3}class G3{constructor(e,t,i,r,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=r,r>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Se.Z)(function*(){t.stop();try{t.pending=new F.BH,yield function W3(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new F.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const bs=new F.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function E1(n){if(!ir(n).activated)throw bs.create("use-before-activation",{appName:n.name})}function DS(n,e){return I1.apply(this,arguments)}function I1(){return I1=(0,Se.Z)(function*({url:n,body:e},t){const i={"Content-Type":"application/json"},r=t.getImmediate({optional:!0});if(r){const S=yield r.getHeartbeatsHeader();S&&(i["X-Firebase-Client"]=S)}const s={method:"POST",body:JSON.stringify(e),headers:i};let u,h;try{u=yield fetch(n,s)}catch(S){throw bs.create("fetch-network-error",{originalErrorMessage:S?.message})}if(200!==u.status)throw bs.create("fetch-status-error",{httpStatus:u.status});try{h=yield u.json()}catch(S){throw bs.create("fetch-parse-error",{originalErrorMessage:S?.message})}const g=h.ttl.match(/^([\d.]+)(s)$/);if(!g||!g[2]||isNaN(Number(g[1])))throw bs.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${h.ttl}`});const y=1e3*Number(g[1]),I=Date.now();return{token:h.token,expireTimeMillis:I+y,issuedAtTimeMillis:I}}),I1.apply(this,arguments)}function ZF(n,e){const{projectId:t,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:e}}}const ZE="firebase-app-check-store";let SS=null;function YF(){return SS||(SS=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var r;e(bs.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},t.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(ZE,{keyPath:"compositeKey"})}}catch(t){e(bs.create("storage-open",{originalErrorMessage:t?.message}))}}),SS)}function T1(){return T1=(0,Se.Z)(function*(n,e){const i=(yield YF()).transaction(ZE,"readwrite"),s=i.objectStore(ZE).put({compositeKey:n,value:e});return new Promise((u,h)=>{s.onsuccess=g=>{u()},i.onerror=g=>{var y;h(bs.create("storage-set",{originalErrorMessage:null===(y=g.target.error)||void 0===y?void 0:y.message}))}})}),T1.apply(this,arguments)}const KE=new qa.Yd("@firebase/app-check");function A1(n,e){return(0,F.hl)()?function X3(n,e){return function QF(n,e){return T1.apply(this,arguments)}(function XF(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{KE.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function M1(){return bS().enabled}function P1(){return O1.apply(this,arguments)}function O1(){return O1=(0,Se.Z)(function*(){const n=bS();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),O1.apply(this,arguments)}const sH={error:"UNKNOWN_ERROR"};function oH(n){return F.US.encodeString(JSON.stringify(n),!1)}function AS(n){return N1.apply(this,arguments)}function N1(){return N1=(0,Se.Z)(function*(n,e=!1){const t=n.app;E1(t);const i=ir(t);let s,r=i.token;if(r&&!D0(r)&&(i.token=void 0,r=void 0),!r){const g=yield i.cachedTokenPromise;g&&(D0(g)?r=g:yield A1(t,void 0))}if(!e&&r&&D0(r))return{token:r.token};let h,u=!1;if(M1()){i.exchangeTokenPromise||(i.exchangeTokenPromise=DS(ZF(t,yield P1()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),u=!0);const g=yield i.exchangeTokenPromise;return yield A1(t,g),i.token=g,{token:g.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),u=!0),r=yield ir(t).exchangeTokenPromise}catch(g){"appCheck/throttled"===g.code?KE.warn(g.message):KE.error(g),s=g}return r?s?h=D0(r)?{token:r.token,internalError:s}:iL(s):(h={token:r.token},i.token=r,yield A1(t,r)):h=iL(s),u&&nL(t,h),h}),N1.apply(this,arguments)}function k1(){return k1=(0,Se.Z)(function*(n){const e=n.app;E1(e);const{provider:t}=ir(e);if(M1()){const i=yield P1(),{token:r}=yield DS(ZF(e,i),n.heartbeatServiceProvider);return{token:r}}{const{token:i}=yield t.getToken();return{token:i}}}),k1.apply(this,arguments)}function F1(n,e){const t=ir(n),i=t.tokenObservers.filter(r=>r.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=i}function tL(n){const{app:e}=n,t=ir(e);let i=t.tokenRefresher;i||(i=function aH(n){const{app:e}=n;return new G3((0,Se.Z)(function*(){let i;if(i=ir(e).token?yield AS(n,!0):yield AS(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const t=ir(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),t.tokenRefresher=i),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function nL(n,e){const t=ir(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch{}}function D0(n){return n.expireTimeMillis-Date.now()>0}function iL(n){return{token:oH(sH),error:n}}class lH{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=ir(this.app);for(const t of e)F1(this.app,t.next);return Promise.resolve()}}const dL="app-check-internal";!function EH(){(0,v1.Xd)(new la.wA("app-check",n=>function uH(n,e){return new lH(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(dL).initialize()})),(0,v1.Xd)(new la.wA(dL,n=>function cH(n){return{getToken:e=>AS(n,e),getLimitedUseToken:()=>function eL(n){return k1.apply(this,arguments)}(n),addTokenListener:e=>function R1(n,e,t,i){const{app:r}=n,s=ir(r);if(s.tokenObservers=[...s.tokenObservers,{next:t,error:i,type:e}],s.token&&D0(s.token)){const h=s.token;Promise.resolve().then(()=>{t({token:h.token}),tL(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>tL(n))}(n,"INTERNAL",e),removeTokenListener:e=>F1(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,v1.KN)("@firebase/app-check","0.8.0")}();class MS{constructor(){return(0,gi.vb)("app-check")}}typeof window<"u"&&window;var fL=R(1274);const z1=new l.OlP("angularfire2.auth.use-emulator"),H1=new l.OlP("angularfire2.auth.settings"),j1=new l.OlP("angularfire2.auth.tenant-id"),$1=new l.OlP("angularfire2.auth.langugage-code"),G1=new l.OlP("angularfire2.auth.use-device-language"),W1=new l.OlP("angularfire.auth.persistence"),q1=(n,e,t,i,r,s,u,h)=>(0,Yr.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const g=e.runOutsideAngular(()=>n.auth());if(t&&g.useEmulator(...t),i&&(g.tenantId=i),g.languageCode=r,s&&g.useDeviceLanguage(),u)for(const[y,I]of Object.entries(u))g.settings[y]=I;return h&&g.setPersistence(h),g},[t,i,r,s,u,h]);let Z1=(()=>{class n{constructor(t,i,r,s,u,h,g,y,I,S,P,k){const U=new Kn.x,J=wt(void 0).pipe((0,CS.Q)(u.outsideAngular),Ci(()=>s.runOutsideAngular(()=>Promise.resolve().then(R.bind(R,8463)))),(0,mt.U)(()=>(0,Yr.on)(t,s,i)),(0,mt.U)(ue=>q1(ue,s,h,y,I,S,g,P)),jF({bufferSize:1,refCount:!1}));if(Sa(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=wt(null);else{J.pipe(hs()).subscribe();const Re=J.pipe(Ci(yt=>yt.getRedirectResult().then(Kt=>Kt,()=>null)),gi.iC,jF({bufferSize:1,refCount:!1})),Ye=J.pipe(Ci(yt=>new Cr.y(Kt=>({unsubscribe:s.runOutsideAngular(()=>yt.onAuthStateChanged(Yt=>Kt.next(Yt),Yt=>Kt.error(Yt),()=>Kt.complete()))})))),st=J.pipe(Ci(yt=>new Cr.y(Kt=>({unsubscribe:s.runOutsideAngular(()=>yt.onIdTokenChanged(Yt=>Kt.next(Yt),Yt=>Kt.error(Yt),()=>Kt.complete()))}))));this.authState=Re.pipe($F(Ye),(0,_1.R)(u.outsideAngular),(0,CS.Q)(u.insideAngular)),this.user=Re.pipe($F(st),(0,_1.R)(u.outsideAngular),(0,CS.Q)(u.insideAngular)),this.idToken=this.user.pipe(Ci(yt=>yt?(0,wn.D)(yt.getIdToken()):wt(null))),this.idTokenResult=this.user.pipe(Ci(yt=>yt?(0,wn.D)(yt.getIdTokenResult()):wt(null))),this.credential=(0,T0.T)(Re,U,this.authState.pipe(Ji(yt=>!yt))).pipe((0,mt.U)(yt=>yt?.user?yt:null),(0,_1.R)(u.outsideAngular),(0,CS.Q)(u.insideAngular))}return(0,Yr.pX)(this,J,s,{spy:{apply:(ue,Re,Ye)=>{(ue.startsWith("signIn")||ue.startsWith("createUser"))&&Ye.then(st=>U.next(st))}}})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Yr.Dh),l.LFG(Yr.xv,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(gi.HU),l.LFG(z1,8),l.LFG(H1,8),l.LFG(j1,8),l.LFG($1,8),l.LFG(G1,8),l.LFG(W1,8),l.LFG(MS,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function pL(n,e){return function AH(n,e=sm.z){return new Cr.y(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{i?.()}})}(n,e)}function K1(n,e){return pL(n,e).pipe((0,mt.U)(t=>({payload:t,type:"query"})))}function PS(n,e){return K1(n,e).pipe(sa(void 0),kw(),(0,mt.U)(([t,i])=>{const r=i.payload.docChanges(),s=r.map(u=>({type:u.type,payload:u}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((u,h)=>{const g=r.find(I=>I.doc.ref.isEqual(u.ref)),y=t?.payload.docs.find(I=>I.ref.isEqual(u.ref));g&&JSON.stringify(g.doc.metadata)===JSON.stringify(u.metadata)||!g&&y&&JSON.stringify(y.metadata)===JSON.stringify(u.metadata)||s.push({type:"modified",payload:{oldIndex:h,newIndex:h,type:"modified",doc:u}})}),s}))}function gL(n,e,t){return PS(n,t).pipe(Rs((i,r)=>function MH(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function PH(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return Y1(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return Y1(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Y1(n,e.oldIndex,1)}return n}(n,i))}),n}(i,r.map(s=>s.payload),e),[]),BI(),(0,mt.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function Y1(n,e,t,...i){const r=n.slice();return r.splice(e,t,...i),r}function mL(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class _L{constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=PS(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,mt.U)(i=>i.filter(r=>e.indexOf(r.type)>-1)))),t.pipe(sa(void 0),kw(),Ji(([i,r])=>r.length>0||!i),(0,mt.U)(([i,r])=>r),gi.iC)}auditTrail(e){return this.stateChanges(e).pipe(Rs((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=mL(e);return gL(this.query,t,this.afs.schedulers.outsideAngular).pipe(gi.iC)}valueChanges(e={}){return K1(this.query,this.afs.schedulers.outsideAngular).pipe((0,mt.U)(t=>t.payload.docs.map(i=>e.idField?Object.assign(Object.assign({},i.data()),{[e.idField]:i.id}):i.data())),gi.iC)}get(e){return(0,wn.D)(this.query.get(e)).pipe(gi.iC)}add(e){return this.ref.add(e)}doc(e){return new yL(this.ref.doc(e),this.afs)}}class yL{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:r,query:s}=CL(i,t);return new _L(r,s,this.afs)}snapshotChanges(){return function xH(n,e){return pL(n,e).pipe(sa(void 0),kw(),(0,mt.U)(([t,i])=>i.exists?t?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(gi.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,mt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,wn.D)(this.ref.get(e)).pipe(gi.iC)}}class OH{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?PS(this.query,this.afs.schedulers.outsideAngular).pipe((0,mt.U)(t=>t.filter(i=>e.indexOf(i.type)>-1)),Ji(t=>t.length>0),gi.iC):PS(this.query,this.afs.schedulers.outsideAngular).pipe(gi.iC)}auditTrail(e){return this.stateChanges(e).pipe(Rs((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=mL(e);return gL(this.query,t,this.afs.schedulers.outsideAngular).pipe(gi.iC)}valueChanges(e={}){return K1(this.query,this.afs.schedulers.outsideAngular).pipe((0,mt.U)(i=>i.payload.docs.map(r=>e.idField?Object.assign({[e.idField]:r.id},r.data()):r.data())),gi.iC)}get(e){return(0,wn.D)(this.query.get(e)).pipe(gi.iC)}}const vL=new l.OlP("angularfire2.enableFirestorePersistence"),wL=new l.OlP("angularfire2.firestore.persistenceSettings"),NH=new l.OlP("angularfire2.firestore.settings"),kH=new l.OlP("angularfire2.firestore.use-emulator");function CL(n,e=(t=>t)){return{query:e(n),ref:n}}let EL=(()=>{class n{constructor(t,i,r,s,u,h,g,y,I,S,P,k,U,J,ue,Re,Ye){this.schedulers=g;const st=(0,Yr.on)(t,h,i),yt=I;S&&q1(st,h,P,U,J,ue,k,Re),[this.firestore,this.persistenceEnabled$]=(0,Yr.cc)(`${st.name}.firestore`,"AngularFirestore",st.name,()=>{const Kt=h.runOutsideAngular(()=>st.firestore());if(s&&Kt.settings(s),yt&&Kt.useEmulator(...yt),r&&!Sa(u)){const Yt=()=>{try{return(0,wn.D)(Kt.enablePersistence(y||void 0).then(()=>!0,()=>!1))}catch(On){return typeof console<"u"&&console.warn(On),wt(!1)}};return[Kt,h.runOutsideAngular(Yt)]}return[Kt,wt(!1)]},[s,yt,r])}collection(t,i){let r;r="string"==typeof t?this.firestore.collection(t):t;const{ref:s,query:u}=CL(r,i),h=this.schedulers.ngZone.run(()=>s);return new _L(h,u,this)}collectionGroup(t,i){const r=i||(u=>u),s=this.firestore.collectionGroup(t);return new OH(r(s),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const r=this.schedulers.ngZone.run(()=>i);return new yL(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Yr.Dh),l.LFG(Yr.xv,8),l.LFG(vL,8),l.LFG(NH,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(gi.HU),l.LFG(wL,8),l.LFG(kH,8),l.LFG(Z1,8),l.LFG(z1,8),l.LFG(H1,8),l.LFG(j1,8),l.LFG($1,8),l.LFG(G1,8),l.LFG(W1,8),l.LFG(MS,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),RH=(()=>{class n{constructor(){fL.Z.registerVersion("angularfire",gi.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:vL,useValue:!0},{provide:wL,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[EL]}),n})();var bL=R(5032);class VH{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,F.Wl)(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,F.cI)(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class BH{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return(0,F.r3)(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const SL=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new VH(e)}}catch{}return new BH},E_=SL("localStorage"),J1=SL("sessionStorage"),S0=new qa.Yd("@firebase/database"),AL=function(){let n=1;return function(){return n++}}(),xL=function(n){const e=(0,F.dS)(n),t=new F.gQ;t.update(e);const i=t.digest();return F.US.encodeByteArray(i)},YE=function(...n){let e="";for(let t=0;t<n.length;t++){const i=n[t];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?e+=YE.apply(null,i):e+="object"==typeof i?(0,F.Wl)(i):i,e+=" "}return e};let b_=null,ML=!0;const Xr=function(...n){if(!0===ML&&(ML=!1,null===b_&&!0===J1.get("logging_enabled")&&function(n,e){(0,F.hu)(!e||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(S0.logLevel=qa.in.VERBOSE,b_=S0.log.bind(S0),e&&J1.set("logging_enabled",!0)):"function"==typeof n?b_=n:(b_=null,J1.remove("logging_enabled"))}(!0)),b_){const e=YE.apply(null,n);b_(e)}},QE=function(n){return function(...e){Xr(n,...e)}},X1=function(...n){const e="FIREBASE INTERNAL ERROR: "+YE(...n);S0.error(e)},Hs=function(...n){const e="FIREBASE WARNING: "+YE(...n);S0.warn(e)},OS=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Lp="[MIN_NAME]",Sh="[MAX_NAME]",I_=function(n,e){if(n===e)return 0;if(n===Lp||e===Sh)return-1;if(e===Lp||n===Sh)return 1;{const t=kL(n),i=kL(e);return null!==t?null!==i?t-i==0?n.length-e.length:t-i:-1:null!==i?1:n<e?-1:1}},JE=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+(0,F.Wl)(e))},eO=function(n){if("object"!=typeof n||null===n)return(0,F.Wl)(n);const e=[];for(const i in n)e.push(i);e.sort();let t="{";for(let i=0;i<e.length;i++)0!==i&&(t+=","),t+=(0,F.Wl)(e[i]),t+=":",t+=eO(n[e[i]]);return t+="}",t},OL=function(n,e){const t=n.length;if(t<=e)return[n];const i=[];for(let r=0;r<t;r+=e)i.push(n.substring(r,r+e>t?t:r+e));return i};function es(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const NL=function(n){(0,F.hu)(!OS(n),"Invalid JSON number");const i=1023;let r,s,u,h,g;0===n?(s=0,u=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(h=Math.min(Math.floor(Math.log(n)/Math.LN2),i),s=h+i,u=Math.round(n*Math.pow(2,52-h)-Math.pow(2,52))):(s=0,u=Math.round(n/Math.pow(2,-1074))));const y=[];for(g=52;g;g-=1)y.push(u%2?1:0),u=Math.floor(u/2);for(g=11;g;g-=1)y.push(s%2?1:0),s=Math.floor(s/2);y.push(r?1:0),y.reverse();const I=y.join("");let S="";for(g=0;g<64;g+=8){let P=parseInt(I.substr(g,8),2).toString(16);1===P.length&&(P="0"+P),S+=P}return S.toLowerCase()},WH=new RegExp("^-?(0*)\\d{1,10}$"),kL=function(n){if(WH.test(n)){const e=Number(n);if(e>=-2147483648&&e<=2147483647)return e}return null},A0=function(n){try{n()}catch(e){setTimeout(()=>{throw Hs("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},XE=function(n,e){const t=setTimeout(n,e);return"number"==typeof t&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):"object"==typeof t&&t.unref&&t.unref(),t};const BL=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,HL="websocket",jL="long_polling";function $L(n,e,t){let i;if((0,F.hu)("string"==typeof e,"typeof type must == string"),(0,F.hu)("object"==typeof t,"typeof params must == object"),e===HL)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(e!==jL)throw new Error("Unknown connection type: "+e);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function JH(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(t.ns=n.namespace);const r=[];return es(t,(s,u)=>{r.push(s+"="+u)}),i+r.join("&")}class XH{constructor(){this.counters_={}}incrementCounter(e,t=1){(0,F.r3)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return(0,F.p$)(this.counters_)}}const iO={};function sO(n){const e=n.toString();return iO[e]||(iO[e]=new XH),iO[e]}class t4{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&A0(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Vp{constructor(e,t,i,r,s,u,h){this.connId=e,this.repoInfo=t,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.transportSessionId=u,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=QE(e),this.stats_=sO(t),this.urlFn=g=>(this.appCheckToken&&(g.ac=this.appCheckToken),$L(t,jL,g))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new t4(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,F.Yr)()||"complete"===document.readyState)n();else{let e=!1;const t=function(){document.body?e||(e=!0,n()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new oO((...s)=>{const[u,h,g,y,I]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===u)this.id=h,this.password=g;else{if("close"!==u)throw new Error("Unrecognized command received: "+u);h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[u,h]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(u,h)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&BL.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Vp.forceAllow_=!0}static forceDisallow(){Vp.forceDisallow_=!0}static isAvailable(){return!((0,F.Yr)()||!Vp.forceAllow_&&(Vp.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=(0,F.Wl)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const i=(0,F.h$)(t),r=OL(i,1840);for(let s=0;s<r.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[s]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if((0,F.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=e,i.pw=t,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=(0,F.Wl)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class oO{constructor(e,t,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,F.Yr)())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=AL(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=oO.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const u="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(u),this.myIFrame.doc.close()}catch(h){Xr("frame writing exception"),h.stack&&Xr(h.stack),Xr(h)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Xr("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const u=this.pendingSegs.shift();i=i+"&seg"+r+"="+u.seg+"&ts"+r+"="+u.ts+"&d"+r+"="+u.d,r++}return t+=i,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,i){this.pendingSegs.push({seg:e,ts:t,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const i=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(r),i()})}addTag(e,t){(0,F.Yr)()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),t())},i.onerror=()=>{Xr("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let kS=null;typeof MozWebSocket<"u"?kS=MozWebSocket:typeof WebSocket<"u"&&(kS=WebSocket);let x0=(()=>{class n{constructor(t,i,r,s,u,h,g){this.connId=t,this.applicationId=r,this.appCheckToken=s,this.authToken=u,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=QE(this.connId),this.stats_=sO(i),this.connURL=n.connectionURL_(i,h,g,s,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(t,i,r,s,u){const h={v:"5"};return!(0,F.Yr)()&&typeof location<"u"&&location.hostname&&BL.test(location.hostname)&&(h.r="f"),i&&(h.s=i),r&&(h.ls=r),s&&(h.ac=s),u&&(h.p=u),$L(t,HL,h)}open(t,i){this.onDisconnect=i,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,E_.set("previous_websocket_failure",!0);try{let r;if((0,F.Yr)()){r={headers:{"User-Agent":`Firebase/5//${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);const u=process.env,h=0===this.connURL.indexOf("wss://")?u.HTTPS_PROXY||u.https_proxy:u.HTTP_PROXY||u.http_proxy;h&&(r.proxy={origin:h})}this.mySock=new kS(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&null!==kS&&!n.forceDisallow_}static previouslyFailed(){return E_.isInMemoryStorage||!0===E_.get("previous_websocket_failure")}markConnectionHealthy(){E_.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=(0,F.cI)(i);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if((0,F.hu)(null===this.frames,"We already have a frame buffer"),t.length<=6){const i=Number(t);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const i=t.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const i=(0,F.Wl)(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=OL(i,16384);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),QL=(()=>{class n{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[Vp,x0]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const i=x0&&x0.isAvailable();let r=i&&!x0.previouslyFailed();if(t.webSocketOnly&&(i||Hs("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[x0];else{const s=this.transports_=[];for(const u of n.ALL_TRANSPORTS)u&&u.isAvailable()&&s.push(u);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class r2{constructor(e,t,i,r,s,u,h,g,y,I){this.id=e,this.repoInfo_=t,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=s,this.onMessage_=u,this.onReady_=h,this.onDisconnect_=g,this.onKill_=y,this.lastSessionId=I,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=QE("c:"+this.id+":"),this.transportManager_=new QL(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,i)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=XE(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=JE("t",e),i=JE("d",e);if("c"===t)this.onSecondaryControl_(i);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=JE("t",e),i=JE("d",e);"c"===t?this.onControl_(i):"d"===t&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=JE("t",e);if("d"in e){const i=e.d;if("h"===t){const r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(i):"r"===t?this.onReset_(i):"e"===t?X1("Server Error: "+i):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):X1("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,i=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==i&&Hs("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,i),XE(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):XE(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(E_.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class o2{constructor(e){this.allowedEvents_=e,this.listeners_={},(0,F.hu)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,t)}}on(e,t,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:i});const r=this.getInitialEvent(e);r&&t.apply(i,r)}off(e,t,i){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let s=0;s<r.length;s++)if(r[s].callback===t&&(!i||i===r[s].context))return void r.splice(s,1)}validateEventType_(e){(0,F.hu)(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class RS extends o2{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,F.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new RS}getInitialEvent(e){return(0,F.hu)("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class qn{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function cn(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Bp(n){return n.pieces_.length-n.pieceNum_}function vi(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new qn(n.pieces_,e)}function dn(n){return n.pieceNum_>=n.pieces_.length}class cO extends o2{constructor(){let e,t;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new cO}getInitialEvent(e){return(0,F.hu)("visible"===e,"Unknown event type: "+e),[this.visible_]}}const nb=1e3;let LS,D_=(()=>{class n extends class s2{put(e,t,i,r){}merge(e,t,i,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,i){}onDisconnectMerge(e,t,i){}onDisconnectCancel(e,t){}reportStats(e){}}{constructor(t,i,r,s,u,h,g,y){if(super(),this.repoInfo_=t,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=u,this.authTokenProvider_=h,this.appCheckTokenProvider_=g,this.authOverride_=y,this.id=n.nextPersistentConnectionId_++,this.log_=QE("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=nb,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,y&&!(0,F.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");cO.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&RS.getInstance().on("online",this.onOnline_,this)}sendRequest(t,i,r){const s=++this.requestNumber_,u={r:s,a:t,b:i};this.log_((0,F.Wl)(u)),(0,F.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(u),r&&(this.requestCBHash_[s]=r)}get(t){this.initConnection_();const i=new F.BH,r={p:t._path.toString(),q:t._queryObject};return this.outstandingGets_.push({action:"g",request:r,onComplete:h=>{const g=h.d;"ok"===h.s?i.resolve(g):i.reject(g)}}),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(t,i,r,s){this.initConnection_();const u=t._queryIdentifier,h=t._path.toString();this.log_("Listen called for "+h+" "+u),this.listens.has(h)||this.listens.set(h,new Map),(0,F.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,F.hu)(!this.listens.get(h).has(u),"listen() called twice for same path/queryId.");const g={onComplete:s,hashFn:i,query:t,tag:r};this.listens.get(h).set(u,g),this.connected_&&this.sendListen_(g)}sendGet_(t){const i=this.outstandingGets_[t];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(t){const i=t.query,r=i._path.toString(),s=i._queryIdentifier;this.log_("Listen on "+r+" for "+s);const u={p:r};t.tag&&(u.q=i._queryObject,u.t=t.tag),u.h=t.hashFn(),this.sendRequest("q",u,g=>{const y=g.d,I=g.s;n.warnOnListenWarnings_(y,i),(this.listens.get(r)&&this.listens.get(r).get(s))===t&&(this.log_("listen response",g),"ok"!==I&&this.removeListen_(r,s),t.onComplete&&t.onComplete(I,y))})}static warnOnListenWarnings_(t,i){if(t&&"object"==typeof t&&(0,F.r3)(t,"w")){const r=(0,F.DV)(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+i._queryParams.getIndex().toString()+'"',u=i._path.toString();Hs(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${u} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||(0,F.GJ)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,i=(0,F.w9)(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,s=>{const u=s.s,h=s.d||"error";this.authToken_===t&&("ok"===u?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(u,h))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const i=t.s,r=t.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(t,i){const r=t._path.toString(),s=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),(0,F.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,t._queryObject,i)}sendUnlisten_(t,i,r,s){this.log_("Unlisten on "+t+" for "+i);const u={p:t};s&&(u.q=r,u.t=s),this.sendRequest("n",u)}onDisconnectPut(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:i,onComplete:r})}onDisconnectMerge(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:i,onComplete:r})}onDisconnectCancel(t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(t,i,r,s){const u={p:i,d:r};this.log_("onDisconnect "+t,u),this.sendRequest(t,u,h=>{s&&setTimeout(()=>{s(h.s,h.d)},Math.floor(0))})}put(t,i,r,s){this.putInternal("p",t,i,r,s)}merge(t,i,r,s){this.putInternal("m",t,i,r,s)}putInternal(t,i,r,s,u){this.initConnection_();const h={p:i,d:r};void 0!==u&&(h.h=u),this.outstandingPuts_.push({action:t,request:h,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(t){const i=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,s=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(i,r,u=>{this.log_(i+" response",u),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(u.s,u.d)})}reportStats(t){if(this.connected_){const i={c:t};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+(0,F.Wl)(t));const i=t.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,i){this.log_("handleServerMessage",t,i),"d"===t?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===t?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===t?this.onListenRevoked_(i.p,i.q):"ac"===t?this.onAuthRevoked_(i.s,i.d):"apc"===t?this.onAppCheckRevoked_(i.s,i.d):"sd"===t?this.onSecurityDebugPacket_(i):X1("Unrecognized action received from server: "+(0,F.Wl)(t)+"\nAre you using the latest client?")}onReady_(t,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){(0,F.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=nb,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=nb,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=nb),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-t);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return(0,Se.Z)(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const i=t.onDataMessage_.bind(t),r=t.onReady_.bind(t),s=t.onRealtimeDisconnect_.bind(t),u=t.id+":"+n.nextConnectionId_++,h=t.lastSessionId;let g=!1,y=null;const I=function(){y?y.close():(g=!0,s())};t.realtime_={close:I,sendRequest:function(k){(0,F.hu)(y,"sendRequest call when we're not connected not allowed."),y.sendRequest(k)}};const P=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[k,U]=yield Promise.all([t.authTokenProvider_.getToken(P),t.appCheckTokenProvider_.getToken(P)]);g?Xr("getToken() completed but was canceled"):(Xr("getToken() completed. Creating connection."),t.authToken_=k&&k.accessToken,t.appCheckToken_=U&&U.token,y=new r2(u,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,i,r,s,J=>{Hs(J+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},h))}catch(k){t.log_("Failed to get token: "+k),g||(t.repoInfo_.nodeAdmin&&Hs(k),I())}}})()}interrupt(t){Xr("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Xr("Resuming connection for reason: "+t),delete this.interruptReasons_[t],(0,F.xb)(this.interruptReasons_)&&(this.reconnectDelay_=nb,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const i=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const i=this.outstandingPuts_[t];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,i){let r;r=i?i.map(u=>eO(u)).join("$"):"default";const s=this.removeListen_(t,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(t,i){const r=new qn(t).toString();let s;if(this.listens.has(r)){const u=this.listens.get(r);s=u.get(i),u.delete(i),0===u.size&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(t,i){Xr("Auth token revoked: "+t+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,i){Xr("App check token revoked: "+t+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const i of t.values())this.sendListen_(i);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let i="js";(0,F.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+i+"."+"".replace(/\./g,"-")]=1,(0,F.uI)()?t["framework.cordova"]=1:(0,F.b$)()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=RS.getInstance().currentlyOnline();return(0,F.xb)(this.interruptReasons_)&&t}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class hn{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new hn(e,t)}}class FS{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const i=new hn(Lp,e),r=new hn(Lp,t);return 0!==this.compare(i,r)}minPost(){return hn.MIN}}class f2 extends FS{static get __EMPTY_NODE(){return LS}static set __EMPTY_NODE(e){LS=e}compare(e,t){return I_(e.name,t.name)}isDefinedOn(e){throw(0,F.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return hn.MIN}maxPost(){return new hn(Sh,LS)}makePost(e,t){return(0,F.hu)("string"==typeof e,"KeyIndex indexValue must always be a string."),new hn(e,LS)}toString(){return".key"}}const Gc=new f2;class VS{constructor(e,t,i,r,s=null){this.isReverse_=r,this.resultGenerator_=s,this.nodeStack_=[];let u=1;for(;!e.isEmpty();)if(u=t?i(e.key,t):1,r&&(u*=-1),u<0)e=this.isReverse_?e.left:e.right;else{if(0===u){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let vu=(()=>{class n{constructor(t,i,r,s,u){this.key=t,this.value=i,this.color=r??n.RED,this.left=s??Uo.EMPTY_NODE,this.right=u??Uo.EMPTY_NODE}copy(t,i,r,s,u){return new n(t??this.key,i??this.value,r??this.color,s??this.left,u??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let s=this;const u=r(t,s.key);return s=u<0?s.copy(null,null,null,s.left.insert(t,i,r),null):0===u?s.copy(null,i,null,null,null):s.copy(null,null,null,null,s.right.insert(t,i,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Uo.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,i){let r,s;if(r=this,i(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(t,r.key)){if(r.right.isEmpty())return Uo.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class P4{copy(e,t,i,r,s){return this}insert(e,t,i){return new vu(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Uo{constructor(e,t=Uo.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new Uo(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,vu.BLACK,null,null))}remove(e){return new Uo(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,vu.BLACK,null,null))}get(e){let t,i=this.root_;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),0===t)return i.value;t<0?i=i.left:t>0&&(i=i.right)}return null}getPredecessorKey(e){let t,i=this.root_,r=null;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),0===t){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}t<0?i=i.left:t>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new VS(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new VS(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new VS(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new VS(this.root_,null,this.comparator_,!0,e)}}function dO(n,e){return I_(n,e)}Uo.EMPTY_NODE=new P4;const p2=function(n){return"number"==typeof n?"number:"+NL(n):"string:"+n},g2=function(n){if(n.isLeafNode()){const e=n.val();(0,F.hu)("string"==typeof e||"number"==typeof e||"object"==typeof e&&(0,F.r3)(e,".sv"),"Priority must be a string or number.")}else(0,F.hu)(undefined===n||n.isEmpty(),"priority of unexpected type.");(0,F.hu)(undefined===n||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let m2,M0=(()=>{class n{constructor(t,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=i,this.lazyHash_=null,(0,F.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),g2(this.priorityNode_)}static set __childrenNodeConstructor(t){m2=t}static get __childrenNodeConstructor(){return m2}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return dn(t)?this:".priority"===cn(t)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,i){return null}updateImmediateChild(t,i){return".priority"===t?this.updatePriority(i):i.isEmpty()&&".priority"!==t?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,i).updatePriority(this.priorityNode_)}updateChild(t,i){const r=cn(t);return null===r?i:i.isEmpty()&&".priority"!==r?this:((0,F.hu)(".priority"!==r||1===Bp(t),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(vi(t),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,i){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+p2(this.priorityNode_.val())+":");const i=typeof this.value_;t+=i+":",t+="number"===i?NL(this.value_):this.value_,this.lazyHash_=xL(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:((0,F.hu)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const i=typeof t.value_,r=typeof this.value_,s=n.VALUE_TYPE_ORDER.indexOf(i),u=n.VALUE_TYPE_ORDER.indexOf(r);return(0,F.hu)(s>=0,"Unknown leaf type: "+i),(0,F.hu)(u>=0,"Unknown leaf type: "+r),s===u?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:u-s}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const i=t;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();class F4 extends FS{compare(e,t){const i=e.node.getPriority(),r=t.node.getPriority(),s=i.compareTo(r);return 0===s?I_(e.name,t.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return hn.MIN}maxPost(){return new hn(Sh,new M0("[PRIORITY-POST]",undefined))}makePost(e,t){const i=undefined(e);return new hn(t,new M0("[PRIORITY-POST]",i))}toString(){return".priority"}}const bi=new F4,L4=Math.log(2);class V4{constructor(e){this.count=parseInt(Math.log(e+1)/L4,10),this.current_=this.count-1;const r=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&r}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const BS=function(n,e,t,i){n.sort(e);const r=function(g,y){const I=y-g;let S,P;if(0===I)return null;if(1===I)return S=n[g],P=t?t(S):S,new vu(P,S.node,vu.BLACK,null,null);{const k=parseInt(I/2,10)+g,U=r(g,k),J=r(k+1,y);return S=n[k],P=t?t(S):S,new vu(P,S.node,vu.BLACK,U,J)}},h=function(g){let y=null,I=null,S=n.length;const P=function(U,J){const ue=S-U,Re=S;S-=U;const Ye=r(ue+1,Re),st=n[ue],yt=t?t(st):st;k(new vu(yt,st.node,J,null,Ye))},k=function(U){y?(y.left=U,y=U):(I=U,y=U)};for(let U=0;U<g.count;++U){const J=g.nextBitIsOne(),ue=Math.pow(2,g.count-(U+1));J?P(ue,vu.BLACK):(P(ue,vu.BLACK),P(ue,vu.RED))}return I}(new V4(n.length));return new Uo(i||e,h)};let fO;const P0={};class Ah{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return(0,F.hu)(P0&&bi,"ChildrenNode.ts has not been loaded"),fO=fO||new Ah({".priority":P0},{".priority":bi}),fO}get(e){const t=(0,F.DV)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Uo?t:null}hasIndex(e){return(0,F.r3)(this.indexSet_,e.toString())}addIndex(e,t){(0,F.hu)(e!==Gc,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const s=t.getIterator(hn.Wrap);let h,u=s.getNext();for(;u;)r=r||e.isDefinedOn(u.node),i.push(u),u=s.getNext();h=r?BS(i,e.getCompare()):P0;const g=e.toString(),y=Object.assign({},this.indexSet_);y[g]=e;const I=Object.assign({},this.indexes_);return I[g]=h,new Ah(I,y)}addToIndexes(e,t){const i=(0,F.UI)(this.indexes_,(r,s)=>{const u=(0,F.DV)(this.indexSet_,s);if((0,F.hu)(u,"Missing index implementation for "+s),r===P0){if(u.isDefinedOn(e.node)){const h=[],g=t.getIterator(hn.Wrap);let y=g.getNext();for(;y;)y.name!==e.name&&h.push(y),y=g.getNext();return h.push(e),BS(h,u.getCompare())}return P0}{const h=t.get(e.name);let g=r;return h&&(g=g.remove(new hn(e.name,h))),g.insert(e,e.node)}});return new Ah(i,this.indexSet_)}removeFromIndexes(e,t){const i=(0,F.UI)(this.indexes_,r=>{if(r===P0)return r;{const s=t.get(e.name);return s?r.remove(new hn(e.name,s)):r}});return new Ah(i,this.indexSet_)}}let ib,en=(()=>{class n{constructor(t,i,r){this.children_=t,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&g2(this.priorityNode_),this.children_.isEmpty()&&(0,F.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return ib||(ib=new n(new Uo(dO),null,Ah.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ib}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const i=this.children_.get(t);return null===i?ib:i}}getChild(t){const i=cn(t);return null===i?this:this.getImmediateChild(i).getChild(vi(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,i){if((0,F.hu)(i,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(i);{const r=new hn(t,i);let s,u;i.isEmpty()?(s=this.children_.remove(t),u=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(t,i),u=this.indexMap_.addToIndexes(r,this.children_));const h=s.isEmpty()?ib:this.priorityNode_;return new n(s,h,u)}}updateChild(t,i){const r=cn(t);if(null===r)return i;{(0,F.hu)(".priority"!==cn(t)||1===Bp(t),".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(vi(t),i);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const i={};let r=0,s=0,u=!0;if(this.forEachChild(bi,(h,g)=>{i[h]=g.val(t),r++,u&&n.INTEGER_REGEXP_.test(h)?s=Math.max(s,Number(h)):u=!1}),!t&&u&&s<2*r){const h=[];for(const g in i)h[g]=i[g];return h}return t&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+p2(this.getPriority().val())+":"),this.forEachChild(bi,(i,r)=>{const s=r.hash();""!==s&&(t+=":"+i+":"+s)}),this.lazyHash_=""===t?"":xL(t)}return this.lazyHash_}getPredecessorChildName(t,i,r){const s=this.resolveIndex_(r);if(s){const u=s.getPredecessorKey(new hn(t,i));return u?u.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(t){const i=this.getFirstChildName(t);return i?new hn(i,this.children_.get(i)):null}getLastChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(t){const i=this.getLastChildName(t);return i?new hn(i,this.children_.get(i)):null}forEachChild(t,i){const r=this.resolveIndex_(t);return r?r.inorderTraversal(s=>i(s.name,s.node)):this.children_.inorderTraversal(i)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(t,s=>s);{const s=this.children_.getIteratorFrom(t.name,hn.Wrap);let u=s.peek();for(;null!=u&&i.compare(u,t)<0;)s.getNext(),u=s.peek();return s}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(t,s=>s);{const s=this.children_.getReverseIteratorFrom(t.name,hn.Wrap);let u=s.peek();for(;null!=u&&i.compare(u,t)>0;)s.getNext(),u=s.peek();return s}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===rb?-1:0}withIndex(t){if(t===Gc||this.indexMap_.hasIndex(t))return this;{const i=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(t){return t===Gc||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const i=t;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(bi),s=i.getIterator(bi);let u=r.getNext(),h=s.getNext();for(;u&&h;){if(u.name!==h.name||!u.node.equals(h.node))return!1;u=r.getNext(),h=s.getNext()}return null===u&&null===h}return!1}return!1}}resolveIndex_(t){return t===Gc?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();class B4 extends en{constructor(){super(new Uo(dO),en.EMPTY_NODE,Ah.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return en.EMPTY_NODE}isEmpty(){return!1}}const rb=new B4;f2.__EMPTY_NODE=en.EMPTY_NODE,M0.__childrenNodeConstructor=en;D_.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)},D_.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)};function OV(n){return null==n}function NV(n){return"function"==typeof n.set}function kV(n,e){return NV(e)?e:n.ref(e)}function RV(n,e){if(function OG(n){return"string"==typeof n}(n))return e.stringCase();if(NV(n))return e.firebaseCase();if(function NG(n){return"function"==typeof n.exportVal}(n))return e.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function Ib(n,e,t="on",i=sm.z){return new Cr.y(r=>{let s=null;return s=n[t](e,(u,h)=>{i.schedule(()=>{r.next({snapshot:u,prevKey:h})}),"once"===t&&i.schedule(()=>r.complete())},u=>{i.schedule(()=>r.error(u))}),"on"===t?{unsubscribe(){null!=s&&n.off(e,s)}}:{unsubscribe(){}}}).pipe((0,mt.U)(r=>{const{snapshot:s,prevKey:u}=r;let h=null;return s.exists()&&(h=s.key),{type:e,payload:s,prevKey:u,key:h}}),(0,HF.B)())}function FV(n,e){const t=n.length;for(let i=0;i<t;i++)if(n[i].payload.key===e)return i;return-1}function FG(n,e){const{payload:t,prevKey:i,key:r}=e,s=FV(n,r),u=function RG(n,e){if(OV(e))return 0;{const t=FV(n,e);return-1===t?n.length:t+1}}(n,i);switch(e.type){case"value":if(e.payload&&e.payload.exists()){let h=null;e.payload.forEach(g=>{const y={payload:g,type:"value",prevKey:h,key:g.key};return h=g.key,n=[...n,y],!1})}return n;case"child_added":if(s>-1){const h=n[s-1];(h&&h.key||null)!==i&&(n=n.filter(g=>g.payload.key!==t.key)).splice(u,0,e)}else{if(null==i)return[e,...n];(n=n.slice()).splice(u,0,e)}return n;case"child_removed":return n.filter(h=>h.payload.key!==t.key);case"child_changed":return n.map(h=>h.payload.key===r?e:h);case"child_moved":if(s>-1){const h=n.splice(s,1)[0];return(n=n.slice()).splice(u,0,h),n}return n;default:return n}}function LV(n){return(OV(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function VV(n,e,t){return function kG(n,e,t){return Ib(n,"value","once",t).pipe(Ci(i=>{const r=[wt(i)];return e.forEach(s=>r.push(Ib(n,s,"on",t))),(0,T0.T)(...r).pipe(Rs(FG,[]))}),BI())}(n,e=LV(e),t)}function BV(n,e,t){const i=(e=LV(e)).map(r=>Ib(n,r,"on",t));return(0,T0.T)(...i)}function UV(n,e){return function(i,r){return RV(i,{stringCase:()=>n.child(i)[e](r),firebaseCase:()=>i[e](r),snapshotCase:()=>i.ref[e](r)})}}function UG(n){return function(t){return t?RV(t,{stringCase:()=>n.child(t).remove(),firebaseCase:()=>t.remove(),snapshotCase:()=>t.ref.remove()}):n.remove()}}function zV(n,e){return function(){return Ib(n,"value","on",e)}}const jG=new l.OlP("angularfire2.realtimeDatabaseURL"),$G=new l.OlP("angularfire2.database.use-emulator");let HV=(()=>{class n{constructor(t,i,r,s,u,h,g,y,I,S,P,k,U,J,ue){this.schedulers=h;const Re=g,Ye=(0,Yr.on)(t,u,i);y&&q1(Ye,u,I,P,k,U,S,J),this.database=(0,Yr.cc)(`${Ye.name}.database.${r}`,"AngularFireDatabase",Ye.name,()=>{const st=u.runOutsideAngular(()=>Ye.database(r||void 0));return Re&&st.useEmulator(...Re),st},[Re])}list(t,i){const r=this.schedulers.ngZone.runOutsideAngular(()=>kV(this.database,t));let s=r;return i&&(s=i(r)),function zG(n,e){const t=e.schedulers.outsideAngular,i=e.schedulers.ngZone.run(()=>n.ref);return{query:n,update:UV(i,"update"),set:UV(i,"set"),push:r=>i.push(r),remove:UG(i),snapshotChanges:r=>VV(n,r,t).pipe(gi.iC),stateChanges:r=>BV(n,r,t).pipe(gi.iC),auditTrail:r=>function LG(n,e,t){return function BG(n,e,t){return function VG(n,e){return Ib(n,"value","on",e).pipe((0,mt.U)(t=>{let i;return t.payload.forEach(r=>(i=r.key,!1)),{data:t,lastKeyToLoad:i}}))}(n,t).pipe(function FH(...n){const e=(0,qr.jO)(n);return(0,fi.e)((t,i)=>{const r=n.length,s=new Array(r);let u=n.map(()=>!1),h=!1;for(let g=0;g<r;g++)(0,cs.Xf)(n[g]).subscribe((0,Mn.x)(i,y=>{s[g]=y,!h&&!u[g]&&(u[g]=!0,(h=u.every(na.y))&&(u=null))},bL.Z));t.subscribe((0,Mn.x)(i,g=>{if(h){const y=[g,...s];i.next(e?e(...y):y)}}))})}(e),(0,mt.U)(([r,s])=>{const u=r.lastKeyToLoad,h=s.map(g=>g.key);return{actions:s,lastKeyToLoad:u,loadedKeys:h}}),function LH(n){return(0,fi.e)((e,t)=>{let i=!1,r=0;e.subscribe((0,Mn.x)(t,s=>(i||(i=!n(s,r++)))&&t.next(s)))})}(r=>-1===r.loadedKeys.indexOf(r.lastKeyToLoad)),(0,mt.U)(r=>r.actions))}(n,BV(n,e).pipe(Rs((r,s)=>[...r,s],[])),t)}(n,r,t).pipe(gi.iC),valueChanges:(r,s)=>VV(n,r,t).pipe((0,mt.U)(h=>h.map(g=>s&&s.idField?Object.assign(Object.assign({},g.payload.val()),{[s.idField]:g.key}):g.payload.val())),gi.iC)}}(s,this)}object(t){return function HG(n,e){return{query:n,snapshotChanges:()=>zV(n,e.schedulers.outsideAngular)().pipe(gi.iC),update:t=>n.ref.update(t),set:t=>n.ref.set(t),remove:()=>n.ref.remove(),valueChanges:()=>zV(n,e.schedulers.outsideAngular)().pipe(gi.iC,(0,mt.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>kV(this.database,t)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Yr.Dh),l.LFG(Yr.xv,8),l.LFG(jG,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(gi.HU),l.LFG($G,8),l.LFG(Z1,8),l.LFG(z1,8),l.LFG(H1,8),l.LFG(j1,8),l.LFG($1,8),l.LFG(G1,8),l.LFG(W1,8),l.LFG(MS,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),GG=(()=>{class n{constructor(){fL.Z.registerVersion("angularfire",gi.q4.full,"rtdb-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[HV]}),n})(),fA=(()=>{class n{constructor(t,i){this.db=t,this.dbupload=i,this.dbpath="/addproduct",this.db2path="/catlist",this.store=t.collection(this.dbpath),this.Catlist=t.collection(this.db2path)}getAllProduct(){return this.store}getAllCat(){return this.Catlist}getProductByCategoty(t){return this.db.collection(this.dbpath,i=>i.where("productcat","array-contains",t)).valueChanges()}getproductById(t){return this.store.doc(t).valueChanges()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(EL),l.LFG(HV))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),jV=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Qsj),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n}),n})(),N_=(()=>{class n extends jV{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,features:[l.qOj]}),n})();const hl=new l.OlP("NgValueAccessor"),ZG={provide:hl,useExisting:(0,l.Gpc)(()=>sN),multi:!0},YG=new l.OlP("CompositionEventMode");let sN=(()=>{class n extends jV{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function KG(){const n=L()?L().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(YG,8))},n.\u0275dir=l.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,i){1&t&&l.NdJ("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[l._Bn([ZG]),l.qOj]}),n})();const js=new l.OlP("NgValidators"),Kp=new l.OlP("NgAsyncValidators");function ZV(n){return function Zp(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}(n.value)?{required:!0}:null}function pA(n){return null}function eB(n){return null!=n}function tB(n){return(0,l.QGY)(n)?(0,wn.D)(n):n}function nB(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function iB(n,e){return e.map(t=>t(n))}function rB(n){return n.map(e=>function XG(n){return!n.validate}(e)?e:t=>e.validate(t))}function oN(n){return null!=n?function sB(n){if(!n)return null;const e=n.filter(eB);return 0==e.length?null:function(t){return nB(iB(t,e))}}(rB(n)):null}function aN(n){return null!=n?function oB(n){if(!n)return null;const e=n.filter(eB);return 0==e.length?null:function(t){return function WG(...n){const e=(0,qr.jO)(n),{args:t,keys:i}=nc(n),r=new Cr.y(s=>{const{length:u}=t;if(!u)return void s.complete();const h=new Array(u);let g=u,y=u;for(let I=0;I<u;I++){let S=!1;(0,cs.Xf)(t[I]).subscribe((0,Mn.x)(s,P=>{S||(S=!0,y--),h[I]=P},()=>g--,void 0,()=>{(!g||!S)&&(y||s.next(i?ic(i,h):h),s.complete())}))}});return e?r.pipe($l(e)):r}(iB(t,e).map(tB)).pipe((0,mt.U)(nB))}}(rB(n)):null}function aB(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function lN(n){return n?Array.isArray(n)?n:[n]:[]}function gA(n,e){return Array.isArray(n)?n.includes(e):n===e}function cB(n,e){const t=lN(e);return lN(n).forEach(r=>{gA(t,r)||t.push(r)}),t}function dB(n,e){return lN(e).filter(t=>!gA(n,t))}class hB{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=oN(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=aN(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class _o extends hB{get formDirective(){return null}get path(){return null}}class Yp extends hB{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class fB{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let pB=(()=>{class n extends fB{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Yp,2))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,i){2&t&&l.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[l.qOj]}),n})(),gB=(()=>{class n extends fB{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(_o,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,i){2&t&&l.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[l.qOj]}),n})();const Tb="VALID",_A="INVALID",B0="PENDING",Db="DISABLED";function hN(n){return(yA(n)?n.validators:n)||null}function _B(n){return Array.isArray(n)?oN(n):n||null}function fN(n,e){return(yA(e)?e.asyncValidators:n)||null}function yB(n){return Array.isArray(n)?aN(n):n||null}function yA(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function vB(n,e,t){const i=n.controls;if(!(e?Object.keys(i):i).length)throw new l.vHH(1e3,"");if(!i[t])throw new l.vHH(1001,"")}function wB(n,e,t){n._forEachChild((i,r)=>{if(void 0===t[r])throw new l.vHH(1002,"")})}class vA{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=_B(this._rawValidators),this._composedAsyncValidatorFn=yB(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Tb}get invalid(){return this.status===_A}get pending(){return this.status==B0}get disabled(){return this.status===Db}get enabled(){return this.status!==Db}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=_B(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=yB(e)}addValidators(e){this.setValidators(cB(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(cB(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(dB(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(dB(e,this._rawAsyncValidators))}hasValidator(e){return gA(this._rawValidators,e)}hasAsyncValidator(e){return gA(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=B0,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Db,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Tb,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Tb||this.status===B0)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Db:Tb}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=B0,this._hasOwnPendingAsyncValidator=!0;const t=tB(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new l.vpe,this.statusChanges=new l.vpe}_calculateStatus(){return this._allControlsDisabled()?Db:this.errors?_A:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(B0)?B0:this._anyControlsHaveStatus(_A)?_A:Tb}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){yA(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}class Sb extends vA{constructor(e,t,i){super(hN(t),fN(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){wB(this,0,e),Object.keys(e).forEach(i=>{vB(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{const r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,s)=>{i=t(i,r,s)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class CB extends Sb{}function Ab(n,e){pN(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function aW(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&EB(n,e)})}(n,e),function uW(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function lW(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&EB(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function oW(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function EA(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function pN(n,e){const t=function lB(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(aB(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=function uB(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(aB(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();EA(e._rawValidators,r),EA(e._rawAsyncValidators,r)}function EB(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const pW={provide:_o,useExisting:(0,l.Gpc)(()=>IA)},xb=(()=>Promise.resolve())();let IA=(()=>{class n extends _o{constructor(t,i){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new l.vpe,this.form=new Sb({},oN(t),aN(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){xb.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),Ab(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){xb.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){xb.then(()=>{const i=this._findContainer(t.path),r=new Sb({});(function bB(n,e){pN(n,e)})(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){xb.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){xb.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function TB(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(js,10),l.Y36(Kp,10))},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,i){1&t&&l.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([pW]),l.qOj]}),n})();function DB(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function SB(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Mb=class extends vA{constructor(e=null,t,i){super(hN(t),fN(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),yA(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=SB(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){DB(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){DB(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){SB(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},_W={provide:Yp,useExisting:(0,l.Gpc)(()=>_N)},MB=(()=>Promise.resolve())();let _N=(()=>{class n extends Yp{constructor(t,i,r,s,u){super(),this._changeDetectorRef=u,this.control=new Mb,this._registered=!1,this.update=new l.vpe,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function mN(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(s=>{s.constructor===sN?t=s:function hW(n){return Object.getPrototypeOf(n.constructor)===N_}(s)?i=s:r=s}),r||i||t||null}(0,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function gN(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Ab(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){MB.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,r=0!==i&&(0,l.D6c)(i);MB.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function wA(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(_o,9),l.Y36(js,10),l.Y36(Kp,10),l.Y36(hl,10),l.Y36(l.sBO,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[l._Bn([_W]),l.qOj,l.TTD]}),n})(),PB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),NB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const yN=new l.OlP("NgModelWithFormControlWarning");let k_=(()=>{class n{constructor(){this._validator=pA}ngOnChanges(t){if(this.inputName in t){const i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):pA,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,features:[l.TTD]}),n})();const RW={provide:js,useExisting:(0,l.Gpc)(()=>TA),multi:!0};let TA=(()=>{class n extends k_{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=l.D6c,this.createValidator=t=>ZV}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,i){2&t&&l.uIk("required",i._enabled?"":null)},inputs:{required:"required"},features:[l._Bn([RW]),l.qOj]}),n})(),YB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[NB]}),n})(),QB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[YB]}),n})(),JB=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:yN,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[YB]}),n})();class XB extends vA{constructor(e,t,i){super(hN(t),fN(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,i={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,t={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,i={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),t&&(this.controls.splice(r,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){wB(this,0,e),e.forEach((i,r)=>{vB(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,i)=>!!i._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function eU(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let zW=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,i=null){const r=this._reduceControls(t);let s={};return eU(i)?s=i:null!==i&&(s.validators=i.validator,s.asyncValidators=i.asyncValidator),new Sb(r,s)}record(t,i=null){const r=this._reduceControls(t);return new CB(r,i)}control(t,i,r){let s={};return this.useNonNullable?(eU(i)?s=i:(s.validators=i,s.asyncValidators=r),new Mb(t,{...s,nonNullable:!0})):new Mb(t,i,r)}array(t,i,r){const s=t.map(u=>this._createControl(u));return new XB(s,i,r)}_reduceControls(t){const i={};return Object.keys(t).forEach(r=>{i[r]=this._createControl(t[r])}),i}_createControl(t){return t instanceof Mb||t instanceof vA?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:JB}),n})();function U0(n){return(0,fi.e)((e,t)=>{(0,cs.Xf)(n).subscribe((0,Mn.x)(t,()=>t.complete(),bL.Z)),!t.closed&&e.subscribe(t)})}var jW=R(3532);function WW(n,e=sm.z){return function HW(n){return(0,fi.e)((e,t)=>{let i=!1,r=null,s=null,u=!1;const h=()=>{if(s?.unsubscribe(),s=null,i){i=!1;const y=r;r=null,t.next(y)}u&&t.complete()},g=()=>{s=null,u&&t.complete()};e.subscribe((0,Mn.x)(t,y=>{i=!0,r=y,s||(0,cs.Xf)(n(y)).subscribe(s=(0,Mn.x)(t,h,g))},()=>{u=!0,(!i||!s||s.closed)&&t.complete()}))})}(()=>function GW(n=0,e,t=sm.P){let i=-1;return null!=e&&((0,jW.K)(e)?t=e:i=e),new Cr.y(r=>{let s=function $W(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;s<0&&(s=0);let u=0;return t.schedule(function(){r.closed||(r.next(u++),0<=i?this.schedule(void 0,i):r.complete())},s)})}(n,e))}var tU=R(4408);const Pb={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=Pb;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(s=>{t=void 0,n(s)});return new bd.w0(()=>t?.(r))},requestAnimationFrame(...n){const{delegate:e}=Pb;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=Pb;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var nU=R(7565);const YW=new class KW extends nU.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class ZW extends tU.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=Pb.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:s}=e;null!=t&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==t&&(Pb.cancelAnimationFrame(t),e._scheduled=void 0)}});let IN,QW=1;const DA={};function iU(n){return n in DA&&(delete DA[n],!0)}const JW={setImmediate(n){const e=QW++;return DA[e]=!0,IN||(IN=Promise.resolve()),IN.then(()=>iU(e)&&n()),e},clearImmediate(n){iU(n)}},{setImmediate:XW,clearImmediate:e5}=JW,SA={setImmediate(...n){const{delegate:e}=SA;return(e?.setImmediate||XW)(...n)},clearImmediate(n){const{delegate:e}=SA;return(e?.clearImmediate||e5)(n)},delegate:void 0},i5=new class n5 extends nU.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class t5 extends tU.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=SA.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:s}=e;null!=t&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==t&&(SA.clearImmediate(t),e._scheduled=void 0)}});var r5=R(1144);const s5=["addListener","removeListener"],o5=["addEventListener","removeEventListener"],a5=["on","off"];function z0(n,e,t,i){if((0,Ns.m)(t)&&(i=t,t=void 0),i)return z0(n,e,t).pipe($l(i));const[r,s]=function c5(n){return(0,Ns.m)(n.addEventListener)&&(0,Ns.m)(n.removeEventListener)}(n)?o5.map(u=>h=>n[u](e,h,t)):function l5(n){return(0,Ns.m)(n.addListener)&&(0,Ns.m)(n.removeListener)}(n)?s5.map(rU(n,e)):function u5(n){return(0,Ns.m)(n.on)&&(0,Ns.m)(n.off)}(n)?a5.map(rU(n,e)):[];if(!r&&(0,r5.z)(n))return(0,pi.z)(u=>z0(u,e,t))((0,cs.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new Cr.y(u=>{const h=(...g)=>u.next(1<g.length?g:g[0]);return r(h),()=>s(h)})}function rU(n,e){return t=>i=>n[t](e,i)}const d5=["content"],h5=["scroll"],f5=["padding"],Ob=function(n){return{searchTerm:n}};function p5(n,e){if(1&n&&(l.TgZ(0,"div",6),l.GkF(1,7),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.Q6J("ngTemplateOutlet",t.headerTemplate)("ngTemplateOutletContext",l.VKq(2,Ob,t.filterValue))}}function g5(n,e){if(1&n&&(l.TgZ(0,"div",8),l.GkF(1,7),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.Q6J("ngTemplateOutlet",t.footerTemplate)("ngTemplateOutletContext",l.VKq(2,Ob,t.filterValue))}}const sU=["*"],m5=["searchInput"],_5=["clearButton"];function y5(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"span",15),l.NdJ("click",function(){l.CHM(t);const r=l.oxw().$implicit,s=l.oxw(2);return l.KtG(s.unselect(r))}),l._uU(1,"\xd7"),l.qZA(),l._UZ(2,"span",16)}if(2&n){const t=l.oxw().$implicit,i=l.oxw(2);l.xp6(2),l.Q6J("ngItemLabel",t.label)("escape",i.escapeHTML)}}function v5(n,e){}const w5=function(n,e,t){return{item:n,clear:e,label:t}};function C5(n,e){if(1&n&&(l.TgZ(0,"div",12),l.YNc(1,y5,3,2,"ng-template",null,13,l.W1O),l.YNc(3,v5,0,0,"ng-template",14),l.qZA()),2&n){const t=e.$implicit,i=l.MAs(2),r=l.oxw(2);l.ekj("ng-value-disabled",t.disabled),l.xp6(3),l.Q6J("ngTemplateOutlet",r.labelTemplate||i)("ngTemplateOutletContext",l.kEZ(4,w5,t.value,r.clearItem,t.label))}}function E5(n,e){if(1&n&&(l.ynx(0),l.YNc(1,C5,4,8,"div",11),l.BQk()),2&n){const t=l.oxw();l.xp6(1),l.Q6J("ngForOf",t.selectedItems)("ngForTrackBy",t.trackByOption)}}function b5(n,e){}const I5=function(n,e){return{items:n,clear:e}};function T5(n,e){if(1&n&&l.YNc(0,b5,0,0,"ng-template",14),2&n){const t=l.oxw();l.Q6J("ngTemplateOutlet",t.multiLabelTemplate)("ngTemplateOutletContext",l.WLB(2,I5,t.selectedValues,t.clearItem))}}function D5(n,e){1&n&&l._UZ(0,"div",19)}function S5(n,e){}function A5(n,e){if(1&n&&(l.ynx(0),l.YNc(1,D5,1,0,"ng-template",null,17,l.W1O),l.YNc(3,S5,0,0,"ng-template",18),l.BQk()),2&n){const t=l.MAs(2),i=l.oxw();l.xp6(3),l.Q6J("ngTemplateOutlet",i.loadingSpinnerTemplate||t)}}function x5(n,e){if(1&n&&(l.TgZ(0,"span",20,21)(2,"span",22),l._uU(3,"\xd7"),l.qZA()()),2&n){const t=l.oxw();l.s9C("title",t.clearAllText)}}function M5(n,e){if(1&n&&l._UZ(0,"span",28),2&n){const t=l.oxw().$implicit,i=l.oxw(2);l.Q6J("ngItemLabel",t.label)("escape",i.escapeHTML)}}function P5(n,e){}const O5=function(n,e,t,i){return{item:n,item$:e,index:t,searchTerm:i}};function N5(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",26),l.NdJ("click",function(){const s=l.CHM(t).$implicit,u=l.oxw(2);return l.KtG(u.toggleItem(s))})("mouseover",function(){const s=l.CHM(t).$implicit,u=l.oxw(2);return l.KtG(u.onItemHover(s))}),l.YNc(1,M5,1,2,"ng-template",null,27,l.W1O),l.YNc(3,P5,0,0,"ng-template",14),l.qZA()}if(2&n){const t=e.$implicit,i=l.MAs(2),r=l.oxw(2);l.ekj("ng-option-disabled",t.disabled)("ng-option-selected",t.selected)("ng-optgroup",t.children)("ng-option",!t.children)("ng-option-child",!!t.parent)("ng-option-marked",t===r.itemsList.markedItem),l.uIk("role",t.children?"group":"option")("aria-selected",t.selected)("id",null==t?null:t.htmlId),l.xp6(3),l.Q6J("ngTemplateOutlet",t.children?r.optgroupTemplate||i:r.optionTemplate||i)("ngTemplateOutletContext",l.l5B(17,O5,t.value,t,t.index,r.searchTerm))}}function k5(n,e){if(1&n&&(l.TgZ(0,"span")(1,"span",31),l._uU(2),l.qZA(),l._uU(3),l.qZA()),2&n){const t=l.oxw(3);l.xp6(2),l.Oqu(t.addTagText),l.xp6(1),l.hij('"',t.searchTerm,'"')}}function R5(n,e){}function F5(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",29),l.NdJ("mouseover",function(){l.CHM(t);const r=l.oxw(2);return l.KtG(r.itemsList.unmarkItem())})("click",function(){l.CHM(t);const r=l.oxw(2);return l.KtG(r.selectTag())}),l.YNc(1,k5,4,2,"ng-template",null,30,l.W1O),l.YNc(3,R5,0,0,"ng-template",14),l.qZA()}if(2&n){const t=l.MAs(2),i=l.oxw(2);l.ekj("ng-option-marked",!i.itemsList.markedItem),l.xp6(3),l.Q6J("ngTemplateOutlet",i.tagTemplate||t)("ngTemplateOutletContext",l.VKq(4,Ob,i.searchTerm))}}function L5(n,e){if(1&n&&(l.TgZ(0,"div",33),l._uU(1),l.qZA()),2&n){const t=l.oxw(3);l.xp6(1),l.Oqu(t.notFoundText)}}function V5(n,e){}function B5(n,e){if(1&n&&(l.ynx(0),l.YNc(1,L5,2,1,"ng-template",null,32,l.W1O),l.YNc(3,V5,0,0,"ng-template",14),l.BQk()),2&n){const t=l.MAs(2),i=l.oxw(2);l.xp6(3),l.Q6J("ngTemplateOutlet",i.notFoundTemplate||t)("ngTemplateOutletContext",l.VKq(2,Ob,i.searchTerm))}}function U5(n,e){if(1&n&&(l.TgZ(0,"div",33),l._uU(1),l.qZA()),2&n){const t=l.oxw(3);l.xp6(1),l.Oqu(t.typeToSearchText)}}function z5(n,e){}function H5(n,e){if(1&n&&(l.ynx(0),l.YNc(1,U5,2,1,"ng-template",null,34,l.W1O),l.YNc(3,z5,0,0,"ng-template",18),l.BQk()),2&n){const t=l.MAs(2),i=l.oxw(2);l.xp6(3),l.Q6J("ngTemplateOutlet",i.typeToSearchTemplate||t)}}function j5(n,e){if(1&n&&(l.TgZ(0,"div",33),l._uU(1),l.qZA()),2&n){const t=l.oxw(3);l.xp6(1),l.Oqu(t.loadingText)}}function $5(n,e){}function G5(n,e){if(1&n&&(l.ynx(0),l.YNc(1,j5,2,1,"ng-template",null,35,l.W1O),l.YNc(3,$5,0,0,"ng-template",14),l.BQk()),2&n){const t=l.MAs(2),i=l.oxw(2);l.xp6(3),l.Q6J("ngTemplateOutlet",i.loadingTextTemplate||t)("ngTemplateOutletContext",l.VKq(2,Ob,i.searchTerm))}}function W5(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"ng-dropdown-panel",23),l.NdJ("update",function(r){l.CHM(t);const s=l.oxw();return l.KtG(s.viewPortItems=r)})("scroll",function(r){l.CHM(t);const s=l.oxw();return l.KtG(s.scroll.emit(r))})("scrollToEnd",function(r){l.CHM(t);const s=l.oxw();return l.KtG(s.scrollToEnd.emit(r))})("outsideClick",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.close())}),l.ynx(1),l.YNc(2,N5,4,22,"div",24),l.YNc(3,F5,4,6,"div",25),l.BQk(),l.YNc(4,B5,4,4,"ng-container",3),l.YNc(5,H5,4,1,"ng-container",3),l.YNc(6,G5,4,4,"ng-container",3),l.qZA()}if(2&n){const t=l.oxw();l.ekj("ng-select-multiple",t.multiple),l.Q6J("virtualScroll",t.virtualScroll)("bufferAmount",t.bufferAmount)("appendTo",t.appendTo)("position",t.dropdownPosition)("headerTemplate",t.headerTemplate)("footerTemplate",t.footerTemplate)("filterValue",t.searchTerm)("items",t.itemsList.filteredItems)("markedItem",t.itemsList.markedItem)("ngClass",t.appendTo?t.classes:null)("id",t.dropdownId),l.xp6(2),l.Q6J("ngForOf",t.viewPortItems)("ngForTrackBy",t.trackByOption),l.xp6(1),l.Q6J("ngIf",t.showAddTag),l.xp6(1),l.Q6J("ngIf",t.showNoItemsFound()),l.xp6(1),l.Q6J("ngIf",t.showTypeToSearch()),l.xp6(1),l.Q6J("ngIf",t.loading&&0===t.itemsList.filteredItems.length)}}const oU=/[&<>"']/g,q5=RegExp(oU.source),Z5={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Zi(n){return null!=n}function Nb(n){return"object"==typeof n&&Zi(n)}function AA(n){return n instanceof Function}const Z0=class{constructor(e){this.element=e,this.escape=!0}ngOnChanges(e){this.element.nativeElement.innerHTML=this.escape?function K5(n){return n&&q5.test(n)?n.replace(oU,e=>Z5[e]):n}(this.ngItemLabel):this.ngItemLabel}};let kb=Z0;ck=new WeakMap,dk=new WeakMap,on(kb,ck,Z0.\u0275fac=function(t){return new(t||Z0)(l.Y36(l.SBq))}),on(kb,dk,Z0.\u0275dir=l.lG2({type:Z0,selectors:[["","ngItemLabel",""]],inputs:{ngItemLabel:"ngItemLabel",escape:"escape"},features:[l.TTD]}));const K0=class{constructor(e){this.template=e}};let Rb=K0;hk=new WeakMap,fk=new WeakMap,on(Rb,hk,K0.\u0275fac=function(t){return new(t||K0)(l.Y36(l.Rgc))}),on(Rb,fk,K0.\u0275dir=l.lG2({type:K0,selectors:[["","ng-option-tmp",""]]}));const Y0=class{constructor(e){this.template=e}};let Fb=Y0;pk=new WeakMap,gk=new WeakMap,on(Fb,pk,Y0.\u0275fac=function(t){return new(t||Y0)(l.Y36(l.Rgc))}),on(Fb,gk,Y0.\u0275dir=l.lG2({type:Y0,selectors:[["","ng-optgroup-tmp",""]]}));const Q0=class{constructor(e){this.template=e}};let Lb=Q0;mk=new WeakMap,_k=new WeakMap,on(Lb,mk,Q0.\u0275fac=function(t){return new(t||Q0)(l.Y36(l.Rgc))}),on(Lb,_k,Q0.\u0275dir=l.lG2({type:Q0,selectors:[["","ng-label-tmp",""]]}));const J0=class{constructor(e){this.template=e}};let Vb=J0;yk=new WeakMap,vk=new WeakMap,on(Vb,yk,J0.\u0275fac=function(t){return new(t||J0)(l.Y36(l.Rgc))}),on(Vb,vk,J0.\u0275dir=l.lG2({type:J0,selectors:[["","ng-multi-label-tmp",""]]}));const X0=class{constructor(e){this.template=e}};let Bb=X0;wk=new WeakMap,Ck=new WeakMap,on(Bb,wk,X0.\u0275fac=function(t){return new(t||X0)(l.Y36(l.Rgc))}),on(Bb,Ck,X0.\u0275dir=l.lG2({type:X0,selectors:[["","ng-header-tmp",""]]}));const ew=class{constructor(e){this.template=e}};let Ub=ew;Ek=new WeakMap,bk=new WeakMap,on(Ub,Ek,ew.\u0275fac=function(t){return new(t||ew)(l.Y36(l.Rgc))}),on(Ub,bk,ew.\u0275dir=l.lG2({type:ew,selectors:[["","ng-footer-tmp",""]]}));const tw=class{constructor(e){this.template=e}};let zb=tw;Ik=new WeakMap,Tk=new WeakMap,on(zb,Ik,tw.\u0275fac=function(t){return new(t||tw)(l.Y36(l.Rgc))}),on(zb,Tk,tw.\u0275dir=l.lG2({type:tw,selectors:[["","ng-notfound-tmp",""]]}));const nw=class{constructor(e){this.template=e}};let Hb=nw;Dk=new WeakMap,Sk=new WeakMap,on(Hb,Dk,nw.\u0275fac=function(t){return new(t||nw)(l.Y36(l.Rgc))}),on(Hb,Sk,nw.\u0275dir=l.lG2({type:nw,selectors:[["","ng-typetosearch-tmp",""]]}));const iw=class{constructor(e){this.template=e}};let jb=iw;Ak=new WeakMap,xk=new WeakMap,on(jb,Ak,iw.\u0275fac=function(t){return new(t||iw)(l.Y36(l.Rgc))}),on(jb,xk,iw.\u0275dir=l.lG2({type:iw,selectors:[["","ng-loadingtext-tmp",""]]}));const rw=class{constructor(e){this.template=e}};let $b=rw;Mk=new WeakMap,Pk=new WeakMap,on($b,Mk,rw.\u0275fac=function(t){return new(t||rw)(l.Y36(l.Rgc))}),on($b,Pk,rw.\u0275dir=l.lG2({type:rw,selectors:[["","ng-tag-tmp",""]]}));const sw=class{constructor(e){this.template=e}};let Gb=sw;function aU(){return"axxxxxxxxxxx".replace(/[x]/g,()=>(16*Math.random()|0).toString(16))}Ok=new WeakMap,Nk=new WeakMap,on(Gb,Ok,sw.\u0275fac=function(t){return new(t||sw)(l.Y36(l.Rgc))}),on(Gb,Nk,sw.\u0275dir=l.lG2({type:sw,selectors:[["","ng-loadingspinner-tmp",""]]}));const Q5={"\u24b6":"A",\uff21:"A",\u00c0:"A",\u00c1:"A",\u00c2:"A",\u1ea6:"A",\u1ea4:"A",\u1eaa:"A",\u1ea8:"A",\u00c3:"A",\u0100:"A",\u0102:"A",\u1eb0:"A",\u1eae:"A",\u1eb4:"A",\u1eb2:"A",\u0226:"A",\u01e0:"A",\u00c4:"A",\u01de:"A",\u1ea2:"A",\u00c5:"A",\u01fa:"A",\u01cd:"A",\u0200:"A",\u0202:"A",\u1ea0:"A",\u1eac:"A",\u1eb6:"A",\u1e00:"A",\u0104:"A",\u023a:"A",\u2c6f:"A",\ua732:"AA",\u00c6:"AE",\u01fc:"AE",\u01e2:"AE",\ua734:"AO",\ua736:"AU",\ua738:"AV",\ua73a:"AV",\ua73c:"AY","\u24b7":"B",\uff22:"B",\u1e02:"B",\u1e04:"B",\u1e06:"B",\u0243:"B",\u0182:"B",\u0181:"B","\u24b8":"C",\uff23:"C",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u00c7:"C",\u1e08:"C",\u0187:"C",\u023b:"C",\ua73e:"C","\u24b9":"D",\uff24:"D",\u1e0a:"D",\u010e:"D",\u1e0c:"D",\u1e10:"D",\u1e12:"D",\u1e0e:"D",\u0110:"D",\u018b:"D",\u018a:"D",\u0189:"D",\ua779:"D",\u01f1:"DZ",\u01c4:"DZ",\u01f2:"Dz",\u01c5:"Dz","\u24ba":"E",\uff25:"E",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u1ec0:"E",\u1ebe:"E",\u1ec4:"E",\u1ec2:"E",\u1ebc:"E",\u0112:"E",\u1e14:"E",\u1e16:"E",\u0114:"E",\u0116:"E",\u00cb:"E",\u1eba:"E",\u011a:"E",\u0204:"E",\u0206:"E",\u1eb8:"E",\u1ec6:"E",\u0228:"E",\u1e1c:"E",\u0118:"E",\u1e18:"E",\u1e1a:"E",\u0190:"E",\u018e:"E","\u24bb":"F",\uff26:"F",\u1e1e:"F",\u0191:"F",\ua77b:"F","\u24bc":"G",\uff27:"G",\u01f4:"G",\u011c:"G",\u1e20:"G",\u011e:"G",\u0120:"G",\u01e6:"G",\u0122:"G",\u01e4:"G",\u0193:"G",\ua7a0:"G",\ua77d:"G",\ua77e:"G","\u24bd":"H",\uff28:"H",\u0124:"H",\u1e22:"H",\u1e26:"H",\u021e:"H",\u1e24:"H",\u1e28:"H",\u1e2a:"H",\u0126:"H",\u2c67:"H",\u2c75:"H",\ua78d:"H","\u24be":"I",\uff29:"I",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u0128:"I",\u012a:"I",\u012c:"I",\u0130:"I",\u00cf:"I",\u1e2e:"I",\u1ec8:"I",\u01cf:"I",\u0208:"I",\u020a:"I",\u1eca:"I",\u012e:"I",\u1e2c:"I",\u0197:"I","\u24bf":"J",\uff2a:"J",\u0134:"J",\u0248:"J","\u24c0":"K",\uff2b:"K",\u1e30:"K",\u01e8:"K",\u1e32:"K",\u0136:"K",\u1e34:"K",\u0198:"K",\u2c69:"K",\ua740:"K",\ua742:"K",\ua744:"K",\ua7a2:"K","\u24c1":"L",\uff2c:"L",\u013f:"L",\u0139:"L",\u013d:"L",\u1e36:"L",\u1e38:"L",\u013b:"L",\u1e3c:"L",\u1e3a:"L",\u0141:"L",\u023d:"L",\u2c62:"L",\u2c60:"L",\ua748:"L",\ua746:"L",\ua780:"L",\u01c7:"LJ",\u01c8:"Lj","\u24c2":"M",\uff2d:"M",\u1e3e:"M",\u1e40:"M",\u1e42:"M",\u2c6e:"M",\u019c:"M","\u24c3":"N",\uff2e:"N",\u01f8:"N",\u0143:"N",\u00d1:"N",\u1e44:"N",\u0147:"N",\u1e46:"N",\u0145:"N",\u1e4a:"N",\u1e48:"N",\u0220:"N",\u019d:"N",\ua790:"N",\ua7a4:"N",\u01ca:"NJ",\u01cb:"Nj","\u24c4":"O",\uff2f:"O",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u1ed2:"O",\u1ed0:"O",\u1ed6:"O",\u1ed4:"O",\u00d5:"O",\u1e4c:"O",\u022c:"O",\u1e4e:"O",\u014c:"O",\u1e50:"O",\u1e52:"O",\u014e:"O",\u022e:"O",\u0230:"O",\u00d6:"O",\u022a:"O",\u1ece:"O",\u0150:"O",\u01d1:"O",\u020c:"O",\u020e:"O",\u01a0:"O",\u1edc:"O",\u1eda:"O",\u1ee0:"O",\u1ede:"O",\u1ee2:"O",\u1ecc:"O",\u1ed8:"O",\u01ea:"O",\u01ec:"O",\u00d8:"O",\u01fe:"O",\u0186:"O",\u019f:"O",\ua74a:"O",\ua74c:"O",\u01a2:"OI",\ua74e:"OO",\u0222:"OU","\u24c5":"P",\uff30:"P",\u1e54:"P",\u1e56:"P",\u01a4:"P",\u2c63:"P",\ua750:"P",\ua752:"P",\ua754:"P","\u24c6":"Q",\uff31:"Q",\ua756:"Q",\ua758:"Q",\u024a:"Q","\u24c7":"R",\uff32:"R",\u0154:"R",\u1e58:"R",\u0158:"R",\u0210:"R",\u0212:"R",\u1e5a:"R",\u1e5c:"R",\u0156:"R",\u1e5e:"R",\u024c:"R",\u2c64:"R",\ua75a:"R",\ua7a6:"R",\ua782:"R","\u24c8":"S",\uff33:"S",\u1e9e:"S",\u015a:"S",\u1e64:"S",\u015c:"S",\u1e60:"S",\u0160:"S",\u1e66:"S",\u1e62:"S",\u1e68:"S",\u0218:"S",\u015e:"S",\u2c7e:"S",\ua7a8:"S",\ua784:"S","\u24c9":"T",\uff34:"T",\u1e6a:"T",\u0164:"T",\u1e6c:"T",\u021a:"T",\u0162:"T",\u1e70:"T",\u1e6e:"T",\u0166:"T",\u01ac:"T",\u01ae:"T",\u023e:"T",\ua786:"T",\ua728:"TZ","\u24ca":"U",\uff35:"U",\u00d9:"U",\u00da:"U",\u00db:"U",\u0168:"U",\u1e78:"U",\u016a:"U",\u1e7a:"U",\u016c:"U",\u00dc:"U",\u01db:"U",\u01d7:"U",\u01d5:"U",\u01d9:"U",\u1ee6:"U",\u016e:"U",\u0170:"U",\u01d3:"U",\u0214:"U",\u0216:"U",\u01af:"U",\u1eea:"U",\u1ee8:"U",\u1eee:"U",\u1eec:"U",\u1ef0:"U",\u1ee4:"U",\u1e72:"U",\u0172:"U",\u1e76:"U",\u1e74:"U",\u0244:"U","\u24cb":"V",\uff36:"V",\u1e7c:"V",\u1e7e:"V",\u01b2:"V",\ua75e:"V",\u0245:"V",\ua760:"VY","\u24cc":"W",\uff37:"W",\u1e80:"W",\u1e82:"W",\u0174:"W",\u1e86:"W",\u1e84:"W",\u1e88:"W",\u2c72:"W","\u24cd":"X",\uff38:"X",\u1e8a:"X",\u1e8c:"X","\u24ce":"Y",\uff39:"Y",\u1ef2:"Y",\u00dd:"Y",\u0176:"Y",\u1ef8:"Y",\u0232:"Y",\u1e8e:"Y",\u0178:"Y",\u1ef6:"Y",\u1ef4:"Y",\u01b3:"Y",\u024e:"Y",\u1efe:"Y","\u24cf":"Z",\uff3a:"Z",\u0179:"Z",\u1e90:"Z",\u017b:"Z",\u017d:"Z",\u1e92:"Z",\u1e94:"Z",\u01b5:"Z",\u0224:"Z",\u2c7f:"Z",\u2c6b:"Z",\ua762:"Z","\u24d0":"a",\uff41:"a",\u1e9a:"a",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u1ea7:"a",\u1ea5:"a",\u1eab:"a",\u1ea9:"a",\u00e3:"a",\u0101:"a",\u0103:"a",\u1eb1:"a",\u1eaf:"a",\u1eb5:"a",\u1eb3:"a",\u0227:"a",\u01e1:"a",\u00e4:"a",\u01df:"a",\u1ea3:"a",\u00e5:"a",\u01fb:"a",\u01ce:"a",\u0201:"a",\u0203:"a",\u1ea1:"a",\u1ead:"a",\u1eb7:"a",\u1e01:"a",\u0105:"a",\u2c65:"a",\u0250:"a",\ua733:"aa",\u00e6:"ae",\u01fd:"ae",\u01e3:"ae",\ua735:"ao",\ua737:"au",\ua739:"av",\ua73b:"av",\ua73d:"ay","\u24d1":"b",\uff42:"b",\u1e03:"b",\u1e05:"b",\u1e07:"b",\u0180:"b",\u0183:"b",\u0253:"b","\u24d2":"c",\uff43:"c",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u00e7:"c",\u1e09:"c",\u0188:"c",\u023c:"c",\ua73f:"c",\u2184:"c","\u24d3":"d",\uff44:"d",\u1e0b:"d",\u010f:"d",\u1e0d:"d",\u1e11:"d",\u1e13:"d",\u1e0f:"d",\u0111:"d",\u018c:"d",\u0256:"d",\u0257:"d",\ua77a:"d",\u01f3:"dz",\u01c6:"dz","\u24d4":"e",\uff45:"e",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u1ec1:"e",\u1ebf:"e",\u1ec5:"e",\u1ec3:"e",\u1ebd:"e",\u0113:"e",\u1e15:"e",\u1e17:"e",\u0115:"e",\u0117:"e",\u00eb:"e",\u1ebb:"e",\u011b:"e",\u0205:"e",\u0207:"e",\u1eb9:"e",\u1ec7:"e",\u0229:"e",\u1e1d:"e",\u0119:"e",\u1e19:"e",\u1e1b:"e",\u0247:"e",\u025b:"e",\u01dd:"e","\u24d5":"f",\uff46:"f",\u1e1f:"f",\u0192:"f",\ua77c:"f","\u24d6":"g",\uff47:"g",\u01f5:"g",\u011d:"g",\u1e21:"g",\u011f:"g",\u0121:"g",\u01e7:"g",\u0123:"g",\u01e5:"g",\u0260:"g",\ua7a1:"g",\u1d79:"g",\ua77f:"g","\u24d7":"h",\uff48:"h",\u0125:"h",\u1e23:"h",\u1e27:"h",\u021f:"h",\u1e25:"h",\u1e29:"h",\u1e2b:"h",\u1e96:"h",\u0127:"h",\u2c68:"h",\u2c76:"h",\u0265:"h",\u0195:"hv","\u24d8":"i",\uff49:"i",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u0129:"i",\u012b:"i",\u012d:"i",\u00ef:"i",\u1e2f:"i",\u1ec9:"i",\u01d0:"i",\u0209:"i",\u020b:"i",\u1ecb:"i",\u012f:"i",\u1e2d:"i",\u0268:"i",\u0131:"i","\u24d9":"j",\uff4a:"j",\u0135:"j",\u01f0:"j",\u0249:"j","\u24da":"k",\uff4b:"k",\u1e31:"k",\u01e9:"k",\u1e33:"k",\u0137:"k",\u1e35:"k",\u0199:"k",\u2c6a:"k",\ua741:"k",\ua743:"k",\ua745:"k",\ua7a3:"k","\u24db":"l",\uff4c:"l",\u0140:"l",\u013a:"l",\u013e:"l",\u1e37:"l",\u1e39:"l",\u013c:"l",\u1e3d:"l",\u1e3b:"l",\u017f:"l",\u0142:"l",\u019a:"l",\u026b:"l",\u2c61:"l",\ua749:"l",\ua781:"l",\ua747:"l",\u01c9:"lj","\u24dc":"m",\uff4d:"m",\u1e3f:"m",\u1e41:"m",\u1e43:"m",\u0271:"m",\u026f:"m","\u24dd":"n",\uff4e:"n",\u01f9:"n",\u0144:"n",\u00f1:"n",\u1e45:"n",\u0148:"n",\u1e47:"n",\u0146:"n",\u1e4b:"n",\u1e49:"n",\u019e:"n",\u0272:"n",\u0149:"n",\ua791:"n",\ua7a5:"n",\u01cc:"nj","\u24de":"o",\uff4f:"o",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u1ed3:"o",\u1ed1:"o",\u1ed7:"o",\u1ed5:"o",\u00f5:"o",\u1e4d:"o",\u022d:"o",\u1e4f:"o",\u014d:"o",\u1e51:"o",\u1e53:"o",\u014f:"o",\u022f:"o",\u0231:"o",\u00f6:"o",\u022b:"o",\u1ecf:"o",\u0151:"o",\u01d2:"o",\u020d:"o",\u020f:"o",\u01a1:"o",\u1edd:"o",\u1edb:"o",\u1ee1:"o",\u1edf:"o",\u1ee3:"o",\u1ecd:"o",\u1ed9:"o",\u01eb:"o",\u01ed:"o",\u00f8:"o",\u01ff:"o",\u0254:"o",\ua74b:"o",\ua74d:"o",\u0275:"o",\u01a3:"oi",\u0223:"ou",\ua74f:"oo","\u24df":"p",\uff50:"p",\u1e55:"p",\u1e57:"p",\u01a5:"p",\u1d7d:"p",\ua751:"p",\ua753:"p",\ua755:"p","\u24e0":"q",\uff51:"q",\u024b:"q",\ua757:"q",\ua759:"q","\u24e1":"r",\uff52:"r",\u0155:"r",\u1e59:"r",\u0159:"r",\u0211:"r",\u0213:"r",\u1e5b:"r",\u1e5d:"r",\u0157:"r",\u1e5f:"r",\u024d:"r",\u027d:"r",\ua75b:"r",\ua7a7:"r",\ua783:"r","\u24e2":"s",\uff53:"s",\u00df:"s",\u015b:"s",\u1e65:"s",\u015d:"s",\u1e61:"s",\u0161:"s",\u1e67:"s",\u1e63:"s",\u1e69:"s",\u0219:"s",\u015f:"s",\u023f:"s",\ua7a9:"s",\ua785:"s",\u1e9b:"s","\u24e3":"t",\uff54:"t",\u1e6b:"t",\u1e97:"t",\u0165:"t",\u1e6d:"t",\u021b:"t",\u0163:"t",\u1e71:"t",\u1e6f:"t",\u0167:"t",\u01ad:"t",\u0288:"t",\u2c66:"t",\ua787:"t",\ua729:"tz","\u24e4":"u",\uff55:"u",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u0169:"u",\u1e79:"u",\u016b:"u",\u1e7b:"u",\u016d:"u",\u00fc:"u",\u01dc:"u",\u01d8:"u",\u01d6:"u",\u01da:"u",\u1ee7:"u",\u016f:"u",\u0171:"u",\u01d4:"u",\u0215:"u",\u0217:"u",\u01b0:"u",\u1eeb:"u",\u1ee9:"u",\u1eef:"u",\u1eed:"u",\u1ef1:"u",\u1ee5:"u",\u1e73:"u",\u0173:"u",\u1e77:"u",\u1e75:"u",\u0289:"u","\u24e5":"v",\uff56:"v",\u1e7d:"v",\u1e7f:"v",\u028b:"v",\ua75f:"v",\u028c:"v",\ua761:"vy","\u24e6":"w",\uff57:"w",\u1e81:"w",\u1e83:"w",\u0175:"w",\u1e87:"w",\u1e85:"w",\u1e98:"w",\u1e89:"w",\u2c73:"w","\u24e7":"x",\uff58:"x",\u1e8b:"x",\u1e8d:"x","\u24e8":"y",\uff59:"y",\u1ef3:"y",\u00fd:"y",\u0177:"y",\u1ef9:"y",\u0233:"y",\u1e8f:"y",\u00ff:"y",\u1ef7:"y",\u1e99:"y",\u1ef5:"y",\u01b4:"y",\u024f:"y",\u1eff:"y","\u24e9":"z",\uff5a:"z",\u017a:"z",\u1e91:"z",\u017c:"z",\u017e:"z",\u1e93:"z",\u1e95:"z",\u01b6:"z",\u0225:"z",\u0240:"z",\u2c6c:"z",\ua763:"z",\u0386:"\u0391",\u0388:"\u0395",\u0389:"\u0397",\u038a:"\u0399",\u03aa:"\u0399",\u038c:"\u039f",\u038e:"\u03a5",\u03ab:"\u03a5",\u038f:"\u03a9",\u03ac:"\u03b1",\u03ad:"\u03b5",\u03ae:"\u03b7",\u03af:"\u03b9",\u03ca:"\u03b9",\u0390:"\u03b9",\u03cc:"\u03bf",\u03cd:"\u03c5",\u03cb:"\u03c5",\u03b0:"\u03c5",\u03c9:"\u03c9",\u03c2:"\u03c3"};function xA(n){return n.replace(/[^\u0000-\u007E]/g,t=>Q5[t]||t)}class J5{constructor(e,t){this._ngSelect=e,this._selectionModel=t,this._items=[],this._filteredItems=[],this._markedIndex=-1}get items(){return this._items}get filteredItems(){return this._filteredItems}get markedIndex(){return this._markedIndex}get selectedItems(){return this._selectionModel.value}get markedItem(){return this._filteredItems[this._markedIndex]}get noItemsToSelect(){return this._ngSelect.hideSelected&&this._items.length===this.selectedItems.length}get maxItemsSelected(){return this._ngSelect.multiple&&this._ngSelect.maxSelectedItems<=this.selectedItems.length}get lastSelectedItem(){let e=this.selectedItems.length-1;for(;e>=0;e--){const t=this.selectedItems[e];if(!t.disabled)return t}return null}setItems(e){this._items=e.map((t,i)=>this.mapItem(t,i)),this._ngSelect.groupBy?(this._groups=this._groupBy(this._items,this._ngSelect.groupBy),this._items=this._flatten(this._groups)):(this._groups=new Map,this._groups.set(void 0,this._items)),this._filteredItems=[...this._items]}select(e){if(e.selected||this.maxItemsSelected)return;const t=this._ngSelect.multiple;t||this.clearSelected(),this._selectionModel.select(e,t,this._ngSelect.selectableGroupAsModel),this._ngSelect.hideSelected&&this._hideSelected(e)}unselect(e){!e.selected||(this._selectionModel.unselect(e,this._ngSelect.multiple),this._ngSelect.hideSelected&&Zi(e.index)&&this._ngSelect.multiple&&this._showSelected(e))}findItem(e){let t;return t=this._ngSelect.compareWith?i=>this._ngSelect.compareWith(i.value,e):this._ngSelect.bindValue?i=>!i.children&&this.resolveNested(i.value,this._ngSelect.bindValue)===e:i=>i.value===e||!i.children&&i.label&&i.label===this.resolveNested(e,this._ngSelect.bindLabel),this._items.find(i=>t(i))}addItem(e){const t=this.mapItem(e,this._items.length);return this._items.push(t),this._filteredItems.push(t),t}clearSelected(e=!1){this._selectionModel.clear(e),this._items.forEach(t=>{t.selected=e&&t.selected&&t.disabled,t.marked=!1}),this._ngSelect.hideSelected&&this.resetFilteredItems()}findByLabel(e){return e=xA(e).toLocaleLowerCase(),this.filteredItems.find(t=>xA(t.label).toLocaleLowerCase().substr(0,e.length)===e)}filter(e){if(!e)return void this.resetFilteredItems();this._filteredItems=[],e=this._ngSelect.searchFn?e:xA(e).toLocaleLowerCase();const t=this._ngSelect.searchFn||this._defaultSearchFn,i=this._ngSelect.hideSelected;for(const r of Array.from(this._groups.keys())){const s=[];for(const u of this._groups.get(r))i&&(u.parent&&u.parent.selected||u.selected)||t(e,this._ngSelect.searchFn?u.value:u)&&s.push(u);if(s.length>0){const[u]=s.slice(-1);if(u.parent){const h=this._items.find(g=>g===u.parent);this._filteredItems.push(h)}this._filteredItems.push(...s)}}}resetFilteredItems(){this._filteredItems.length!==this._items.length&&(this._filteredItems=this._ngSelect.hideSelected&&this.selectedItems.length>0?this._items.filter(e=>!e.selected):this._items)}unmarkItem(){this._markedIndex=-1}markNextItem(){this._stepToItem(1)}markPreviousItem(){this._stepToItem(-1)}markItem(e){this._markedIndex=this._filteredItems.indexOf(e)}markSelectedOrDefault(e){if(0===this._filteredItems.length)return;const t=this._getLastMarkedIndex();this._markedIndex=t>-1?t:e?this.filteredItems.findIndex(i=>!i.disabled):-1}resolveNested(e,t){if(!Nb(e))return e;if(-1===t.indexOf("."))return e[t];{const i=t.split(".");let r=e;for(let s=0,u=i.length;s<u;++s){if(null==r)return null;r=r[i[s]]}return r}}mapItem(e,t){const i=Zi(e.$ngOptionLabel)?e.$ngOptionLabel:this.resolveNested(e,this._ngSelect.bindLabel),r=Zi(e.$ngOptionValue)?e.$ngOptionValue:e;return{index:t,label:Zi(i)?i.toString():"",value:r,disabled:e.disabled,htmlId:`${this._ngSelect.dropdownId}-${t}`}}mapSelectedItems(){const e=this._ngSelect.multiple;for(const t of this.selectedItems){const i=this._ngSelect.bindValue?this.resolveNested(t.value,this._ngSelect.bindValue):t.value,r=Zi(i)?this.findItem(i):null;this._selectionModel.unselect(t,e),this._selectionModel.select(r||t,e,this._ngSelect.selectableGroupAsModel)}this._ngSelect.hideSelected&&(this._filteredItems=this.filteredItems.filter(t=>-1===this.selectedItems.indexOf(t)))}_showSelected(e){if(this._filteredItems.push(e),e.parent){const t=e.parent;this._filteredItems.find(r=>r===t)||this._filteredItems.push(t)}else if(e.children)for(const t of e.children)t.selected=!1,this._filteredItems.push(t);this._filteredItems=[...this._filteredItems.sort((t,i)=>t.index-i.index)]}_hideSelected(e){this._filteredItems=this._filteredItems.filter(t=>t!==e),e.parent?e.parent.children.every(i=>i.selected)&&(this._filteredItems=this._filteredItems.filter(i=>i!==e.parent)):e.children&&(this._filteredItems=this.filteredItems.filter(t=>t.parent!==e))}_defaultSearchFn(e,t){return xA(t.label).toLocaleLowerCase().indexOf(e)>-1}_getNextItemIndex(e){return e>0?this._markedIndex>=this._filteredItems.length-1?0:this._markedIndex+1:this._markedIndex<=0?this._filteredItems.length-1:this._markedIndex-1}_stepToItem(e){0===this._filteredItems.length||this._filteredItems.every(t=>t.disabled)||(this._markedIndex=this._getNextItemIndex(e),this.markedItem.disabled&&this._stepToItem(e))}_getLastMarkedIndex(){if(this._ngSelect.hideSelected||this._markedIndex>-1&&void 0===this.markedItem)return-1;const e=this._filteredItems.indexOf(this.lastSelectedItem);return this.lastSelectedItem&&e<0?-1:Math.max(this.markedIndex,e)}_groupBy(e,t){const i=new Map;if(0===e.length)return i;if(Array.isArray(e[0].value[t])){for(const u of e){const h=(u.value[t]||[]).map((g,y)=>this.mapItem(g,y));i.set(u,h)}return i}const r=AA(this._ngSelect.groupBy),s=u=>{const h=r?t(u.value):u.value[t];return Zi(h)?h:void 0};for(const u of e){const h=s(u),g=i.get(h);g?g.push(u):i.set(h,[u])}return i}_flatten(e){const t=AA(this._ngSelect.groupBy),i=[];for(const r of Array.from(e.keys())){let s=i.length;if(void 0===r){const S=e.get(void 0)||[];i.push(...S.map(P=>(P.index=s++,P)));continue}const u=Nb(r),h={label:u?"":String(r),children:void 0,parent:null,index:s++,disabled:!this._ngSelect.selectableGroup,htmlId:aU()},g=t?this._ngSelect.bindLabel:this._ngSelect.groupBy,y=this._ngSelect.groupValue||(()=>u?r.value:{[g]:r}),I=e.get(r).map(S=>(S.parent=h,S.children=void 0,S.index=s++,S));h.children=I,h.value=y(r,I.map(S=>S.value)),i.push(h),i.push(...I)}return i}}var fl=(()=>(function(n){n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Esc=27]="Esc",n[n.Space=32]="Space",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowDown=40]="ArrowDown",n[n.Backspace=8]="Backspace"}(fl||(fl={})),fl))();const U_=class{constructor(){this._dimensions={itemHeight:0,panelHeight:0,itemsPerViewport:0}}get dimensions(){return this._dimensions}calculateItems(e,t,i){const r=this._dimensions,s=r.itemHeight*t,h=Math.max(0,e)/s*t;let g=Math.min(t,Math.ceil(h)+(r.itemsPerViewport+1));const I=Math.max(0,g-r.itemsPerViewport);let S=Math.min(I,Math.floor(h)),P=r.itemHeight*Math.ceil(S)-r.itemHeight*Math.min(S,i);return P=isNaN(P)?0:P,S=isNaN(S)?-1:S,g=isNaN(g)?-1:g,S-=i,S=Math.max(0,S),g+=i,g=Math.min(t,g),{topPadding:P,scrollHeight:s,start:S,end:g}}setDimensions(e,t){const i=Math.max(1,Math.floor(t/e));this._dimensions={itemHeight:e,panelHeight:t,itemsPerViewport:i}}getScrollTo(e,t,i){const{panelHeight:r}=this.dimensions,s=e+t,h=i+r;return r>=s&&i===e?null:s>h?i+s-h:e<=i?e:null}};let H0=U_;kk=new WeakMap,Rk=new WeakMap,on(H0,kk,U_.\u0275fac=function(t){return new(t||U_)}),on(H0,Rk,U_.\u0275prov=l.Yz7({token:U_,factory:U_.\u0275fac}));const lU=["top","right","bottom","left"],X5=typeof requestAnimationFrame<"u"?YW:i5,ow=class{constructor(e,t,i,r,s){this._renderer=e,this._zone=t,this._panelService=i,this._document=s,this.items=[],this.position="auto",this.virtualScroll=!1,this.filterValue=null,this.update=new l.vpe,this.scroll=new l.vpe,this.scrollToEnd=new l.vpe,this.outsideClick=new l.vpe,this._destroy$=new Kn.x,this._scrollToEndFired=!1,this._updateScrollHeight=!1,this._lastScrollPosition=0,this._dropdown=r.nativeElement}get currentPosition(){return this._currentPosition}get itemsLength(){return this._itemsLength}set itemsLength(e){e!==this._itemsLength&&(this._itemsLength=e,this._onItemsLengthChanged())}get _startOffset(){if(this.markedItem){const{itemHeight:e,panelHeight:t}=this._panelService.dimensions,i=this.markedItem.index*e;return t>i?0:i}return 0}ngOnInit(){this._select=this._dropdown.parentElement,this._virtualPadding=this.paddingElementRef.nativeElement,this._scrollablePanel=this.scrollElementRef.nativeElement,this._contentPanel=this.contentElementRef.nativeElement,this._handleScroll(),this._handleOutsideClick(),this._appendDropdown(),this._setupMousedownListener()}ngOnChanges(e){if(e.items){const t=e.items;this._onItemsChange(t.currentValue,t.firstChange)}}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete(),this._destroy$.unsubscribe(),this.appendTo&&this._renderer.removeChild(this._dropdown.parentNode,this._dropdown)}scrollTo(e,t=!1){if(!e)return;const i=this.items.indexOf(e);if(i<0||i>=this.itemsLength)return;let r;if(this.virtualScroll){const s=this._panelService.dimensions.itemHeight;r=this._panelService.getScrollTo(i*s,s,this._lastScrollPosition)}else{const s=this._dropdown.querySelector(`#${e.htmlId}`);r=this._panelService.getScrollTo(s.offsetTop,s.clientHeight,t?s.offsetTop:this._lastScrollPosition)}Zi(r)&&(this._scrollablePanel.scrollTop=r)}scrollToTag(){const e=this._scrollablePanel;e.scrollTop=e.scrollHeight-e.clientHeight}adjustPosition(){this._updateYPosition()}_handleDropdownPosition(){this._currentPosition=this._calculateCurrentPosition(this._dropdown),lU.includes(this._currentPosition)?this._updateDropdownClass(this._currentPosition):this._updateDropdownClass("bottom"),this.appendTo&&this._updateYPosition(),this._dropdown.style.opacity="1"}_updateDropdownClass(e){lU.forEach(i=>{const r=`ng-select-${i}`;this._renderer.removeClass(this._dropdown,r),this._renderer.removeClass(this._select,r)});const t=`ng-select-${e}`;this._renderer.addClass(this._dropdown,t),this._renderer.addClass(this._select,t)}_handleScroll(){this._zone.runOutsideAngular(()=>{z0(this.scrollElementRef.nativeElement,"scroll").pipe(U0(this._destroy$),WW(0,X5)).subscribe(e=>{const t=e.path||e.composedPath&&e.composedPath();this._onContentScrolled(t&&0!==t.length?t[0].scrollTop:e.target.scrollTop)})})}_handleOutsideClick(){!this._document||this._zone.runOutsideAngular(()=>{(0,T0.T)(z0(this._document,"touchstart",{capture:!0}),z0(this._document,"mousedown",{capture:!0})).pipe(U0(this._destroy$)).subscribe(e=>this._checkToClose(e))})}_checkToClose(e){if(this._select.contains(e.target)||this._dropdown.contains(e.target))return;const t=e.path||e.composedPath&&e.composedPath();e.target&&e.target.shadowRoot&&t&&t[0]&&this._select.contains(t[0])||this._zone.run(()=>this.outsideClick.emit())}_onItemsChange(e,t){this.items=e||[],this._scrollToEndFired=!1,this.itemsLength=e.length,this.virtualScroll?this._updateItemsRange(t):(this._setVirtualHeight(),this._updateItems(t))}_updateItems(e){this.update.emit(this.items),!1!==e&&this._zone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._panelService.setDimensions(0,this._scrollablePanel.clientHeight),this._handleDropdownPosition(),this.scrollTo(this.markedItem,e)})})}_updateItemsRange(e){this._zone.runOutsideAngular(()=>{this._measureDimensions().then(()=>{e?(this._renderItemsRange(this._startOffset),this._handleDropdownPosition()):this._renderItemsRange()})})}_onContentScrolled(e){this.virtualScroll&&this._renderItemsRange(e),this._lastScrollPosition=e,this._fireScrollToEnd(e)}_updateVirtualHeight(e){this._updateScrollHeight&&(this._virtualPadding.style.height=`${e}px`,this._updateScrollHeight=!1)}_setVirtualHeight(){!this._virtualPadding||(this._virtualPadding.style.height="0px")}_onItemsLengthChanged(){this._updateScrollHeight=!0}_renderItemsRange(e=null){if(e&&this._lastScrollPosition===e)return;const t=this._panelService.calculateItems(e=e||this._scrollablePanel.scrollTop,this.itemsLength,this.bufferAmount);this._updateVirtualHeight(t.scrollHeight),this._contentPanel.style.transform=`translateY(${t.topPadding}px)`,this._zone.run(()=>{this.update.emit(this.items.slice(t.start,t.end)),this.scroll.emit({start:t.start,end:t.end})}),Zi(e)&&0===this._lastScrollPosition&&(this._scrollablePanel.scrollTop=e,this._lastScrollPosition=e)}_measureDimensions(){if(this._panelService.dimensions.itemHeight>0||0===this.itemsLength)return Promise.resolve(this._panelService.dimensions);const[e]=this.items;return this.update.emit([e]),Promise.resolve().then(()=>{const i=this._dropdown.querySelector(`#${e.htmlId}`).clientHeight;return this._virtualPadding.style.height=i*this.itemsLength+"px",this._panelService.setDimensions(i,this._scrollablePanel.clientHeight),this._panelService.dimensions})}_fireScrollToEnd(e){this._scrollToEndFired||0===e||e+this._dropdown.clientHeight>=(this.virtualScroll?this._virtualPadding:this._contentPanel).clientHeight-1&&(this._zone.run(()=>this.scrollToEnd.emit()),this._scrollToEndFired=!0)}_calculateCurrentPosition(e){if("auto"!==this.position)return this.position;const t=this._select.getBoundingClientRect(),i=document.documentElement.scrollTop||document.body.scrollTop;return t.top+window.pageYOffset+t.height+e.getBoundingClientRect().height>i+document.documentElement.clientHeight?"top":"bottom"}_appendDropdown(){if(this.appendTo){if(this._parent=document.querySelector(this.appendTo),!this._parent)throw new Error(`appendTo selector ${this.appendTo} did not found any parent element`);this._updateXPosition(),this._parent.appendChild(this._dropdown)}}_updateXPosition(){const e=this._select.getBoundingClientRect(),t=this._parent.getBoundingClientRect();this._dropdown.style.left=e.left-t.left+"px",this._dropdown.style.width=e.width+"px",this._dropdown.style.minWidth=e.width+"px"}_updateYPosition(){const e=this._select.getBoundingClientRect(),t=this._parent.getBoundingClientRect(),i=e.height;"top"===this._currentPosition?(this._dropdown.style.bottom=t.bottom-e.bottom+i+"px",this._dropdown.style.top="auto"):"bottom"===this._currentPosition&&(this._dropdown.style.top=e.top-t.top+i+"px",this._dropdown.style.bottom="auto")}_setupMousedownListener(){this._zone.runOutsideAngular(()=>{z0(this._dropdown,"mousedown").pipe(U0(this._destroy$)).subscribe(e=>{"INPUT"!==e.target.tagName&&e.preventDefault()})})}};let j0=ow;Fk=new WeakMap,Lk=new WeakMap,on(j0,Fk,ow.\u0275fac=function(t){return new(t||ow)(l.Y36(l.Qsj),l.Y36(l.R0b),l.Y36(H0),l.Y36(l.SBq),l.Y36(de,8))}),on(j0,Lk,ow.\u0275cmp=l.Xpm({type:ow,selectors:[["ng-dropdown-panel"]],viewQuery:function(t,i){if(1&t&&(l.Gf(d5,7,l.SBq),l.Gf(h5,7,l.SBq),l.Gf(f5,7,l.SBq)),2&t){let r;l.iGM(r=l.CRH())&&(i.contentElementRef=r.first),l.iGM(r=l.CRH())&&(i.scrollElementRef=r.first),l.iGM(r=l.CRH())&&(i.paddingElementRef=r.first)}},inputs:{items:"items",markedItem:"markedItem",position:"position",appendTo:"appendTo",bufferAmount:"bufferAmount",virtualScroll:"virtualScroll",headerTemplate:"headerTemplate",footerTemplate:"footerTemplate",filterValue:"filterValue"},outputs:{update:"update",scroll:"scroll",scrollToEnd:"scrollToEnd",outsideClick:"outsideClick"},features:[l.TTD],ngContentSelectors:sU,decls:9,vars:6,consts:[["class","ng-dropdown-header",4,"ngIf"],["role","listbox",1,"ng-dropdown-panel-items","scroll-host"],["scroll",""],["padding",""],["content",""],["class","ng-dropdown-footer",4,"ngIf"],[1,"ng-dropdown-header"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ng-dropdown-footer"]],template:function(t,i){1&t&&(l.F$t(),l.YNc(0,p5,2,4,"div",0),l.TgZ(1,"div",1,2),l._UZ(3,"div",null,3),l.TgZ(5,"div",null,4),l.Hsn(7),l.qZA()(),l.YNc(8,g5,2,4,"div",5)),2&t&&(l.Q6J("ngIf",i.headerTemplate),l.xp6(3),l.ekj("total-padding",i.virtualScroll),l.xp6(2),l.ekj("scrollable-content",i.virtualScroll&&i.items.length),l.xp6(3),l.Q6J("ngIf",i.footerTemplate))},dependencies:[jn,Du],encapsulation:2,changeDetection:0}));const aw=class{get disabled(){return this._disabled}set disabled(e){this._disabled=this._isDisabled(e)}constructor(e){this.elementRef=e,this.stateChange$=new Kn.x,this._disabled=!1}get label(){return(this.elementRef.nativeElement.textContent||"").trim()}ngOnChanges(e){e.disabled&&this.stateChange$.next({value:this.value,disabled:this._disabled})}ngAfterViewChecked(){this.label!==this._previousLabel&&(this._previousLabel=this.label,this.stateChange$.next({value:this.value,disabled:this._disabled,label:this.elementRef.nativeElement.innerHTML}))}ngOnDestroy(){this.stateChange$.complete()}_isDisabled(e){return null!=e&&"false"!=`${e}`}};let $0=aw;Vk=new WeakMap,Bk=new WeakMap,on($0,Vk,aw.\u0275fac=function(t){return new(t||aw)(l.Y36(l.SBq))}),on($0,Bk,aw.\u0275cmp=l.Xpm({type:aw,selectors:[["ng-option"]],inputs:{value:"value",disabled:"disabled"},features:[l.TTD],ngContentSelectors:sU,decls:1,vars:0,template:function(t,i){1&t&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}));const z_=class{constructor(){this.notFoundText="No items found",this.typeToSearchText="Type to search",this.addTagText="Add item",this.loadingText="Loading...",this.clearAllText="Clear all",this.disableVirtualScroll=!0,this.openOnEnter=!0,this.appearance="underline"}};let R_=z_;Uk=new WeakMap,zk=new WeakMap,on(R_,Uk,z_.\u0275fac=function(t){return new(t||z_)}),on(R_,zk,z_.\u0275prov=l.Yz7({token:z_,factory:z_.\u0275fac,providedIn:"root"}));const H_=class{warn(e){console.warn(e)}};let Wb=H_;Hk=new WeakMap,jk=new WeakMap,on(Wb,Hk,H_.\u0275fac=function(t){return new(t||H_)}),on(Wb,jk,H_.\u0275prov=l.Yz7({token:H_,factory:H_.\u0275fac,providedIn:"root"}));const uU=new l.OlP("ng-select-selection-model"),j_=class{get items(){return this._items}set items(e){null===e&&(e=[]),this._itemsAreUsed=!0,this._items=e}get compareWith(){return this._compareWith}set compareWith(e){if(null!=e&&!AA(e))throw Error("`compareWith` must be a function.");this._compareWith=e}get clearSearchOnAdd(){return Zi(this._clearSearchOnAdd)?this._clearSearchOnAdd:Zi(this.config.clearSearchOnAdd)?this.config.clearSearchOnAdd:this.closeOnSelect}set clearSearchOnAdd(e){this._clearSearchOnAdd=e}get deselectOnClick(){return Zi(this._deselectOnClick)?this._deselectOnClick:Zi(this.config.deselectOnClick)?this.config.deselectOnClick:this.multiple}set deselectOnClick(e){this._deselectOnClick=e}get disabled(){return this.readonly||this._disabled}get filtered(){return!!this.searchTerm&&this.searchable||this._isComposing}get single(){return!this.multiple}get _editableSearchTerm(){return this.editableSearchTerm&&!this.multiple}constructor(e,t,i,r,s,u,h){this.classes=e,this.autoFocus=t,this.config=i,this._cd=u,this._console=h,this.markFirst=!0,this.dropdownPosition="auto",this.loading=!1,this.closeOnSelect=!0,this.hideSelected=!1,this.selectOnTab=!1,this.bufferAmount=4,this.selectableGroup=!1,this.selectableGroupAsModel=!0,this.searchFn=null,this.trackByFn=null,this.clearOnBackspace=!0,this.labelForId=null,this.inputAttrs={},this.readonly=!1,this.searchWhileComposing=!0,this.minTermLength=0,this.editableSearchTerm=!1,this.keyDownFn=g=>!0,this.multiple=!1,this.addTag=!1,this.searchable=!0,this.clearable=!0,this.isOpen=!1,this.blurEvent=new l.vpe,this.focusEvent=new l.vpe,this.changeEvent=new l.vpe,this.openEvent=new l.vpe,this.closeEvent=new l.vpe,this.searchEvent=new l.vpe,this.clearEvent=new l.vpe,this.addEvent=new l.vpe,this.removeEvent=new l.vpe,this.scroll=new l.vpe,this.scrollToEnd=new l.vpe,this.useDefaultClass=!0,this.viewPortItems=[],this.searchTerm=null,this.dropdownId=aU(),this.escapeHTML=!0,this._items=[],this._defaultLabel="label",this._pressedKeys=[],this._isComposing=!1,this._destroy$=new Kn.x,this._keyPress$=new Kn.x,this._onChange=g=>{},this._onTouched=()=>{},this.clearItem=g=>{const y=this.selectedItems.find(I=>I.value===g);this.unselect(y)},this.trackByOption=(g,y)=>this.trackByFn?this.trackByFn(y.value):y,this._mergeGlobalConfig(i),this.itemsList=new J5(this,r()),this.element=s.nativeElement}get selectedItems(){return this.itemsList.selectedItems}get selectedValues(){return this.selectedItems.map(e=>e.value)}get hasValue(){return this.selectedItems.length>0}get currentPanelPosition(){if(this.dropdownPanel)return this.dropdownPanel.currentPosition}ngOnInit(){this._handleKeyPresses(),this._setInputAttributes()}ngOnChanges(e){e.multiple&&this.itemsList.clearSelected(),e.items&&this._setItems(e.items.currentValue||[]),e.isOpen&&(this._manualOpen=Zi(e.isOpen.currentValue))}ngAfterViewInit(){this._itemsAreUsed||(this.escapeHTML=!1,this._setItemsFromNgOptions()),Zi(this.autoFocus)&&this.focus()}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete()}handleKeyDown(e){if(fl[e.which]){if(!1===this.keyDownFn(e))return;this.handleKeyCode(e)}else e.key&&1===e.key.length&&this._keyPress$.next(e.key.toLocaleLowerCase())}handleKeyCode(e){this.clearButton&&this.clearButton.nativeElement===e.target?this.handleKeyCodeClear(e):this.handleKeyCodeInput(e)}handleKeyCodeInput(e){switch(e.which){case fl.ArrowDown:this._handleArrowDown(e);break;case fl.ArrowUp:this._handleArrowUp(e);break;case fl.Space:this._handleSpace(e);break;case fl.Enter:this._handleEnter(e);break;case fl.Tab:this._handleTab(e);break;case fl.Esc:this.close(),e.preventDefault();break;case fl.Backspace:this._handleBackspace()}}handleKeyCodeClear(e){e.which===fl.Enter&&(this.handleClearClick(),e.preventDefault())}handleMousedown(e){const t=e.target;"INPUT"!==t.tagName&&e.preventDefault(),t.classList.contains("ng-clear-wrapper")?this.handleClearClick():t.classList.contains("ng-arrow-wrapper")?this.handleArrowClick():t.classList.contains("ng-value-icon")||(this.focused||this.focus(),this.searchable?this.open():this.toggle())}handleArrowClick(){this.isOpen?this.close():this.open()}handleClearClick(){this.hasValue&&(this.itemsList.clearSelected(!0),this._updateNgModel()),this._clearSearch(),this.focus(),this.clearEvent.emit(),this._onSelectionChanged()}clearModel(){!this.clearable||(this.itemsList.clearSelected(),this._updateNgModel())}writeValue(e){this.itemsList.clearSelected(),this._handleWriteValue(e),this._cd.markForCheck()}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this._disabled=e,this._cd.markForCheck()}toggle(){this.isOpen?this.close():this.open()}open(){this.disabled||this.isOpen||this._manualOpen||!this._isTypeahead&&!this.addTag&&this.itemsList.noItemsToSelect||(this.isOpen=!0,this.itemsList.markSelectedOrDefault(this.markFirst),this.openEvent.emit(),this.searchTerm||this.focus(),this.detectChanges())}close(){!this.isOpen||this._manualOpen||(this.isOpen=!1,this._isComposing=!1,this._editableSearchTerm?this.itemsList.resetFilteredItems():this._clearSearch(),this.itemsList.unmarkItem(),this._onTouched(),this.closeEvent.emit(),this._cd.markForCheck())}toggleItem(e){!e||e.disabled||this.disabled||(this.deselectOnClick&&e.selected?this.unselect(e):this.select(e),this._editableSearchTerm&&this._setSearchTermFromItems(),this._onSelectionChanged())}select(e){e.selected||(this.itemsList.select(e),this.clearSearchOnAdd&&!this._editableSearchTerm&&this._clearSearch(),this._updateNgModel(),this.multiple&&this.addEvent.emit(e.value)),(this.closeOnSelect||this.itemsList.noItemsToSelect)&&this.close()}focus(){this.searchInput.nativeElement.focus()}blur(){this.searchInput.nativeElement.blur()}unselect(e){!e||(this.itemsList.unselect(e),this.focus(),this._updateNgModel(),this.removeEvent.emit(e.value))}selectTag(){let e;e=AA(this.addTag)?this.addTag(this.searchTerm):this._primitive?this.searchTerm:{[this.bindLabel]:this.searchTerm};const t=i=>this._isTypeahead||!this.isOpen?this.itemsList.mapItem(i,null):this.itemsList.addItem(i);!function Y5(n){return n instanceof Promise}(e)?e&&this.select(t(e)):e.then(i=>this.select(t(i))).catch(()=>{})}showClear(){return this.clearable&&(this.hasValue||this.searchTerm)&&!this.disabled}focusOnClear(){this.blur(),this.clearButton&&this.clearButton.nativeElement.focus()}get showAddTag(){if(!this._validTerm)return!1;const e=this.searchTerm.toLowerCase().trim();return this.addTag&&!this.itemsList.filteredItems.some(t=>t.label.toLowerCase()===e)&&(!this.hideSelected&&this.isOpen||!this.selectedItems.some(t=>t.label.toLowerCase()===e))&&!this.loading}showNoItemsFound(){const e=0===this.itemsList.filteredItems.length;return(e&&!this._isTypeahead&&!this.loading||e&&this._isTypeahead&&this._validTerm&&!this.loading)&&!this.showAddTag}showTypeToSearch(){return 0===this.itemsList.filteredItems.length&&this._isTypeahead&&!this._validTerm&&!this.loading}onCompositionStart(){this._isComposing=!0}onCompositionEnd(e){this._isComposing=!1,!this.searchWhileComposing&&this.filter(e)}filter(e){this._isComposing&&!this.searchWhileComposing||(this.searchTerm=e,this._isTypeahead&&(this._validTerm||0===this.minTermLength)&&this.typeahead.next(e),this._isTypeahead||(this.itemsList.filter(this.searchTerm),this.isOpen&&this.itemsList.markSelectedOrDefault(this.markFirst)),this.searchEvent.emit({term:e,items:this.itemsList.filteredItems.map(t=>t.value)}),this.open())}onInputFocus(e){this.focused||(this._editableSearchTerm&&this._setSearchTermFromItems(),this.element.classList.add("ng-select-focused"),this.focusEvent.emit(e),this.focused=!0)}onInputBlur(e){this.element.classList.remove("ng-select-focused"),this.blurEvent.emit(e),!this.isOpen&&!this.disabled&&this._onTouched(),this._editableSearchTerm&&this._setSearchTermFromItems(),this.focused=!1}onItemHover(e){e.disabled||this.itemsList.markItem(e)}detectChanges(){this._cd.destroyed||this._cd.detectChanges()}_setSearchTermFromItems(){const e=this.selectedItems&&this.selectedItems[0];this.searchTerm=e&&e.label||null}_setItems(e){const t=e[0];this.bindLabel=this.bindLabel||this._defaultLabel,this._primitive=Zi(t)?!Nb(t):this._primitive||this.bindLabel===this._defaultLabel,this.itemsList.setItems(e),e.length>0&&this.hasValue&&this.itemsList.mapSelectedItems(),this.isOpen&&Zi(this.searchTerm)&&!this._isTypeahead&&this.itemsList.filter(this.searchTerm),(this._isTypeahead||this.isOpen)&&this.itemsList.markSelectedOrDefault(this.markFirst)}_setItemsFromNgOptions(){const e=i=>{this.items=i.map(r=>({$ngOptionValue:r.value,$ngOptionLabel:r.elementRef.nativeElement.innerHTML,disabled:r.disabled})),this.itemsList.setItems(this.items),this.hasValue&&this.itemsList.mapSelectedItems(),this.detectChanges()},t=()=>{const i=(0,T0.T)(this.ngOptions.changes,this._destroy$);(0,T0.T)(...this.ngOptions.map(r=>r.stateChange$)).pipe(U0(i)).subscribe(r=>{const s=this.itemsList.findItem(r.value);s.disabled=r.disabled,s.label=r.label||s.label,this._cd.detectChanges()})};this.ngOptions.changes.pipe(sa(this.ngOptions),U0(this._destroy$)).subscribe(i=>{this.bindLabel=this._defaultLabel,e(i),t()})}_isValidWriteValue(e){if(!Zi(e)||this.multiple&&""===e||Array.isArray(e)&&0===e.length)return!1;const t=i=>!(!Zi(this.compareWith)&&Nb(i)&&this.bindValue&&(this._console.warn(`Setting object(${JSON.stringify(i)}) as your model with bindValue is not allowed unless [compareWith] is used.`),1));return this.multiple?Array.isArray(e)?e.every(i=>t(i)):(this._console.warn("Multiple select ngModel should be array."),!1):t(e)}_handleWriteValue(e){if(!this._isValidWriteValue(e))return;const t=i=>{let r=this.itemsList.findItem(i);if(r)this.itemsList.select(r);else{const s=Nb(i),u=!s&&!this.bindValue;s||u?this.itemsList.select(this.itemsList.mapItem(i,null)):this.bindValue&&(r={[this.bindLabel]:null,[this.bindValue]:i},this.itemsList.select(this.itemsList.mapItem(r,null)))}};this.multiple?e.forEach(i=>t(i)):t(e)}_handleKeyPresses(){this.searchable||this._keyPress$.pipe(U0(this._destroy$),(0,Ai.b)(e=>this._pressedKeys.push(e)),function qW(n,e=sm.z){return(0,fi.e)((t,i)=>{let r=null,s=null,u=null;const h=()=>{if(r){r.unsubscribe(),r=null;const y=s;s=null,i.next(y)}};function g(){const y=u+n,I=e.now();if(I<y)return r=this.schedule(void 0,y-I),void i.add(r);h()}t.subscribe((0,Mn.x)(i,y=>{s=y,u=e.now(),r||(r=e.schedule(g,n),i.add(r))},()=>{h(),i.complete()},void 0,()=>{s=r=null}))})}(200),Ji(()=>this._pressedKeys.length>0),(0,mt.U)(()=>this._pressedKeys.join(""))).subscribe(e=>{const t=this.itemsList.findByLabel(e);t&&(this.isOpen?(this.itemsList.markItem(t),this._scrollToMarked(),this._cd.markForCheck()):this.select(t)),this._pressedKeys=[]})}_setInputAttributes(){const e=this.searchInput.nativeElement,t={type:"text",autocorrect:"off",autocapitalize:"off",autocomplete:this.labelForId?"off":this.dropdownId,...this.inputAttrs};for(const i of Object.keys(t))e.setAttribute(i,t[i])}_updateNgModel(){const e=[];for(const i of this.selectedItems)if(this.bindValue){let r=null;r=i.children?i.value[(this.groupValue?this.bindValue:this.groupBy)||this.groupBy]:this.itemsList.resolveNested(i.value,this.bindValue),e.push(r)}else e.push(i.value);const t=this.selectedItems.map(i=>i.value);this.multiple?(this._onChange(e),this.changeEvent.emit(t)):(this._onChange(Zi(e[0])?e[0]:null),this.changeEvent.emit(t[0])),this._cd.markForCheck()}_clearSearch(){!this.searchTerm||(this._changeSearch(null),this.itemsList.resetFilteredItems())}_changeSearch(e){this.searchTerm=e,this._isTypeahead&&this.typeahead.next(e)}_scrollToMarked(){!this.isOpen||!this.dropdownPanel||this.dropdownPanel.scrollTo(this.itemsList.markedItem)}_scrollToTag(){!this.isOpen||!this.dropdownPanel||this.dropdownPanel.scrollToTag()}_onSelectionChanged(){this.isOpen&&this.deselectOnClick&&this.appendTo&&(this._cd.detectChanges(),this.dropdownPanel.adjustPosition())}_handleTab(e){if(!1===this.isOpen)if(this.showClear())this.focusOnClear(),e.preventDefault();else if(!this.addTag)return;this.selectOnTab?this.itemsList.markedItem?(this.toggleItem(this.itemsList.markedItem),e.preventDefault()):this.showAddTag?(this.selectTag(),e.preventDefault()):this.close():this.close()}_handleEnter(e){if(this.isOpen||this._manualOpen)this.itemsList.markedItem?this.toggleItem(this.itemsList.markedItem):this.showAddTag&&this.selectTag();else{if(!this.openOnEnter)return;this.open()}e.preventDefault()}_handleSpace(e){this.isOpen||this._manualOpen||(this.open(),e.preventDefault())}_handleArrowDown(e){this._nextItemIsTag(1)?(this.itemsList.unmarkItem(),this._scrollToTag()):(this.itemsList.markNextItem(),this._scrollToMarked()),this.open(),e.preventDefault()}_handleArrowUp(e){!this.isOpen||(this._nextItemIsTag(-1)?(this.itemsList.unmarkItem(),this._scrollToTag()):(this.itemsList.markPreviousItem(),this._scrollToMarked()),e.preventDefault())}_nextItemIsTag(e){const t=this.itemsList.markedIndex+e;return this.addTag&&this.searchTerm&&this.itemsList.markedItem&&(t<0||t===this.itemsList.filteredItems.length)}_handleBackspace(){this.searchTerm||!this.clearable||!this.clearOnBackspace||!this.hasValue||(this.multiple?this.unselect(this.itemsList.lastSelectedItem):this.clearModel())}get _isTypeahead(){return this.typeahead&&this.typeahead.observers.length>0}get _validTerm(){const e=this.searchTerm&&this.searchTerm.trim();return e&&e.length>=this.minTermLength}_mergeGlobalConfig(e){this.placeholder=this.placeholder||e.placeholder,this.notFoundText=this.notFoundText||e.notFoundText,this.typeToSearchText=this.typeToSearchText||e.typeToSearchText,this.addTagText=this.addTagText||e.addTagText,this.loadingText=this.loadingText||e.loadingText,this.clearAllText=this.clearAllText||e.clearAllText,this.virtualScroll=Zi(this.virtualScroll)?this.virtualScroll:!!Zi(e.disableVirtualScroll)&&!e.disableVirtualScroll,this.openOnEnter=Zi(this.openOnEnter)?this.openOnEnter:e.openOnEnter,this.appendTo=this.appendTo||e.appendTo,this.bindValue=this.bindValue||e.bindValue,this.bindLabel=this.bindLabel||e.bindLabel,this.appearance=this.appearance||e.appearance}};let qb=j_;$k=new WeakMap,Gk=new WeakMap,on(qb,$k,j_.\u0275fac=function(t){return new(t||j_)(l.$8M("class"),l.$8M("autofocus"),l.Y36(R_),l.Y36(uU),l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(Wb))}),on(qb,Gk,j_.\u0275cmp=l.Xpm({type:j_,selectors:[["ng-select"]],contentQueries:function(t,i,r){if(1&t&&(l.Suo(r,Rb,5,l.Rgc),l.Suo(r,Fb,5,l.Rgc),l.Suo(r,Lb,5,l.Rgc),l.Suo(r,Vb,5,l.Rgc),l.Suo(r,Bb,5,l.Rgc),l.Suo(r,Ub,5,l.Rgc),l.Suo(r,zb,5,l.Rgc),l.Suo(r,Hb,5,l.Rgc),l.Suo(r,jb,5,l.Rgc),l.Suo(r,$b,5,l.Rgc),l.Suo(r,Gb,5,l.Rgc),l.Suo(r,$0,5)),2&t){let s;l.iGM(s=l.CRH())&&(i.optionTemplate=s.first),l.iGM(s=l.CRH())&&(i.optgroupTemplate=s.first),l.iGM(s=l.CRH())&&(i.labelTemplate=s.first),l.iGM(s=l.CRH())&&(i.multiLabelTemplate=s.first),l.iGM(s=l.CRH())&&(i.headerTemplate=s.first),l.iGM(s=l.CRH())&&(i.footerTemplate=s.first),l.iGM(s=l.CRH())&&(i.notFoundTemplate=s.first),l.iGM(s=l.CRH())&&(i.typeToSearchTemplate=s.first),l.iGM(s=l.CRH())&&(i.loadingTextTemplate=s.first),l.iGM(s=l.CRH())&&(i.tagTemplate=s.first),l.iGM(s=l.CRH())&&(i.loadingSpinnerTemplate=s.first),l.iGM(s=l.CRH())&&(i.ngOptions=s)}},viewQuery:function(t,i){if(1&t&&(l.Gf(j0,5),l.Gf(m5,7),l.Gf(_5,5)),2&t){let r;l.iGM(r=l.CRH())&&(i.dropdownPanel=r.first),l.iGM(r=l.CRH())&&(i.searchInput=r.first),l.iGM(r=l.CRH())&&(i.clearButton=r.first)}},hostVars:20,hostBindings:function(t,i){1&t&&l.NdJ("keydown",function(s){return i.handleKeyDown(s)}),2&t&&l.ekj("ng-select-typeahead",i.typeahead)("ng-select-multiple",i.multiple)("ng-select-taggable",i.addTag)("ng-select-searchable",i.searchable)("ng-select-clearable",i.clearable)("ng-select-opened",i.isOpen)("ng-select",i.useDefaultClass)("ng-select-disabled",i.disabled)("ng-select-filtered",i.filtered)("ng-select-single",i.single)},inputs:{bindLabel:"bindLabel",bindValue:"bindValue",markFirst:"markFirst",placeholder:"placeholder",notFoundText:"notFoundText",typeToSearchText:"typeToSearchText",addTagText:"addTagText",loadingText:"loadingText",clearAllText:"clearAllText",appearance:"appearance",dropdownPosition:"dropdownPosition",appendTo:"appendTo",loading:"loading",closeOnSelect:"closeOnSelect",hideSelected:"hideSelected",selectOnTab:"selectOnTab",openOnEnter:"openOnEnter",maxSelectedItems:"maxSelectedItems",groupBy:"groupBy",groupValue:"groupValue",bufferAmount:"bufferAmount",virtualScroll:"virtualScroll",selectableGroup:"selectableGroup",selectableGroupAsModel:"selectableGroupAsModel",searchFn:"searchFn",trackByFn:"trackByFn",clearOnBackspace:"clearOnBackspace",labelForId:"labelForId",inputAttrs:"inputAttrs",tabIndex:"tabIndex",readonly:"readonly",searchWhileComposing:"searchWhileComposing",minTermLength:"minTermLength",editableSearchTerm:"editableSearchTerm",keyDownFn:"keyDownFn",typeahead:"typeahead",multiple:"multiple",addTag:"addTag",searchable:"searchable",clearable:"clearable",isOpen:"isOpen",items:"items",compareWith:"compareWith",clearSearchOnAdd:"clearSearchOnAdd",deselectOnClick:"deselectOnClick"},outputs:{blurEvent:"blur",focusEvent:"focus",changeEvent:"change",openEvent:"open",closeEvent:"close",searchEvent:"search",clearEvent:"clear",addEvent:"add",removeEvent:"remove",scroll:"scroll",scrollToEnd:"scrollToEnd"},features:[l._Bn([{provide:hl,useExisting:(0,l.Gpc)(()=>j_),multi:!0},H0]),l.TTD],decls:14,vars:19,consts:[[1,"ng-select-container",3,"mousedown"],[1,"ng-value-container"],[1,"ng-placeholder"],[4,"ngIf"],["role","combobox","aria-haspopup","listbox",1,"ng-input"],["aria-autocomplete","list",3,"readOnly","disabled","value","input","compositionstart","compositionend","focus","blur","change"],["searchInput",""],["class","ng-clear-wrapper","tabindex","0",3,"title",4,"ngIf"],[1,"ng-arrow-wrapper"],[1,"ng-arrow"],["class","ng-dropdown-panel","role","listbox","aria-label","Options list",3,"virtualScroll","bufferAmount","appendTo","position","headerTemplate","footerTemplate","filterValue","items","markedItem","ng-select-multiple","ngClass","id","update","scroll","scrollToEnd","outsideClick",4,"ngIf"],["class","ng-value",3,"ng-value-disabled",4,"ngFor","ngForOf","ngForTrackBy"],[1,"ng-value"],["defaultLabelTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["aria-hidden","true",1,"ng-value-icon","left",3,"click"],[1,"ng-value-label",3,"ngItemLabel","escape"],["defaultLoadingSpinnerTemplate",""],[3,"ngTemplateOutlet"],[1,"ng-spinner-loader"],["tabindex","0",1,"ng-clear-wrapper",3,"title"],["clearButton",""],["aria-hidden","true",1,"ng-clear"],["role","listbox","aria-label","Options list",1,"ng-dropdown-panel",3,"virtualScroll","bufferAmount","appendTo","position","headerTemplate","footerTemplate","filterValue","items","markedItem","ngClass","id","update","scroll","scrollToEnd","outsideClick"],["class","ng-option",3,"ng-option-disabled","ng-option-selected","ng-optgroup","ng-option","ng-option-child","ng-option-marked","click","mouseover",4,"ngFor","ngForOf","ngForTrackBy"],["class","ng-option","role","option",3,"ng-option-marked","mouseover","click",4,"ngIf"],[1,"ng-option",3,"click","mouseover"],["defaultOptionTemplate",""],[1,"ng-option-label",3,"ngItemLabel","escape"],["role","option",1,"ng-option",3,"mouseover","click"],["defaultTagTemplate",""],[1,"ng-tag-label"],["defaultNotFoundTemplate",""],[1,"ng-option","ng-option-disabled"],["defaultTypeToSearchTemplate",""],["defaultLoadingTextTemplate",""]],template:function(t,i){if(1&t){const r=l.EpF();l.TgZ(0,"div",0),l.NdJ("mousedown",function(u){return i.handleMousedown(u)}),l.TgZ(1,"div",1)(2,"div",2),l._uU(3),l.qZA(),l.YNc(4,E5,2,2,"ng-container",3),l.YNc(5,T5,1,5,null,3),l.TgZ(6,"div",4)(7,"input",5,6),l.NdJ("input",function(){l.CHM(r);const u=l.MAs(8);return l.KtG(i.filter(u.value))})("compositionstart",function(){return i.onCompositionStart()})("compositionend",function(){l.CHM(r);const u=l.MAs(8);return l.KtG(i.onCompositionEnd(u.value))})("focus",function(u){return i.onInputFocus(u)})("blur",function(u){return i.onInputBlur(u)})("change",function(u){return u.stopPropagation()}),l.qZA()()(),l.YNc(9,A5,4,1,"ng-container",3),l.YNc(10,x5,4,1,"span",7),l.TgZ(11,"span",8),l._UZ(12,"span",9),l.qZA()(),l.YNc(13,W5,7,19,"ng-dropdown-panel",10)}2&t&&(l.ekj("ng-appearance-outline","outline"===i.appearance)("ng-has-value",i.hasValue),l.xp6(3),l.Oqu(i.placeholder),l.xp6(1),l.Q6J("ngIf",(!i.multiLabelTemplate||!i.multiple)&&i.selectedItems.length>0),l.xp6(1),l.Q6J("ngIf",i.multiple&&i.multiLabelTemplate&&i.selectedValues.length>0),l.xp6(1),l.uIk("aria-expanded",i.isOpen)("aria-owns",i.isOpen?i.dropdownId:null),l.xp6(1),l.Q6J("readOnly",!i.searchable||i.itemsList.maxItemsSelected)("disabled",i.disabled)("value",i.searchTerm?i.searchTerm:""),l.uIk("id",i.labelForId)("tabindex",i.tabIndex)("aria-activedescendant",i.isOpen?null==i.itemsList||null==i.itemsList.markedItem?null:i.itemsList.markedItem.htmlId:null)("aria-controls",i.isOpen?i.dropdownId:null),l.xp6(2),l.Q6J("ngIf",i.loading),l.xp6(1),l.Q6J("ngIf",i.showClear()),l.xp6(3),l.Q6J("ngIf",i.isOpen))},dependencies:[un,rn,jn,Du,j0,kb],styles:['@charset "UTF-8";.ng-select{position:relative;display:block;box-sizing:border-box}.ng-select div,.ng-select input,.ng-select span{box-sizing:border-box}.ng-select [hidden]{display:none}.ng-select.ng-select-searchable .ng-select-container .ng-value-container .ng-input{opacity:1}.ng-select.ng-select-opened .ng-select-container{z-index:1001}.ng-select.ng-select-disabled .ng-select-container .ng-value-container .ng-placeholder,.ng-select.ng-select-disabled .ng-select-container .ng-value-container .ng-value{-webkit-user-select:none;user-select:none;cursor:default}.ng-select.ng-select-disabled .ng-arrow-wrapper{cursor:default}.ng-select.ng-select-filtered .ng-placeholder{display:none}.ng-select .ng-select-container{cursor:default;display:flex;outline:none;overflow:hidden;position:relative;width:100%}.ng-select .ng-select-container .ng-value-container{display:flex;flex:1}.ng-select .ng-select-container .ng-value-container .ng-input{opacity:0}.ng-select .ng-select-container .ng-value-container .ng-input>input{box-sizing:content-box;background:none transparent;border:0 none;box-shadow:none;outline:none;padding:0;cursor:default;width:100%}.ng-select .ng-select-container .ng-value-container .ng-input>input::-ms-clear{display:none}.ng-select .ng-select-container .ng-value-container .ng-input>input[readonly]{-webkit-user-select:none;user-select:none;width:0;padding:0}.ng-select.ng-select-single.ng-select-filtered .ng-select-container .ng-value-container .ng-value{visibility:hidden}.ng-select.ng-select-single .ng-select-container .ng-value-container,.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-value{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-value .ng-value-icon{display:none}.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-input{position:absolute;left:0;width:100%}.ng-select.ng-select-multiple.ng-select-disabled>.ng-select-container .ng-value-container .ng-value .ng-value-icon{display:none}.ng-select.ng-select-multiple .ng-select-container .ng-value-container{flex-wrap:wrap}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-placeholder{position:absolute}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value{white-space:nowrap}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value.ng-value-disabled .ng-value-icon{display:none}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value .ng-value-icon{cursor:pointer}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-input{flex:1;z-index:2}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-placeholder{z-index:1}.ng-select .ng-clear-wrapper{cursor:pointer;position:relative;width:17px;-webkit-user-select:none;user-select:none}.ng-select .ng-clear-wrapper .ng-clear{display:inline-block;font-size:18px;line-height:1;pointer-events:none}.ng-select .ng-spinner-loader{border-radius:50%;width:17px;height:17px;margin-right:5px;font-size:10px;position:relative;text-indent:-9999em;border-top:2px solid rgba(66,66,66,.2);border-right:2px solid rgba(66,66,66,.2);border-bottom:2px solid rgba(66,66,66,.2);border-left:2px solid #424242;transform:translateZ(0);animation:load8 .8s infinite linear}.ng-select .ng-spinner-loader:after{border-radius:50%;width:17px;height:17px}@keyframes load8{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.ng-select .ng-arrow-wrapper{cursor:pointer;position:relative;text-align:center;-webkit-user-select:none;user-select:none}.ng-select .ng-arrow-wrapper .ng-arrow{pointer-events:none;display:inline-block;height:0;width:0;position:relative}.ng-dropdown-panel{box-sizing:border-box;position:absolute;opacity:0;width:100%;z-index:1050;-webkit-overflow-scrolling:touch}.ng-dropdown-panel .ng-dropdown-panel-items{display:block;height:auto;box-sizing:border-box;max-height:240px;overflow-y:auto}.ng-dropdown-panel .ng-dropdown-panel-items .ng-optgroup{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option{box-sizing:border-box;cursor:pointer;display:block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option .ng-option-label:empty:before{content:"\\200b"}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option .highlighted{font-weight:700;text-decoration:underline}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option.disabled{cursor:default}.ng-dropdown-panel .scroll-host{overflow:hidden;overflow-y:auto;position:relative;display:block;-webkit-overflow-scrolling:touch}.ng-dropdown-panel .scrollable-content{top:0;left:0;width:100%;height:100%;position:absolute}.ng-dropdown-panel .total-padding{width:1px;opacity:0}\n'],encapsulation:2,changeDetection:0}));class tq{constructor(){this._selected=[]}get value(){return this._selected}select(e,t,i){if(e.selected=!0,(!e.children||!t&&i)&&this._selected.push(e),t)if(e.parent){const r=e.parent.children.length,s=e.parent.children.filter(u=>u.selected).length;e.parent.selected=r===s}else e.children&&(this._setChildrenSelectedState(e.children,!0),this._removeChildren(e),this._selected=i&&this._activeChildren(e)?[...this._selected.filter(r=>r.parent!==e),e]:[...this._selected,...e.children.filter(r=>!r.disabled)])}unselect(e,t){if(this._selected=this._selected.filter(i=>i!==e),e.selected=!1,t)if(e.parent&&e.parent.selected){const i=e.parent.children;this._removeParent(e.parent),this._removeChildren(e.parent),this._selected.push(...i.filter(r=>r!==e&&!r.disabled)),e.parent.selected=!1}else e.children&&(this._setChildrenSelectedState(e.children,!1),this._removeChildren(e))}clear(e){this._selected=e?this._selected.filter(t=>t.disabled):[]}_setChildrenSelectedState(e,t){for(const i of e)i.disabled||(i.selected=t)}_removeChildren(e){this._selected=[...this._selected.filter(t=>t.parent!==e),...e.children.filter(t=>t.parent===e&&t.disabled&&t.selected)]}_removeParent(e){this._selected=this._selected.filter(t=>t!==e)}_activeChildren(e){return e.children.every(t=>!t.disabled||t.selected)}}const $_=class{};let F_=$_;function nq(n,e){if(1&n&&(l.TgZ(0,"ng-option",7),l._uU(1),l.qZA()),2&n){const t=e.$implicit;l.Q6J("value",t.productcat[0]),l.xp6(1),l.Oqu(t.productcat[0])}}function iq(n,e){if(1&n&&(l.TgZ(0,"div"),l._UZ(1,"img",15),l.qZA()),2&n){const t=l.oxw().$implicit;l.xp6(1),l.Q6J("src",t.selectedFile[0].imageurl,l.LSH)}}function rq(n,e){if(1&n&&(l.TgZ(0,"div",8)(1,"div",9),l.YNc(2,iq,2,1,"div",10),l.TgZ(3,"div",11)(4,"a")(5,"h5",12),l._uU(6),l.qZA()()(),l.TgZ(7,"ul",13)(8,"li",14),l._uU(9),l.qZA(),l.TgZ(10,"li",14),l._uU(11),l.qZA()()()()),2&n){const t=e.$implicit;l.xp6(2),l.Q6J("ngIf",t.selectedFile[0]),l.xp6(4),l.Oqu(t.productname),l.xp6(3),l.hij(" \u0627\u0644\u0633\u0639\u0631 :",t.saleprice,""),l.xp6(2),l.hij(" \u0627\u0644\u0643\u0645\u064a\u0629 \u0627\u0644\u0645\u062a\u0648\u0641\u0631\u0629",t.mount," ")}}Wk=new WeakMap,qk=new WeakMap,Zk=new WeakMap,on(F_,Wk,$_.\u0275fac=function(t){return new(t||$_)}),on(F_,qk,$_.\u0275mod=l.oAB({type:$_})),on(F_,Zk,$_.\u0275inj=l.cJS({providers:[{provide:uU,useValue:function eq(){return new tq}}],imports:[Io]}));let sq=(()=>{class n{constructor(t,i){this.productSer=t,this.config=i,this.config.notFoundText="\u0644\u0627\u064a\u0648\u062c\u062f ",this.config.appendTo="body",this.config.bindValue="value"}ngOnInit(){this.getallproduct(),this.filterProduct()}getallproduct(){this.productSer.getAllProduct().snapshotChanges().pipe((0,mt.U)(t=>t.map(i=>({id:i.payload.doc.id,...i.payload.doc.data()})))).subscribe(t=>{this.Product=t})}filterProduct(){return this.Product.forEach(t=>{this.FilterProduct=[],-1===this.FilterProduct.indexOf(t.productcat[0])&&this.FilterProduct.push(t.productcat[0])}),this.FilterProduct}getProductcat(t){var i=this;return(0,Se.Z)(function*(){if(null!=t)return console.log(t),i.Product=yield i.productSer.getProductByCategoty(t),console.log(i.Product),i.Product})()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(fA),l.Y36(R_))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-product-details"]],decls:8,vars:5,consts:[[1,"container","product"],[1,"form-group","mt-3","col-md-12"],["for","formGroupExampleInput"],[3,"searchable","required","ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"row"],["class","p-4 col-md-3",4,"ngFor","ngForOf"],[3,"value"],[1,"p-4","col-md-3"],[1,"card","p-2"],[4,"ngIf"],[1,"card-body"],[1,"card-title"],[1,"list-group","list-group-flush"],[1,"list-group-item"],["alt","Card image cap",1,"card-img-top",3,"src"]],template:function(t,i){1&t&&(l.TgZ(0,"div",0)(1,"div",1)(2,"label",2),l._uU(3," \u0627\u0633\u0645 \u0627\u0644\u062a\u0635\u0646\u064a\u0641"),l.qZA(),l.TgZ(4,"ng-select",3),l.NdJ("ngModelChange",function(s){return i.getProductcat(s)}),l.YNc(5,nq,2,2,"ng-option",4),l.qZA(),l.TgZ(6,"div",5),l.YNc(7,rq,12,4,"div",6),l.qZA()()()),2&t&&(l.xp6(4),l.Q6J("searchable",!0)("required",!0)("ngModel",i.selectedvalue),l.xp6(1),l.Q6J("ngForOf",i.FilterProduct),l.xp6(2),l.Q6J("ngForOf",i.Product))},dependencies:[rn,jn,qb,$0,pB,TA,_N],styles:[".card-img[_ngcontent-%COMP%], .card-img-top[_ngcontent-%COMP%]{height:250px}.product[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{height:450px}"]}),n})();const oq=["*"];let TN=(()=>{class n{constructor(t,i,r){this.el=t,this.zone=i,this.platformId=r,this.afterChange=new l.vpe,this.beforeChange=new l.vpe,this.breakpoint=new l.vpe,this.destroy=new l.vpe,this.init=new l.vpe,this.currentIndex=0,this.slides=[],this.initialized=!1,this._removedSlides=[],this._addedSlides=[]}ngOnDestroy(){this.unslick()}ngAfterViewInit(){this.ngAfterViewChecked()}ngAfterViewChecked(){if(!Sa(this.platformId)&&(this._addedSlides.length>0||this._removedSlides.length>0)){const t=this.slides.length-this._removedSlides.length+this._addedSlides.length;this.initialized?0===t?this.unslick():(this._addedSlides.forEach(i=>{this.slides.push(i),this.zone.runOutsideAngular(()=>{this.$instance.slick("slickAdd",i.el.nativeElement)})}),this._addedSlides=[],this._removedSlides.forEach(i=>{const r=this.slides.indexOf(i);this.slides=this.slides.filter(s=>s!==i),this.zone.runOutsideAngular(()=>{this.$instance.slick("slickRemove",r)})}),this._removedSlides=[]):t>0&&this.initSlick()}}initSlick(){this.slides=this._addedSlides,this._addedSlides=[],this._removedSlides=[],this.zone.runOutsideAngular(()=>{this.$instance=jQuery(this.el.nativeElement),this.$instance.on("init",(t,i)=>{this.zone.run(()=>{this.init.emit({event:t,slick:i})})}),this.$instance.slick(this.config),this.zone.run(()=>{this.initialized=!0,this.currentIndex=this.config?.initialSlide||0}),this.$instance.on("afterChange",(t,i,r)=>{this.zone.run(()=>{this.afterChange.emit({event:t,slick:i,currentSlide:r,first:0===r,last:i.$slides.length===r+i.options.slidesToScroll}),this.currentIndex=r})}),this.$instance.on("beforeChange",(t,i,r,s)=>{this.zone.run(()=>{this.beforeChange.emit({event:t,slick:i,currentSlide:r,nextSlide:s}),this.currentIndex=s})}),this.$instance.on("breakpoint",(t,i,r)=>{this.zone.run(()=>{this.breakpoint.emit({event:t,slick:i,breakpoint:r})})}),this.$instance.on("destroy",(t,i)=>{this.zone.run(()=>{this.destroy.emit({event:t,slick:i}),this.initialized=!1})})})}addSlide(t){this._addedSlides.push(t)}removeSlide(t){this._removedSlides.push(t)}slickGoTo(t){this.zone.runOutsideAngular(()=>{this.$instance.slick("slickGoTo",t)})}slickNext(){this.zone.runOutsideAngular(()=>{this.$instance.slick("slickNext")})}slickPrev(){this.zone.runOutsideAngular(()=>{this.$instance.slick("slickPrev")})}slickPause(){this.zone.runOutsideAngular(()=>{this.$instance.slick("slickPause")})}slickPlay(){this.zone.runOutsideAngular(()=>{this.$instance.slick("slickPlay")})}unslick(){this.$instance&&(this.zone.runOutsideAngular(()=>{this.$instance.slick("unslick")}),this.$instance=void 0),this.initialized=!1}ngOnChanges(t){if(this.initialized){const i=t.config;if(i.previousValue!==i.currentValue&&void 0!==i.currentValue){const r=i.currentValue.refresh,s=Object.assign({},i.currentValue);delete s.refresh,this.zone.runOutsideAngular(()=>{this.$instance.slick("slickSetOption",s,r)})}}}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(l.Lbi))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngx-slick-carousel"]],inputs:{config:"config"},outputs:{afterChange:"afterChange",beforeChange:"beforeChange",breakpoint:"breakpoint",destroy:"destroy",init:"init"},exportAs:["slick-carousel"],features:[l._Bn([{provide:hl,useExisting:(0,l.Gpc)(()=>n),multi:!0}]),l.TTD],ngContentSelectors:oq,decls:1,vars:0,template:function(t,i){1&t&&(l.F$t(),l.Hsn(0))},encapsulation:2}),n})(),cU=(()=>{class n{constructor(t,i,r,s){this.el=t,this.renderer=i,this.platformId=r,this.carousel=s}ngOnInit(){this.carousel.addSlide(this),Sa(this.platformId)&&this.carousel.slides.length>0&&this.renderer.setStyle(this.el,"display","none")}ngOnDestroy(){this.carousel.removeSlide(this)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(l.Lbi),l.Y36(TN,1))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngxSlickItem",""]]}),n})(),aq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Io]}),n})(),DN=(()=>{class n{constructor(){this.OnCreate=new l.vpe}ngAfterViewInit(){this.OnCreate.emit("dummy")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","OnCreate",""]],outputs:{OnCreate:"OnCreate"}}),n})();function lq(n,e){if(1&n&&(l.TgZ(0,"li")(1,"a",19),l._UZ(2,"i",20),l._uU(3),l.qZA()()),2&n){const t=e.$implicit;l.xp6(1),l.MGl("routerLink","../subitem/",null==t?null:t.id,""),l.xp6(2),l.Oqu(t.productcat[1])}}function uq(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"li")(1,"a",16),l.NdJ("mouseover",function(){const s=l.CHM(t).$implicit,u=l.oxw();return l.KtG(u.getProductcat(s))}),l._UZ(2,"i",17),l.TgZ(3,"span"),l._uU(4),l.qZA()(),l.TgZ(5,"ul",18),l.ynx(6),l.YNc(7,lq,4,2,"li",5),l.BQk(),l.qZA()()}if(2&n){const t=e.$implicit,i=l.oxw();l.xp6(4),l.Oqu(t),l.xp6(3),l.Q6J("ngForOf",i.productcategory)}}function cq(n,e){if(1&n&&(l.TgZ(0,"div",21),l._UZ(1,"img",22),l.qZA()),2&n){const t=e.$implicit;l.xp6(1),l.s9C("src",t.img,l.LSH)}}function dq(n,e){if(1&n&&(l.TgZ(0,"div",23)(1,"div",24),l._UZ(2,"img",25),l.TgZ(3,"div",26)(4,"a",19)(5,"div"),l._uU(6),l.qZA()(),l.TgZ(7,"span",27),l._uU(8),l.qZA()()()()),2&n){const t=e.$implicit;l.xp6(2),l.s9C("src",t.selectedFile[0].imageurl,l.LSH),l.xp6(2),l.MGl("routerLink","../itemdetails/",null==t?null:t.id,""),l.xp6(2),l.Oqu(t.productname),l.xp6(2),l.hij("",t.saleprice," \u062c\u0646\u064a\u0629 ")}}function hq(n,e){if(1&n&&(l.TgZ(0,"div",28)(1,"div",29),l._UZ(2,"img",30),l.TgZ(3,"div",31)(4,"a",19)(5,"h5",32),l._uU(6),l.qZA()(),l.TgZ(7,"p",33),l._uU(8),l.qZA()()()()),2&n){const t=e.$implicit;l.xp6(2),l.s9C("src",t.selectedFile[0].imageurl,l.LSH),l.xp6(2),l.MGl("routerLink","../itemdetails/",null==t?null:t.id,""),l.xp6(2),l.Oqu(t.productname),l.xp6(2),l.hij("",t.saleprice," \u062c\u0646\u064a\u0629 ")}}function fq(n,e){if(1&n&&(l.TgZ(0,"div",23)(1,"div",24),l._UZ(2,"img",34),l.TgZ(3,"div",26)(4,"a",19)(5,"div"),l._uU(6),l.qZA()(),l.TgZ(7,"span",27),l._uU(8),l.qZA()()()()),2&n){const t=e.$implicit;l.xp6(2),l.s9C("src",t.selectedFile[0].imageurl,l.LSH),l.xp6(2),l.MGl("routerLink","../itemdetails/",null==t?null:t.id,""),l.xp6(2),l.Oqu(t.productname),l.xp6(2),l.hij("",t.saleprice," \u062c\u0646\u064a\u0629 ")}}function pq(n,e){if(1&n&&(l.TgZ(0,"div",23)(1,"div",24),l._UZ(2,"img",34),l.TgZ(3,"div",26)(4,"a",19)(5,"div"),l._uU(6),l.qZA()(),l.TgZ(7,"span",27),l._uU(8),l.qZA(),l.TgZ(9,"p",35),l._uU(10),l.qZA()()()()),2&n){const t=e.$implicit;l.xp6(2),l.s9C("src",t.selectedFile[0].imageurl,l.LSH),l.xp6(2),l.MGl("routerLink","../itemdetails/",null==t?null:t.id,""),l.xp6(2),l.Oqu(t.productname),l.xp6(2),l.hij("",t.saleprice," \u062c\u0646\u064a\u0629 "),l.xp6(2),l.hij("\u0627\u0644\u0643\u0645\u064a\u0629 \u0627\u0644\u0645\u062a\u0648\u0641\u0631\u0629 : ",t.mount,"")}}const MA=function(){return[]};let gq=(()=>{class n{constructor(t,i,r){this.productSer=t,this.config=i,this.FB=r,this.FilterProduct=[],this.FilterProduct2=[],this.productcategories=[],this.selecteditem={},this.images=[],this.slideConfig={slidesToShow:5,slidesToScroll:5,dots:!0,infinite:!1,rtl:!0,arrows:!0,autoplay:!0,prevArrow:"<button type='button' class='slick-prev pull-left'><i class='fa fa-angle-left' aria-hidden='true'></i></button>",nextArrow:"<button type='button' class='slick-next pull-right'><i class='fa fa-angle-right' aria-hidden='true'></i></button>",responsive:[{breakpoint:1024,settings:{slidesToShow:3,slidesToScroll:3,infinite:!0,dots:!0}},{breakpoint:600,settings:{slidesToShow:2,slidesToScroll:2,dots:!1}},{breakpoint:480,settings:{slidesToShow:2,slidesToScroll:2,dots:!1}}]},this.slideConfig2={slidesToShow:1,slidesToScroll:1,dots:!0,infinite:!1,rtl:!0,arrows:!1,autoplay:!0}}ngOnInit(){this.getallproduct(),this.images=[{img:"../../../assets/img/FashionDesktopAR.jpg"},{img:"../../../assets/img/DesktopAR.jpg"}]}getallproduct(){this.productSer.getAllProduct().snapshotChanges().pipe((0,mt.U)(t=>t.map(i=>({id:i.payload.doc.id,...i.payload.doc.data()})))).subscribe(t=>{this.Product=t,this.Product.forEach(i=>{-1===this.FilterProduct.indexOf(i.productcat[0])&&(this.FilterProduct.push(i.productcat[0]),console.log(this.FilterProduct))})})}getProductcat(t){return this.FilterProduct2=[],new Promise(i=>{console.log(t),this.productSer.getProductByCategoty(t).subscribe(r=>{i(r),console.log(r),this.productcategory=r,this.productcategories?.push(r),console.log(this.productcategories),this.productcategory.forEach(s=>{if(-1===this.FilterProduct2.indexOf(s.productcat[1]))return this.FilterProduct2.push({product:s.productcat[1]}),console.log(this.FilterProduct2),this.FilterProduct2})})})}onselect(t){this.selecteditem=t,console.log("Selected item Id: ",t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(fA),l.Y36(R_),l.Y36(zW))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-home"]],decls:44,vars:14,consts:[[1,"container"],[1,"row"],[1,"col-md-2"],[1,"sidebar"],[1,"sidebar-nav"],[4,"ngFor","ngForOf"],["id","content ",1,"col-md-10"],[1,"container-fluid"],[1,"carousel",3,"config"],["slickModal","slick-carousel"],["ngxSlickItem","","class","slide ",4,"ngFor","ngForOf"],[1,"col-md-12","col-xs-12"],[1,"Electeical",3,"OnCreate"],[1,"title"],["ngxSlickItem","","class","slide publicproduct",4,"ngFor","ngForOf"],["class","col-md-2 col-xs-6 mt-3",4,"ngFor","ngForOf"],[3,"mouseover"],[1,"ion-bag"],[1,"nav-flyout"],[3,"routerLink"],[1,"ion-ios-color-filter-outline"],["ngxSlickItem","",1,"slide"],["alt","","width","100%",3,"src"],["ngxSlickItem","",1,"slide","publicproduct"],[1,"publicproductdiv"],["alt","","width","100%",1,"tool-image",3,"src"],[1,"productcap"],[1,"price"],[1,"col-md-2","col-xs-6","mt-3"],[1,"card"],["alt","Card image cap",1,"card-img-top","tool-image",3,"src"],[1,"card-body"],[1,"card-title"],[1,"card-text","prices"],["alt","",1,"mobile-img",3,"src"],[1,"card-text","mount"]],template:function(t,i){1&t&&(l.TgZ(0,"div",0)(1,"div",1)(2,"section",2)(3,"aside",3)(4,"header"),l._uU(5," \u0627\u0644\u062a\u0635\u0646\u064a\u0641\u0627\u062a "),l.qZA(),l.TgZ(6,"nav",4)(7,"ul"),l.YNc(8,uq,8,2,"li",5),l.qZA()()()(),l.TgZ(9,"div",6)(10,"div",7)(11,"ngx-slick-carousel",8,9),l.YNc(13,cq,2,1,"div",10),l.qZA()()()(),l.TgZ(14,"div",1),l.ynx(15,11),l.TgZ(16,"div",12),l.NdJ("OnCreate",function(){return i.getProductcat("COMPUTER")}),l.TgZ(17,"div",13),l._uU(18," \u0627\u062c\u0647\u0632\u0629 \u0627\u0644\u0643\u062a\u0631\u0648\u0646\u064a\u0629 "),l.qZA(),l.TgZ(19,"ngx-slick-carousel",8,9),l.YNc(21,dq,9,4,"div",14),l.qZA()(),l.BQk(),l.qZA(),l.TgZ(22,"div",1),l.ynx(23),l.TgZ(24,"div",12),l.NdJ("OnCreate",function(){return i.getProductcat("\u0623\u062f\u0648\u0627\u062a \u0645\u0643\u062a\u0628\u064a\u0629")}),l.TgZ(25,"div",13),l._uU(26,"\u0623\u062f\u0648\u0627\u062a \u0645\u0643\u062a\u0628\u064a\u0629"),l.qZA(),l.YNc(27,hq,9,4,"div",15),l.qZA(),l.BQk(),l.qZA(),l.TgZ(28,"div",1),l.ynx(29,11),l.TgZ(30,"div",12),l.NdJ("OnCreate",function(){return i.getProductcat("MOBILE")}),l.TgZ(31,"div",13),l._uU(32," \u0645\u0648\u0628\u0627\u064a\u0644\u0627\u062a "),l.qZA(),l.TgZ(33,"ngx-slick-carousel",8,9),l.YNc(35,fq,9,4,"div",14),l.qZA()(),l.BQk(),l.qZA(),l.TgZ(36,"div",1),l.ynx(37,11),l.TgZ(38,"div",12),l.NdJ("OnCreate",function(){return i.getProductcat("TOOLS")}),l.TgZ(39,"div",13),l._uU(40," \u0627\u062f\u0648\u0627\u062a "),l.qZA(),l.TgZ(41,"ngx-slick-carousel",8,9),l.YNc(43,pq,11,5,"div",14),l.qZA()(),l.BQk(),l.qZA()()),2&t&&(l.xp6(8),l.Q6J("ngForOf",i.FilterProduct),l.xp6(3),l.Q6J("config",i.slideConfig2),l.xp6(2),l.Q6J("ngForOf",i.images),l.xp6(6),l.Q6J("config",i.slideConfig),l.xp6(2),l.Q6J("ngForOf",i.productcategories[0]?i.productcategories[0].slice(0,20):l.DdM(10,MA)),l.xp6(6),l.Q6J("ngForOf",i.productcategories[1]?i.productcategories[1].slice(0,6):l.DdM(11,MA)),l.xp6(6),l.Q6J("config",i.slideConfig),l.xp6(2),l.Q6J("ngForOf",i.productcategories[2]?i.productcategories[2].slice(0,20):l.DdM(12,MA)),l.xp6(6),l.Q6J("config",i.slideConfig),l.xp6(2),l.Q6J("ngForOf",i.productcategories[3]?i.productcategories[3].slice(0,20):l.DdM(13,MA)))},dependencies:[rn,Gd,TN,cU,DN],styles:['.mobile-img[_ngcontent-%COMP%], .tool-image[_ngcontent-%COMP%]{height:180px}.card-title[_ngcontent-%COMP%]{height:50px}a[_ngcontent-%COMP%]{text-decoration:none;transition:all .6s ease}a[_ngcontent-%COMP%]:hover{transition:all .6s ease}.app[_ngcontent-%COMP%]{height:100vh}.sidebar[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;overflow:hidden;background-color:#fff;transform:translateZ(0);visibility:visible;backface-visibility:hidden}.sidebar[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]{background-color:#f0ad4e!important;width:100%;display:block;padding:.75em 1em;font-family:Readex Pro,sans-serif;font-weight:700}.sidebar-nav[_ngcontent-%COMP%]{position:fixed;background-color:#fff;height:100%;font-weight:400;font-size:1.2em;overflow:auto;padding-bottom:6em;z-index:9;overflow:hidden;-webkit-overflow-scrolling:touch}.sidebar-nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;display:block;padding:0;margin:0}.sidebar-nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-left:0;padding-left:0;display:inline-block;width:100%}.sidebar-nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000;font-size:.75em;font-family:Readex Pro,sans-serif;padding:.7em 1em;position:relative;display:block;font-weight:700}.sidebar-nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#f0ad4e!important;transition:all .6s ease}.sidebar-nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.8em;padding-right:.5em;width:9em;display:inline;vertical-align:middle}.sidebar-nav[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:after{content:"\\f104";font-family:"Font Awesome 5 Free";font-size:1em;width:10px;color:#fff;position:absolute;left:.75em;top:45%}.sidebar-nav[_ngcontent-%COMP%]   .nav-flyout[_ngcontent-%COMP%]{position:absolute;background-color:#fbfbfb;z-index:9;right:0;top:0;height:100vh;transform:translate(100%);transition:all .5s ease}.sidebar-nav[_ngcontent-%COMP%]   .nav-flyout[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#ffffff0d}.sidebar-nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover   .nav-flyout[_ngcontent-%COMP%]{transform:translate(0);transition:all .5s ease}']}),n})();class mq{constructor(){this.mount=0,this.price=0}}class dU{}const xh="*";function yq(n,e){return{type:7,name:n,definitions:e,options:{}}}function pl(n,e=null){return{type:4,styles:e,timings:n}}function hU(n,e=null){return{type:2,steps:n,options:e}}function Ti(n){return{type:6,styles:n,offset:null}}function G0(n,e,t){return{type:0,name:n,styles:e,options:t}}function gl(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function fU(n){Promise.resolve().then(n)}class Zb{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){fU(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class pU{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const s=this.players.length;0==s?fU(()=>this._onFinish()):this.players.forEach(u=>{u.onDone(()=>{++t==s&&this._onFinish()}),u.onDestroy(()=>{++i==s&&this._onDestroy()}),u.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((u,h)=>Math.max(u,h.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}const vq=function(n){return{"ngx-gallery-active":n}};function wq(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",1),l.NdJ("click",function(r){const u=l.CHM(t).index,h=l.oxw();return l.KtG(h.handleChange(r,u))}),l.qZA()}if(2&n){const t=e.index,i=l.oxw();l.Q6J("ngClass",l.VKq(1,vq,t===i.active))}}const Cq=["previewImage"];function Eq(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"ngx-gallery-arrows",16),l.NdJ("prevClick",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.showPrev())})("nextClick",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.showNext())}),l.qZA()}if(2&n){const t=l.oxw();l.Q6J("prevDisabled",!t.canShowPrev())("nextDisabled",!t.canShowNext())("arrowPrevIcon",t.arrowPrevIcon)("arrowNextIcon",t.arrowNextIcon)}}function bq(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"ngx-gallery-action",17),l.NdJ("closeClick",function(r){const u=l.CHM(t).$implicit,h=l.oxw();return l.KtG(u.onClick(r,h.index))}),l.qZA()}if(2&n){const t=e.$implicit;l.Q6J("icon",t.icon)("disabled",t.disabled)("titleText",t.titleText)}}function Iq(n,e){if(1&n&&(l.TgZ(0,"a",18),l._UZ(1,"i"),l.qZA()),2&n){const t=l.oxw();l.Q6J("href",t.src,l.LSH),l.xp6(1),l.Gre("ngx-gallery-icon-content ",t.downloadIcon,"")}}function Tq(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"ngx-gallery-action",19),l.NdJ("closeClick",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.zoomOut())}),l.qZA()}if(2&n){const t=l.oxw();l.Q6J("icon",t.zoomOutIcon)("disabled",!t.canZoomOut())}}function Dq(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"ngx-gallery-action",19),l.NdJ("closeClick",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.zoomIn())}),l.qZA()}if(2&n){const t=l.oxw();l.Q6J("icon",t.zoomInIcon)("disabled",!t.canZoomIn())}}function Sq(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"ngx-gallery-action",7),l.NdJ("closeClick",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.rotateLeft())}),l.qZA()}if(2&n){const t=l.oxw();l.Q6J("icon",t.rotateLeftIcon)}}function Aq(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"ngx-gallery-action",7),l.NdJ("closeClick",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.rotateRight())}),l.qZA()}if(2&n){const t=l.oxw();l.Q6J("icon",t.rotateRightIcon)}}function xq(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"ngx-gallery-action",7),l.NdJ("closeClick",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.manageFullscreen())}),l.qZA()}if(2&n){const t=l.oxw();l.Q6J("icon","ngx-gallery-fullscreen "+t.fullscreenIcon)}}function Mq(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"img",20,21),l.NdJ("click",function(r){return r.stopPropagation()})("mouseenter",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.imageMouseEnter())})("mouseleave",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.imageMouseLeave())})("mousedown",function(r){l.CHM(t);const s=l.oxw();return l.KtG(s.mouseDownHandler(r))})("touchstart",function(r){l.CHM(t);const s=l.oxw();return l.KtG(s.mouseDownHandler(r))}),l.qZA()}if(2&n){const t=l.oxw();l.Udp("transform",t.getTransform())("left",t.positionLeft+"px")("top",t.positionTop+"px"),l.ekj("ngx-gallery-active",!t.loading)("animation",t.animation)("ngx-gallery-grab",t.canDragOnZoom()),l.Q6J("src",t.src,l.LSH)}}function Pq(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"video",22,21),l.NdJ("click",function(r){return r.stopPropagation()})("mouseenter",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.imageMouseEnter())})("mouseleave",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.imageMouseLeave())})("mousedown",function(r){l.CHM(t);const s=l.oxw();return l.KtG(s.mouseDownHandler(r))})("touchstart",function(r){l.CHM(t);const s=l.oxw();return l.KtG(s.mouseDownHandler(r))}),l._UZ(2,"source",23),l._uU(3," Your browser does not support the video tag. "),l.qZA()}if(2&n){const t=l.oxw();l.Udp("transform",t.getTransform())("left",t.positionLeft+"px")("top",t.positionTop+"px"),l.ekj("ngx-gallery-active",!t.loading)("animation",t.animation)("ngx-gallery-grab",t.canDragOnZoom()),l.xp6(2),l.Q6J("src",t.src,l.LSH)}}function Oq(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"ngx-gallery-bullets",24),l.NdJ("bulletChange",function(r){l.CHM(t);const s=l.oxw();return l.KtG(s.showAtIndex(r))}),l.qZA()}if(2&n){const t=l.oxw();l.Q6J("count",t.images.length)("active",t.index)}}function Nq(n,e){if(1&n&&(l.TgZ(0,"div",25),l.NdJ("click",function(i){return i.stopPropagation()}),l.qZA()),2&n){const t=l.oxw();l.Q6J("innerHTML",t.description,l.oJD)}}function kq(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"ngx-gallery-action",8),l.NdJ("closeClick",function(r){const u=l.CHM(t).$implicit,h=l.oxw(2).$implicit;return l.KtG(u.onClick(r,h.index))}),l.qZA()}if(2&n){const t=e.$implicit;l.Q6J("icon",t.icon)("disabled",t.disabled)("titleText",t.titleText)}}function Rq(n,e){if(1&n&&(l.TgZ(0,"div",9),l.NdJ("click",function(i){return i.stopPropagation()}),l.qZA()),2&n){const t=l.oxw(2).$implicit,i=l.oxw();l.Q6J("innerHTML",i.descriptions[t.index],l.oJD)}}const gU=function(n){return{"ngx-gallery-clickable":n}};function Fq(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",4),l.NdJ("click",function(r){l.CHM(t);const s=l.oxw().$implicit,u=l.oxw();return l.KtG(u.handleClick(r,s.index))})("@animation.start",function(r){l.CHM(t);const s=l.oxw(2);return l.KtG(s.onStart(r))})("@animation.done",function(r){l.CHM(t);const s=l.oxw(2);return l.KtG(s.onDone(r))}),l.TgZ(1,"div",5),l.YNc(2,kq,1,3,"ngx-gallery-action",6),l.qZA(),l.YNc(3,Rq,1,1,"div",7),l.qZA()}if(2&n){const t=l.oxw().$implicit,i=l.oxw();l.Udp("background-image",i.getSafeUrl(t.src)),l.Q6J("ngClass",l.VKq(6,gU,i.clickable))("@animation",i.action),l.xp6(2),l.Q6J("ngForOf",i.actions),l.xp6(1),l.Q6J("ngIf",i.showDescription&&i.descriptions[t.index])}}function Lq(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"ngx-gallery-action",8),l.NdJ("closeClick",function(r){const u=l.CHM(t).$implicit,h=l.oxw(2).$implicit;return l.KtG(u.onClick(r,h.index))}),l.qZA()}if(2&n){const t=e.$implicit;l.Q6J("icon",t.icon)("disabled",t.disabled)("titleText",t.titleText)}}function Vq(n,e){if(1&n&&(l.TgZ(0,"div",9),l.NdJ("click",function(i){return i.stopPropagation()}),l.qZA()),2&n){const t=l.oxw(2).$implicit,i=l.oxw();l.Q6J("innerHTML",i.descriptions[t.index],l.oJD)}}function Bq(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",4),l.NdJ("click",function(r){l.CHM(t);const s=l.oxw().$implicit,u=l.oxw();return l.KtG(u.handleClick(r,s.index))})("@animation.start",function(r){l.CHM(t);const s=l.oxw(2);return l.KtG(s.onStart(r))})("@animation.done",function(r){l.CHM(t);const s=l.oxw(2);return l.KtG(s.onDone(r))}),l.TgZ(1,"video",10),l._UZ(2,"source",11),l._uU(3," Your browser does not support the video tag. "),l.qZA(),l.TgZ(4,"div",5),l.YNc(5,Lq,1,3,"ngx-gallery-action",6),l.qZA(),l.YNc(6,Vq,1,1,"div",7),l.qZA()}if(2&n){const t=l.oxw().$implicit,i=l.oxw();l.Udp("background-image",i.getSafeUrl(t.src)),l.Q6J("ngClass",l.VKq(7,gU,i.clickable))("@animation",i.action),l.xp6(2),l.Q6J("src",t.src,l.LSH),l.xp6(3),l.Q6J("ngForOf",i.actions),l.xp6(1),l.Q6J("ngIf",i.showDescription&&i.descriptions[t.index])}}function Uq(n,e){if(1&n&&(l.ynx(0),l.YNc(1,Fq,4,8,"div",3),l.YNc(2,Bq,7,9,"div",3),l.BQk()),2&n){const t=e.$implicit,i=l.oxw();l.xp6(1),l.Q6J("ngIf","image"===t.type&&t.index===i._selectedIndex),l.xp6(1),l.Q6J("ngIf","video"===t.type&&t.index===i._selectedIndex)}}function zq(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"ngx-gallery-bullets",12),l.NdJ("bulletChange",function(r){l.CHM(t);const s=l.oxw();return l.KtG(s.show(r))}),l.qZA()}if(2&n){const t=l.oxw();l.Q6J("count",t.images.length)("active",t._selectedIndex)}}function Hq(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"ngx-gallery-arrows",13),l.NdJ("prevClick",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.showPrev())})("nextClick",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.showNext())}),l.qZA()}if(2&n){const t=l.oxw();l.Gre("ngx-gallery-image-size-",t.size,""),l.Q6J("prevDisabled",!t.canShowPrev())("nextDisabled",!t.canShowNext())("arrowPrevIcon",t.arrowPrevIcon)("arrowNextIcon",t.arrowNextIcon)}}const AN=function(n,e){return{"ngx-gallery-active":n,"ngx-gallery-clickable":e}};function jq(n,e){if(1&n&&l._UZ(0,"div",9),2&n){const t=l.oxw(),i=t.$implicit,r=t.index,s=l.oxw();l.Udp("background-image",s.getSafeUrl(i)),l.Q6J("ngClass",l.WLB(3,AN,r===s.selectedIndex,s.clickable))}}function $q(n,e){if(1&n&&(l.TgZ(0,"div",10)(1,"video",11),l._UZ(2,"source",12),l._uU(3," Your browser does not support the video tag. "),l.qZA()()),2&n){const t=l.oxw(),i=t.index,r=t.$implicit,s=l.oxw();l.xp6(1),l.Q6J("ngClass",l.WLB(2,AN,i===s.selectedIndex,s.clickable)),l.xp6(1),l.Q6J("src",r,l.LSH)}}function Gq(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"ngx-gallery-action",13),l.NdJ("closeClick",function(r){const u=l.CHM(t).$implicit,h=l.oxw().index;return l.KtG(u.onClick(r,h))}),l.qZA()}if(2&n){const t=e.$implicit;l.Q6J("icon",t.icon)("disabled",t.disabled)("titleText",t.titleText)}}function Wq(n,e){if(1&n&&(l.TgZ(0,"div",14)(1,"span",15),l._uU(2),l.qZA()()),2&n){const t=l.oxw(2);l.xp6(2),l.hij("+",t.remainingCountValue,"")}}function qq(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"a",3),l.NdJ("click",function(r){const u=l.CHM(t).index,h=l.oxw();return l.KtG(h.handleClick(r,u))}),l.YNc(1,jq,1,6,"div",4),l.YNc(2,$q,4,5,"div",5),l.TgZ(3,"div",6),l.YNc(4,Gq,1,3,"ngx-gallery-action",7),l.qZA(),l.YNc(5,Wq,3,1,"div",8),l.qZA()}if(2&n){const t=e.$implicit,i=e.index,r=l.oxw();l.Udp("width",r.getThumbnailWidth())("height",r.getThumbnailHeight())("left",r.getThumbnailLeft(i))("top",r.getThumbnailTop(i)),l.Q6J("href",r.hasLink(i)?r.links[i]:"#",l.LSH)("target",r.linkTarget)("ngClass",l.WLB(16,AN,i===r.selectedIndex,r.clickable)),l.uIk("aria-label",r.labels[i]),l.xp6(1),l.Q6J("ngIf","image"===r.getFileType(t)),l.xp6(1),l.Q6J("ngIf","video"===r.getFileType(t)),l.xp6(2),l.Q6J("ngForOf",r.actions),l.xp6(1),l.Q6J("ngIf",r.remainingCount&&r.remainingCountValue&&i===r.rows*r.columns-1)}}function Zq(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"ngx-gallery-arrows",16),l.NdJ("prevClick",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.moveLeft())})("nextClick",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.moveRight())}),l.qZA()}if(2&n){const t=l.oxw();l.Q6J("prevDisabled",!t.canMoveLeft())("nextDisabled",!t.canMoveRight())("arrowPrevIcon",t.arrowPrevIcon)("arrowNextIcon",t.arrowNextIcon)}}function Kq(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"ngx-gallery-image",3),l.NdJ("imageClick",function(r){l.CHM(t);const s=l.oxw();return l.KtG(s.openPreview(r))})("activeChange",function(r){l.CHM(t);const s=l.oxw();return l.KtG(s.selectFromImage(r))})("animating",function(r){l.CHM(t);const s=l.oxw();return l.KtG(s.setAnimating(r))}),l.qZA()}if(2&n){const t=l.oxw();l.Udp("height",t.getImageHeight()),l.Q6J("images",t.mediumImages)("clickable",null==t.currentOptions?null:t.currentOptions.preview)("selectedIndex",t.selectedIndex)("arrows",null==t.currentOptions?null:t.currentOptions.imageArrows)("arrowsAutoHide",null==t.currentOptions?null:t.currentOptions.imageArrowsAutoHide)("arrowPrevIcon",null==t.currentOptions?null:t.currentOptions.arrowPrevIcon)("arrowNextIcon",null==t.currentOptions?null:t.currentOptions.arrowNextIcon)("swipe",null==t.currentOptions?null:t.currentOptions.imageSwipe)("animation",null==t.currentOptions?null:t.currentOptions.imageAnimation)("size",null==t.currentOptions?null:t.currentOptions.imageSize)("autoPlay",null==t.currentOptions?null:t.currentOptions.imageAutoPlay)("autoPlayInterval",null==t.currentOptions?null:t.currentOptions.imageAutoPlayInterval)("autoPlayPauseOnHover",null==t.currentOptions?null:t.currentOptions.imageAutoPlayPauseOnHover)("infinityMove",null==t.currentOptions?null:t.currentOptions.imageInfinityMove)("lazyLoading",null==t.currentOptions?null:t.currentOptions.lazyLoading)("actions",null==t.currentOptions?null:t.currentOptions.imageActions)("descriptions",t.descriptions)("showDescription",null==t.currentOptions?null:t.currentOptions.imageDescription)("bullets",null==t.currentOptions?null:t.currentOptions.imageBullets)}}const Yq=function(){return[]};function Qq(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"ngx-gallery-thumbnails",4),l.NdJ("activeChange",function(r){l.CHM(t);const s=l.oxw();return l.KtG(s.selectFromThumbnails(r))}),l.qZA()}if(2&n){const t=l.oxw();l.Udp("margin-top",t.getThumbnailsMarginTop())("margin-bottom",t.getThumbnailsMarginBottom())("height",t.getThumbnailsHeight()),l.Q6J("images",t.smallImages)("isAnimating",t.isAnimating)("links",null!=t.currentOptions&&t.currentOptions.thumbnailsAsLinks?t.links:l.DdM(28,Yq))("labels",t.labels)("linkTarget",null==t.currentOptions?null:t.currentOptions.linkTarget)("selectedIndex",t.selectedIndex)("columns",null==t.currentOptions?null:t.currentOptions.thumbnailsColumns)("rows",null==t.currentOptions?null:t.currentOptions.thumbnailsRows)("margin",null==t.currentOptions?null:t.currentOptions.thumbnailMargin)("arrows",null==t.currentOptions?null:t.currentOptions.thumbnailsArrows)("arrowsAutoHide",null==t.currentOptions?null:t.currentOptions.thumbnailsArrowsAutoHide)("arrowPrevIcon",null==t.currentOptions?null:t.currentOptions.arrowPrevIcon)("arrowNextIcon",null==t.currentOptions?null:t.currentOptions.arrowNextIcon)("clickable",(null==t.currentOptions?null:t.currentOptions.image)||(null==t.currentOptions?null:t.currentOptions.preview))("swipe",null==t.currentOptions?null:t.currentOptions.thumbnailsSwipe)("size",null==t.currentOptions?null:t.currentOptions.thumbnailSize)("moveSize",null==t.currentOptions?null:t.currentOptions.thumbnailsMoveSize)("order",null==t.currentOptions?null:t.currentOptions.thumbnailsOrder)("remainingCount",null==t.currentOptions?null:t.currentOptions.thumbnailsRemainingCount)("lazyLoading",null==t.currentOptions?null:t.currentOptions.lazyLoading)("actions",null==t.currentOptions?null:t.currentOptions.thumbnailActions)("ngClass",null==t.currentOptions?null:t.currentOptions.thumbnailClasses)}}let Kb=(()=>{class n{constructor(t){this.renderer=t,this.swipeHandlers=new Map}manageSwipe(t,i,r,s,u){const h=this.getSwipeHandlers(r);try{t&&!h?this.swipeHandlers.set(r,[this.renderer.listen(i.nativeElement,"swipeleft",()=>s()),this.renderer.listen(i.nativeElement,"swiperight",()=>u())]):!t&&h&&(h.map(g=>g()),this.removeSwipeHandlers(r))}catch{}}validateUrl(t){return t.replace?t.replace(new RegExp(" ","g"),"%20").replace(new RegExp("'","g"),"%27"):t}getBackgroundUrl(t){return"url('"+this.validateUrl(t)+"')"}getFileType(t){const i=t.split(".").pop().toLowerCase();return"avi"===i||"flv"===i||"wmv"===i||"mov"===i||"mp4"===i?"video":"image"}getSwipeHandlers(t){return this.swipeHandlers.get(t)}removeSwipeHandlers(t){this.swipeHandlers.delete(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.Qsj))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xN=(()=>{class n{constructor(){this.prevClick=new l.vpe,this.nextClick=new l.vpe}handlePrevClick(){this.prevClick.emit()}handleNextClick(){this.nextClick.emit()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngx-gallery-arrows"]],inputs:{prevDisabled:"prevDisabled",nextDisabled:"nextDisabled",arrowPrevIcon:"arrowPrevIcon",arrowNextIcon:"arrowNextIcon"},outputs:{prevClick:"prevClick",nextClick:"nextClick"},decls:6,vars:10,consts:[[1,"ngx-gallery-arrows-wrapper","ngx-gallery-arrow-left"],["aria-hidden","true",1,"ngx-gallery-icon","ngx-gallery-arrow",3,"click"],[1,"ngx-gallery-arrows-wrapper","ngx-gallery-arrow-right"]],template:function(t,i){1&t&&(l.TgZ(0,"div",0)(1,"div",1),l.NdJ("click",function(){return i.handlePrevClick()}),l._UZ(2,"i"),l.qZA()(),l.TgZ(3,"div",2)(4,"div",1),l.NdJ("click",function(){return i.handleNextClick()}),l._UZ(5,"i"),l.qZA()()),2&t&&(l.xp6(1),l.ekj("ngx-gallery-disabled",i.prevDisabled),l.xp6(1),l.Gre("ngx-gallery-icon-content ",i.arrowPrevIcon,""),l.xp6(2),l.ekj("ngx-gallery-disabled",i.nextDisabled),l.xp6(1),l.Gre("ngx-gallery-icon-content ",i.arrowNextIcon,""))},styles:[".ngx-gallery-arrow-wrapper[_ngcontent-%COMP%]{position:absolute;height:100%;width:1px;display:table;table-layout:fixed}.ngx-gallery-preview-img-wrapper[_ngcontent-%COMP%]   .ngx-gallery-arrow-wrapper[_ngcontent-%COMP%]{z-index:10001}.ngx-gallery-arrow-left[_ngcontent-%COMP%]{left:0}.ngx-gallery-arrow-right[_ngcontent-%COMP%]{right:0}.ngx-gallery-arrow[_ngcontent-%COMP%]{top:50%;transform:translateY(-50%);cursor:pointer}.ngx-gallery-arrow.ngx-gallery-disabled[_ngcontent-%COMP%]{opacity:.6;cursor:default}.ngx-gallery-arrow-left[_ngcontent-%COMP%]   .ngx-gallery-arrow[_ngcontent-%COMP%]{left:10px}.ngx-gallery-arrow-right[_ngcontent-%COMP%]   .ngx-gallery-arrow[_ngcontent-%COMP%]{right:10px}"],changeDetection:0}),n})(),MN=(()=>{class n{constructor(){this.disabled=!1,this.titleText="",this.closeClick=new l.vpe}handleClick(t){this.disabled||this.closeClick.emit(t),t.stopPropagation(),t.preventDefault()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngx-gallery-action"]],inputs:{icon:"icon",disabled:"disabled",titleText:"titleText"},outputs:{closeClick:"closeClick"},decls:2,vars:6,consts:[["aria-hidden","true",1,"ngx-gallery-icon",3,"title","click"]],template:function(t,i){1&t&&(l.TgZ(0,"div",0),l.NdJ("click",function(s){return i.handleClick(s)}),l._UZ(1,"i"),l.qZA()),2&t&&(l.ekj("ngx-gallery-icon-disabled",i.disabled),l.s9C("title",i.titleText),l.xp6(1),l.Gre("ngx-gallery-icon-content ",i.icon,""))},styles:[".ngx-gallery-icon[_ngcontent-%COMP%]{color:#fff;font-size:25px;position:absolute;z-index:2000;display:inline-block}.ngx-gallery-icon[_ngcontent-%COMP%]{position:relative;margin-right:10px;margin-top:10px;font-size:25px;cursor:pointer;text-decoration:none}.ngx-gallery-icon[_ngcontent-%COMP%]   .ngx-gallery-icon-content[_ngcontent-%COMP%]{display:block}"],changeDetection:0}),n})(),mU=(()=>{class n{constructor(){this.active=0,this.bulletChange=new l.vpe}getBullets(){return Array(this.count)}handleChange(t,i){this.bulletChange.emit(i)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngx-gallery-bullets"]],inputs:{count:"count",active:"active"},outputs:{bulletChange:"bulletChange"},decls:1,vars:1,consts:[["class","ngx-gallery-bullet",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"ngx-gallery-bullet",3,"ngClass","click"]],template:function(t,i){1&t&&l.YNc(0,wq,1,3,"div",0),2&t&&l.Q6J("ngForOf",i.getBullets())},dependencies:[un,rn],styles:["[_nghost-%COMP%]{position:absolute;z-index:2000;display:inline-flex;left:50%;transform:translate(-50%);bottom:0;padding:10px}.ngx-gallery-bullet[_ngcontent-%COMP%]{width:10px;height:10px;border-radius:50%;cursor:pointer;background:white}.ngx-gallery-bullet[_ngcontent-%COMP%]:not(:first-child){margin-left:5px}.ngx-gallery-bullet[_ngcontent-%COMP%]:hover, .ngx-gallery-bullet.ngx-gallery-active[_ngcontent-%COMP%]{background:black}"],changeDetection:0}),n})(),_U=(()=>{class n{constructor(t,i,r,s,u){this.sanitization=t,this.elementRef=i,this.helperService=r,this.renderer=s,this.changeDetectorRef=u,this.showSpinner=!1,this.positionLeft=0,this.positionTop=0,this.zoomValue=1,this.loading=!1,this.rotateValue=0,this.index=0,this.previewOpen=new l.vpe,this.previewClose=new l.vpe,this.activeChange=new l.vpe,this.isOpen=!1,this.initialX=0,this.initialY=0,this.initialLeft=0,this.initialTop=0,this.isMove=!1}ngOnInit(){this.arrows&&this.arrowsAutoHide&&(this.arrows=!1)}ngOnChanges(t){t.swipe&&this.helperService.manageSwipe(this.swipe,this.elementRef,"preview",()=>this.showNext(),()=>this.showPrev())}ngOnDestroy(){this.keyDownListener&&this.keyDownListener()}onMouseEnter(){this.arrowsAutoHide&&!this.arrows&&(this.arrows=!0)}onMouseLeave(){this.arrowsAutoHide&&this.arrows&&(this.arrows=!1)}onKeyDown(t){this.isOpen&&(this.keyboardNavigation&&(this.isKeyboardPrev(t)?this.showPrev():this.isKeyboardNext(t)&&this.showNext()),this.closeOnEsc&&this.isKeyboardEsc(t)&&this.close())}open(t){this.previewOpen.emit(),this.index=t,this.isOpen=!0,this.show(!0),this.forceFullscreen&&this.manageFullscreen(),this.keyDownListener=this.renderer.listen("window","keydown",i=>this.onKeyDown(i))}close(){this.isOpen=!1;const t=this.previewImage.nativeElement;t.currentTime>0&&!t.paused&&!t.ended&&t.readyState>2&&t.pause(),this.closeFullscreen(),this.previewClose.emit(),this.stopAutoPlay(),this.keyDownListener&&this.keyDownListener()}imageMouseEnter(){this.autoPlay&&this.autoPlayPauseOnHover&&this.stopAutoPlay()}imageMouseLeave(){this.autoPlay&&this.autoPlayPauseOnHover&&this.startAutoPlay()}startAutoPlay(){this.autoPlay&&(this.stopAutoPlay(),this.timer=setTimeout(()=>{this.showNext()||(this.index=-1,this.showNext())},this.autoPlayInterval))}stopAutoPlay(){this.timer&&clearTimeout(this.timer)}showAtIndex(t){this.index=t,this.show()}showNext(){return!!this.canShowNext()&&(this.index++,this.index===this.images.length&&(this.index=0),this.show(),!0)}showPrev(){this.canShowPrev()&&(this.index--,this.index<0&&(this.index=this.images.length-1),this.show())}canShowNext(){return!this.loading&&!!this.images&&(this.infinityMove||this.index<this.images.length-1)}canShowPrev(){return!this.loading&&!!this.images&&(this.infinityMove||this.index>0)}manageFullscreen(){if(this.fullscreen||this.forceFullscreen){const t=document;t.fullscreenElement||t.mozFullScreenElement||t.webkitFullscreenElement||t.msFullscreenElement?this.closeFullscreen():this.openFullscreen()}}getSafeUrl(t){return this.sanitization.bypassSecurityTrustUrl(t)}getFileType(t){return this.helperService.getFileType(t)}zoomIn(){this.canZoomIn()&&(this.zoomValue+=this.zoomStep,this.zoomValue>this.zoomMax&&(this.zoomValue=this.zoomMax))}zoomOut(){this.canZoomOut()&&(this.zoomValue-=this.zoomStep,this.zoomValue<this.zoomMin&&(this.zoomValue=this.zoomMin),this.zoomValue<=1&&this.resetPosition())}rotateLeft(){this.rotateValue-=90}rotateRight(){this.rotateValue+=90}getTransform(){return this.sanitization.bypassSecurityTrustStyle("scale("+this.zoomValue+") rotate("+this.rotateValue+"deg)")}canZoomIn(){return this.zoomValue<this.zoomMax}canZoomOut(){return this.zoomValue>this.zoomMin}canDragOnZoom(){return this.zoom&&this.zoomValue>1}mouseDownHandler(t){this.canDragOnZoom()&&(this.initialX=this.getClientX(t),this.initialY=this.getClientY(t),this.initialLeft=this.positionLeft,this.initialTop=this.positionTop,this.isMove=!0,t.preventDefault())}mouseUpHandler(t){this.isMove=!1}mouseMoveHandler(t){this.isMove&&(this.positionLeft=this.initialLeft+(this.getClientX(t)-this.initialX),this.positionTop=this.initialTop+(this.getClientY(t)-this.initialY))}getClientX(t){return t.touches&&t.touches.length?t.touches[0].clientX:t.clientX}getClientY(t){return t.touches&&t.touches.length?t.touches[0].clientY:t.clientY}resetPosition(){this.zoom&&(this.positionLeft=0,this.positionTop=0)}isKeyboardNext(t){return 39===t.keyCode}isKeyboardPrev(t){return 37===t.keyCode}isKeyboardEsc(t){return 27===t.keyCode}openFullscreen(){const t=document.documentElement;t.requestFullscreen?t.requestFullscreen():t.msRequestFullscreen?t.msRequestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen&&t.webkitRequestFullscreen()}closeFullscreen(){if(this.isFullscreen()){const t=document;t.exitFullscreen?t.exitFullscreen():t.msExitFullscreen?t.msExitFullscreen():t.mozCancelFullScreen?t.mozCancelFullScreen():t.webkitExitFullscreen&&t.webkitExitFullscreen()}}isFullscreen(){const t=document;return t.fullscreenElement||t.webkitFullscreenElement||t.mozFullScreenElement||t.msFullscreenElement}show(t=!1){this.loading=!0,this.stopAutoPlay(),this.activeChange.emit(this.index),t||!this.animation?this._show():setTimeout(()=>this._show(),600)}_show(){this.zoomValue=1,this.rotateValue=0,this.resetPosition(),this.src=this.getSafeUrl(this.images[this.index]),this.type=this.getFileType(this.images[this.index]),this.srcIndex=this.index,this.description=this.descriptions[this.index],this.changeDetectorRef.markForCheck(),setTimeout(()=>{this.isLoaded(this.previewImage.nativeElement)||"video"===this.type?(this.loading=!1,this.startAutoPlay(),this.changeDetectorRef.markForCheck()):"video"===this.type||(setTimeout(()=>{this.loading&&(this.showSpinner=!0,this.changeDetectorRef.markForCheck())}),this.previewImage.nativeElement.onload=()=>{this.loading=!1,this.showSpinner=!1,this.previewImage.nativeElement.onload=null,this.startAutoPlay(),this.changeDetectorRef.markForCheck()})})}isLoaded(t){return!(!t.complete||typeof t.naturalWidth<"u"&&0===t.naturalWidth)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Do),l.Y36(l.SBq),l.Y36(Kb),l.Y36(l.Qsj),l.Y36(l.sBO))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngx-gallery-preview"]],viewQuery:function(t,i){if(1&t&&l.Gf(Cq,5),2&t){let r;l.iGM(r=l.CRH())&&(i.previewImage=r.first)}},hostBindings:function(t,i){1&t&&l.NdJ("mouseenter",function(){return i.onMouseEnter()})("mouseleave",function(){return i.onMouseLeave()})},inputs:{images:"images",descriptions:"descriptions",showDescription:"showDescription",arrows:"arrows",arrowsAutoHide:"arrowsAutoHide",swipe:"swipe",fullscreen:"fullscreen",forceFullscreen:"forceFullscreen",closeOnClick:"closeOnClick",closeOnEsc:"closeOnEsc",keyboardNavigation:"keyboardNavigation",arrowPrevIcon:"arrowPrevIcon",arrowNextIcon:"arrowNextIcon",closeIcon:"closeIcon",fullscreenIcon:"fullscreenIcon",spinnerIcon:"spinnerIcon",autoPlay:"autoPlay",autoPlayInterval:"autoPlayInterval",autoPlayPauseOnHover:"autoPlayPauseOnHover",infinityMove:"infinityMove",zoom:"zoom",zoomStep:"zoomStep",zoomMax:"zoomMax",zoomMin:"zoomMin",zoomInIcon:"zoomInIcon",zoomOutIcon:"zoomOutIcon",animation:"animation",actions:"actions",rotate:"rotate",rotateLeftIcon:"rotateLeftIcon",rotateRightIcon:"rotateRightIcon",download:"download",downloadIcon:"downloadIcon",bullets:"bullets"},outputs:{previewOpen:"previewOpen",previewClose:"previewClose",activeChange:"activeChange"},features:[l.TTD],decls:19,vars:18,consts:[[3,"prevDisabled","nextDisabled","arrowPrevIcon","arrowNextIcon","prevClick","nextClick",4,"ngIf"],[1,"ngx-gallery-preview-top"],[1,"ngx-gallery-preview-icons"],[3,"icon","disabled","titleText","closeClick",4,"ngFor","ngForOf"],["class","ngx-gallery-icon","aria-hidden","true","download","",3,"href",4,"ngIf"],[3,"icon","disabled","closeClick",4,"ngIf"],[3,"icon","closeClick",4,"ngIf"],[3,"icon","closeClick"],[1,"ngx-spinner-wrapper","ngx-gallery-center"],["aria-hidden","true"],[1,"ngx-gallery-preview-wrapper",3,"click","mouseup","mousemove","touchend","touchmove"],[1,"ngx-gallery-preview-img-wrapper"],["class","ngx-gallery-preview-img ngx-gallery-center",3,"src","ngx-gallery-active","animation","ngx-gallery-grab","transform","left","top","click","mouseenter","mouseleave","mousedown","touchstart",4,"ngIf"],["controls","","style","width: 100%; height: 100%;","class","ngx-gallery-preview-img ngx-gallery-center",3,"ngx-gallery-active","animation","ngx-gallery-grab","transform","left","top","click","mouseenter","mouseleave","mousedown","touchstart",4,"ngIf"],[3,"count","active","bulletChange",4,"ngIf"],["class","ngx-gallery-preview-text",3,"innerHTML","click",4,"ngIf"],[3,"prevDisabled","nextDisabled","arrowPrevIcon","arrowNextIcon","prevClick","nextClick"],[3,"icon","disabled","titleText","closeClick"],["aria-hidden","true","download","",1,"ngx-gallery-icon",3,"href"],[3,"icon","disabled","closeClick"],[1,"ngx-gallery-preview-img","ngx-gallery-center",3,"src","click","mouseenter","mouseleave","mousedown","touchstart"],["previewImage",""],["controls","",1,"ngx-gallery-preview-img","ngx-gallery-center",2,"width","100%","height","100%",3,"click","mouseenter","mouseleave","mousedown","touchstart"],[3,"src"],[3,"count","active","bulletChange"],[1,"ngx-gallery-preview-text",3,"innerHTML","click"]],template:function(t,i){1&t&&(l.YNc(0,Eq,1,4,"ngx-gallery-arrows",0),l.TgZ(1,"div",1)(2,"div",2),l.YNc(3,bq,1,3,"ngx-gallery-action",3),l.YNc(4,Iq,2,4,"a",4),l.YNc(5,Tq,1,2,"ngx-gallery-action",5),l.YNc(6,Dq,1,2,"ngx-gallery-action",5),l.YNc(7,Sq,1,1,"ngx-gallery-action",6),l.YNc(8,Aq,1,1,"ngx-gallery-action",6),l.YNc(9,xq,1,1,"ngx-gallery-action",6),l.TgZ(10,"ngx-gallery-action",7),l.NdJ("closeClick",function(){return i.close()}),l.qZA()()(),l.TgZ(11,"div",8),l._UZ(12,"i",9),l.qZA(),l.TgZ(13,"div",10),l.NdJ("click",function(){return i.closeOnClick&&i.close()})("mouseup",function(s){return i.mouseUpHandler(s)})("mousemove",function(s){return i.mouseMoveHandler(s)})("touchend",function(s){return i.mouseUpHandler(s)})("touchmove",function(s){return i.mouseMoveHandler(s)}),l.TgZ(14,"div",11),l.YNc(15,Mq,2,13,"img",12),l.YNc(16,Pq,4,13,"video",13),l.YNc(17,Oq,1,2,"ngx-gallery-bullets",14),l.qZA(),l.YNc(18,Nq,1,1,"div",15),l.qZA()),2&t&&(l.Q6J("ngIf",i.arrows),l.xp6(3),l.Q6J("ngForOf",i.actions),l.xp6(1),l.Q6J("ngIf",i.download&&i.src),l.xp6(1),l.Q6J("ngIf",i.zoom),l.xp6(1),l.Q6J("ngIf",i.zoom),l.xp6(1),l.Q6J("ngIf",i.rotate),l.xp6(1),l.Q6J("ngIf",i.rotate),l.xp6(1),l.Q6J("ngIf",i.fullscreen),l.xp6(1),l.Q6J("icon","ngx-gallery-close "+i.closeIcon),l.xp6(1),l.ekj("ngx-gallery-active",i.showSpinner),l.xp6(1),l.Gre("ngx-gallery-icon ngx-gallery-spinner ",i.spinnerIcon,""),l.xp6(3),l.Q6J("ngIf",i.src&&"image"===i.type),l.xp6(1),l.Q6J("ngIf",i.src&&"video"===i.type),l.xp6(1),l.Q6J("ngIf",i.bullets),l.xp6(1),l.Q6J("ngIf",i.showDescription&&i.description))},dependencies:[rn,jn,xN,MN,mU],styles:[".ngx-gallery-active[_nghost-%COMP%]{width:100%;height:100%;position:fixed;left:0;top:0;background:rgba(0,0,0,.7);z-index:10000;display:inline-block;font-size:50px!important}[_nghost-%COMP%]{display:none;font-size:50px!important}[_nghost-%COMP%]   .ngx-gallery-arrow[_ngcontent-%COMP%]{font-size:50px!important}ngx-gallery-bullets[_ngcontent-%COMP%]{height:5%;align-items:center;padding:0}.ngx-gallery-preview-img[_ngcontent-%COMP%]{opacity:0;max-width:90%;max-height:90%;-webkit-user-select:none;user-select:none;transition:transform .5s}.ngx-gallery-preview-img.animation[_ngcontent-%COMP%]{transition:opacity .5s linear,transform .5s}.ngx-gallery-preview-img.ngx-gallery-active[_ngcontent-%COMP%]{opacity:1}.ngx-gallery-preview-img.ngx-gallery-grab[_ngcontent-%COMP%]{cursor:grab}.ngx-gallery-icon.ngx-gallery-spinner[_ngcontent-%COMP%]{font-size:50px;left:0;display:inline-block}[_nghost-%COMP%]   .ngx-gallery-preview-top[_ngcontent-%COMP%]{position:absolute;width:100%;-webkit-user-select:none;user-select:none;font-size:25px}.ngx-gallery-preview-icons[_ngcontent-%COMP%]{float:right}.ngx-gallery-preview-icons[_ngcontent-%COMP%]   .ngx-gallery-icon[_ngcontent-%COMP%]{position:relative;margin-right:10px;margin-top:10px;font-size:25px;cursor:pointer;text-decoration:none}.ngx-gallery-preview-icons[_ngcontent-%COMP%]   .ngx-gallery-icon.ngx-gallery-icon-disabled[_ngcontent-%COMP%]{cursor:default;opacity:.4}.ngx-spinner-wrapper[_ngcontent-%COMP%]{width:50px;height:50px;display:none}.ngx-spinner-wrapper.ngx-gallery-active[_ngcontent-%COMP%]{display:inline-block}.ngx-gallery-center[_ngcontent-%COMP%]{position:absolute;inset:0;margin:auto}.ngx-gallery-preview-text[_ngcontent-%COMP%]{width:100%;background:rgba(0,0,0,.7);padding:10px;text-align:center;color:#fff;font-size:16px;flex:0 1 auto;z-index:10}.ngx-gallery-preview-wrapper[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-flow:column}.ngx-gallery-preview-img-wrapper[_ngcontent-%COMP%]{flex:1 1 auto;position:relative}"],changeDetection:0}),n})(),li=(()=>{class n{}return n.Fade="fade",n.Slide="slide",n.Rotate="rotate",n.Zoom="zoom",n})(),yU=(()=>{class n{constructor(t,i,r,s){this.sanitization=t,this.changeDetectorRef=i,this.elementRef=r,this.helperService=s,this.imageClick=new l.vpe,this.activeChange=new l.vpe,this.animating=new l.vpe,this.canChangeImage=!0,this.isAnimating=!1,this.changeDetectorRef=i,this.action="none"}set selectedIndex(t){if(t>this._selectedIndex){let i;this.animation===li.Slide?i="slideRight":this.animation===li.Fade?i="fade":this.animation===li.Rotate?i="rotateRight":this.animation===li.Zoom&&(i="zoom"),this.setAction(i)}else if(t<this._selectedIndex){let i;this.animation===li.Slide?i="slideLeft":this.animation===li.Fade?i="fade":this.animation===li.Rotate?i="rotateLeft":this.animation===li.Zoom&&(i="zoom"),this.setAction(i)}this._selectedIndex=t}ngOnInit(){this.arrows&&this.arrowsAutoHide&&(this.arrows=!1),this.autoPlay&&this.startAutoPlay()}ngOnChanges(t){t.swipe&&this.helperService.manageSwipe(this.swipe,this.elementRef,"image",()=>this.showNext(),()=>this.showPrev())}onMouseEnter(){this.arrowsAutoHide&&!this.arrows&&(this.arrows=!0),this.autoPlay&&this.autoPlayPauseOnHover&&this.stopAutoPlay()}onMouseLeave(){this.arrowsAutoHide&&this.arrows&&(this.arrows=!1),this.autoPlay&&this.autoPlayPauseOnHover&&this.startAutoPlay()}reset(t){this._selectedIndex=t,this.action="none"}getImages(){if(!this.images)return[];if(this.lazyLoading){const t=[this._selectedIndex],i=this._selectedIndex-1;-1===i&&this.infinityMove?t.push(this.images.length-1):i>=0&&t.push(i);const r=this._selectedIndex+1;return r===this.images.length&&this.infinityMove?t.push(0):r<this.images.length&&t.push(r),this.images.filter((s,u)=>-1!==t.indexOf(u))}return this.images}startAutoPlay(){this.stopAutoPlay(),this.timer=setInterval(()=>{this.showNext()||(this._selectedIndex=-1,this.showNext())},this.autoPlayInterval)}stopAutoPlay(){this.timer&&clearInterval(this.timer)}handleClick(t,i){this.clickable&&(this.imageClick.emit(i),t.stopPropagation(),t.preventDefault())}show(t){if(!this.isAnimating){if(t>this._selectedIndex){let i;this.animation===li.Slide?i="slideRight":this.animation===li.Fade?i="fade":this.animation===li.Rotate?i="rotateRight":this.animation===li.Zoom&&(i="zoom"),this.setAction(i)}else{let i;this.animation===li.Slide?i="slideLeft":this.animation===li.Fade?i="fade":this.animation===li.Rotate?i="rotateLeft":this.animation===li.Zoom&&(i="zoom"),this.setAction(i)}this._selectedIndex=t,this.activeChange.emit(this._selectedIndex),this.setChangeTimeout()}}setAction(t){this.action=t,this.changeDetectorRef.detectChanges()}showNext(){if(this.isAnimating)return!1;if(this.canShowNext()&&this.canChangeImage){let t;return this.animation===li.Slide?t="slideRight":this.animation===li.Fade?t="fade":this.animation===li.Rotate?t="rotateRight":this.animation===li.Zoom&&(t="zoom"),this.setAction(t),this._selectedIndex++,this._selectedIndex===this.images.length&&(this._selectedIndex=0),this.activeChange.emit(this._selectedIndex),this.setChangeTimeout(),!0}return!1}showPrev(){if(!this.isAnimating&&this.canShowPrev()&&this.canChangeImage){let t;this.animation===li.Slide?t="slideLeft":this.animation===li.Fade?t="fade":this.animation===li.Rotate?t="rotateLeft":this.animation===li.Zoom&&(t="zoom"),this.setAction(t),this._selectedIndex--,this._selectedIndex<0&&(this._selectedIndex=this.images.length-1),this.activeChange.emit(this._selectedIndex),this.setChangeTimeout()}}setChangeTimeout(){this.canChangeImage=!1;let t=1e3;(this.animation===li.Slide||this.animation===li.Fade)&&(t=500),setTimeout(()=>{this.canChangeImage=!0},t)}canShowNext(){return!!this.images&&(this.infinityMove||this._selectedIndex<this.images.length-1)}canShowPrev(){return!!this.images&&(this.infinityMove||this._selectedIndex>0)}getSafeUrl(t){return this.sanitization.bypassSecurityTrustStyle(this.helperService.getBackgroundUrl(t.toString()))}getFileType(t){return this.helperService.getFileType(t)}onStart(t){this.isAnimating=!0,this.animating.emit(!0)}onDone(t){this.isAnimating=!1,this.animating.emit(!1)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Do),l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(Kb))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngx-gallery-image"]],hostBindings:function(t,i){1&t&&l.NdJ("mouseenter",function(){return i.onMouseEnter()})("mouseleave",function(){return i.onMouseLeave()})},inputs:{images:"images",clickable:"clickable",selectedIndex:"selectedIndex",arrows:"arrows",arrowsAutoHide:"arrowsAutoHide",swipe:"swipe",animation:"animation",size:"size",arrowPrevIcon:"arrowPrevIcon",arrowNextIcon:"arrowNextIcon",autoPlay:"autoPlay",autoPlayInterval:"autoPlayInterval",autoPlayPauseOnHover:"autoPlayPauseOnHover",infinityMove:"infinityMove",lazyLoading:"lazyLoading",actions:"actions",descriptions:"descriptions",showDescription:"showDescription",bullets:"bullets"},outputs:{imageClick:"imageClick",activeChange:"activeChange",animating:"animating"},features:[l.TTD],decls:4,vars:7,consts:[[4,"ngFor","ngForOf"],[3,"count","active","bulletChange",4,"ngIf"],[3,"class","prevDisabled","nextDisabled","arrowPrevIcon","arrowNextIcon","prevClick","nextClick",4,"ngIf"],["class","ngx-gallery-image",3,"ngClass","background-image","click",4,"ngIf"],[1,"ngx-gallery-image",3,"ngClass","click"],[1,"ngx-gallery-icons-wrapper"],[3,"icon","disabled","titleText","closeClick",4,"ngFor","ngForOf"],["class","ngx-gallery-image-text",3,"innerHTML","click",4,"ngIf"],[3,"icon","disabled","titleText","closeClick"],[1,"ngx-gallery-image-text",3,"innerHTML","click"],["controls","",2,"width","100%","height","100%","background","#000"],[3,"src"],[3,"count","active","bulletChange"],[3,"prevDisabled","nextDisabled","arrowPrevIcon","arrowNextIcon","prevClick","nextClick"]],template:function(t,i){1&t&&(l.TgZ(0,"div"),l.YNc(1,Uq,3,2,"ng-container",0),l.YNc(2,zq,1,2,"ngx-gallery-bullets",1),l.YNc(3,Hq,1,7,"ngx-gallery-arrows",2),l.qZA()),2&t&&(l.MT6("ngx-gallery-image-wrapper ngx-gallery-animation-",i.animation," ngx-gallery-image-size-",i.size,""),l.xp6(1),l.Q6J("ngForOf",i.getImages()),l.xp6(1),l.Q6J("ngIf",i.bullets),l.xp6(1),l.Q6J("ngIf",i.arrows))},dependencies:[un,rn,jn,xN,MN,mU],styles:["[_nghost-%COMP%]{width:100%;display:inline-block;position:relative;font-size:25px}.ngx-gallery-image-wrapper[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;left:0;top:0;overflow:hidden}.ngx-gallery-image[_ngcontent-%COMP%]{background-position:center;background-repeat:no-repeat;height:100%;width:100%;position:absolute;top:0}.ngx-gallery-image-size-cover[_ngcontent-%COMP%]   .ngx-gallery-image[_ngcontent-%COMP%]{background-size:cover}.ngx-gallery-image-size-contain[_ngcontent-%COMP%]   .ngx-gallery-image[_ngcontent-%COMP%]{background-size:contain}.ngx-gallery-animation-fade[_ngcontent-%COMP%]   .ngx-gallery-image[_ngcontent-%COMP%]{left:0;opacity:1;transition:.5s ease-in-out}.ngx-gallery-animation-fade[_ngcontent-%COMP%]   .ngx-gallery-image.ngx-gallery-active[_ngcontent-%COMP%]{opacity:1}.ngx-gallery-animation-rotate[_ngcontent-%COMP%]   .ngx-gallery-image[_ngcontent-%COMP%]{transition:1s ease;transform:scale(1) rotate(0);left:0;opacity:1}.ngx-gallery-animation-zoom[_ngcontent-%COMP%]   .ngx-gallery-image[_ngcontent-%COMP%]{transition:1s ease;transform:scale(1);left:0;opacity:1}.ngx-gallery-image-text[_ngcontent-%COMP%]{width:100%;background:rgba(0,0,0,.7);padding:10px;text-align:center;color:#fff;font-size:16px;position:absolute;bottom:0;z-index:10}"],data:{animation:[yq("animation",[G0("slideRight",Ti({})),G0("slideLeft",Ti({})),G0("fade",Ti({})),G0("rotateLeft",Ti({})),G0("rotateRight",Ti({})),G0("zoom",Ti({})),gl("slideRight => void",[pl("500ms ease-in-out",Ti({transform:"translateX(-100%)"}))]),gl("void => slideRight",[Ti({transform:"translateX(100%)"}),pl("500ms ease-in-out",Ti({transform:"translateX(0)"}))]),gl("slideLeft => void",[pl("500ms ease-in-out",Ti({transform:"translateX(100%)"}))]),gl("void => slideLeft",[Ti({transform:"translateX(-100%)"}),pl("500ms ease-in-out",Ti({transform:"translateX(0)"}))]),gl("fade => void",[pl("500ms ease-in-out",Ti({opacity:"0"}))]),gl("void => fade",[Ti({opacity:"0"}),pl("500ms ease-in-out",Ti({opacity:"1"}))]),gl("rotateLeft => void",[pl("500ms ease-in-out",Ti({transform:"scale(1, 1) rotate(-90deg)",opacity:"0"}))]),gl("void => rotateLeft",[Ti({transform:"scale(1, 1) rotate(-90deg)",opacity:"0"}),pl("500ms ease-in-out",Ti({transform:"scale(1, 1) rotate(0deg)",opacity:"1"}))]),gl("rotateRight => void",[pl("500ms ease-in-out",Ti({transform:"scale(1, 1) rotate(90deg)",opacity:"0"}))]),gl("void => rotateRight",[Ti({transform:"scale(1, 1) rotate(90deg)",opacity:"0"}),pl("500ms ease-in-out",Ti({transform:"scale(1, 1) rotate(0deg)",opacity:"1"}))]),gl("zoom => void",[pl("500ms ease-in-out",Ti({transform:"scale(2.5,2.5)",opacity:"0"}))]),gl("void => zoom",[Ti({transform:"scale(2.5,2.5)",opacity:"0"}),pl("500ms ease-in-out",Ti({transform:"scale(1, 1)",opacity:"1"}))])])]},changeDetection:0}),n})(),ml=(()=>{class n{}return n.Column=1,n.Row=2,n.Page=3,n})(),vU=(()=>{class n{constructor(t,i,r){this.sanitization=t,this.elementRef=i,this.helperService=r,this.minStopIndex=0,this.activeChange=new l.vpe,this.index=0}ngOnChanges(t){t.selectedIndex&&this.validateIndex(),t.swipe&&this.helperService.manageSwipe(this.swipe,this.elementRef,"thumbnails",()=>this.moveRight(),()=>this.moveLeft()),this.images&&(this.remainingCountValue=this.images.length-this.rows*this.columns)}onMouseEnter(){this.mouseenter=!0}onMouseLeave(){this.mouseenter=!1}reset(t){this.selectedIndex=t,this.setDefaultPosition(),this.index=0,this.validateIndex()}getImages(){if(!this.images)return[];if(this.remainingCount)return this.images.slice(0,this.rows*this.columns);if(this.lazyLoading&&this.order!==ml.Row){let t=0;return this.order===ml.Column?t=(this.index+this.columns+this.moveSize)*this.rows:this.order===ml.Page&&(t=this.index+this.columns*this.rows*2),t<=this.minStopIndex?t=this.minStopIndex:this.minStopIndex=t,this.images.slice(0,t)}return this.images}handleClick(t,i){!this.hasLink(i)&&!this.isAnimating&&(this.selectedIndex=i,this.activeChange.emit(i)),t.stopPropagation(),t.preventDefault()}hasLink(t){return!!(this.links&&this.links.length&&this.links[t])}moveRight(){if(this.canMoveRight()){this.index+=this.moveSize;const t=this.getMaxIndex()-this.columns;this.index>t&&(this.index=t),this.setThumbnailsPosition()}}moveLeft(){this.canMoveLeft()&&(this.index-=this.moveSize,this.index<0&&(this.index=0),this.setThumbnailsPosition())}canMoveRight(){return this.index+this.columns<this.getMaxIndex()}canMoveLeft(){return 0!==this.index}getThumbnailLeft(t){let i;return i=this.order===ml.Column?Math.floor(t/this.rows):this.order===ml.Page?t%this.columns+Math.floor(t/(this.rows*this.columns))*this.columns:this.order===ml.Row&&this.remainingCount?t%this.columns:t%Math.ceil(this.images.length/this.rows),this.getThumbnailPosition(i,this.columns)}getThumbnailTop(t){let i;return i=this.order===ml.Column?t%this.rows:this.order===ml.Page?Math.floor(t/this.columns)-Math.floor(t/(this.rows*this.columns))*this.rows:this.order===ml.Row&&this.remainingCount?Math.floor(t/this.columns):Math.floor(t/Math.ceil(this.images.length/this.rows)),this.getThumbnailPosition(i,this.rows)}getThumbnailWidth(){return this.getThumbnailDimension(this.columns)}getThumbnailHeight(){return this.getThumbnailDimension(this.rows)}setThumbnailsPosition(){this.thumbnailsLeft=-100/this.columns*this.index+"%",this.thumbnailsMarginLeft=-(this.margin-(this.columns-1)*this.margin/this.columns)*this.index+"px"}setDefaultPosition(){this.thumbnailsLeft="0px",this.thumbnailsMarginLeft="0px"}canShowArrows(){return!this.remainingCount&&this.arrows&&this.images&&this.images.length>this.getVisibleCount()&&(!this.arrowsAutoHide||this.mouseenter)}validateIndex(){if(this.images){let t;if(t=this.order===ml.Column?Math.floor(this.selectedIndex/this.rows):this.selectedIndex%Math.ceil(this.images.length/this.rows),this.remainingCount&&(t=0),t<this.index||t>=this.index+this.columns){const i=this.getMaxIndex()-this.columns;this.index=t>i?i:t,this.setThumbnailsPosition()}}}getSafeUrl(t){return this.sanitization.bypassSecurityTrustStyle(this.helperService.getBackgroundUrl(t.toString()))}getFileType(t){return this.helperService.getFileType(t.toString())}getThumbnailPosition(t,i){return this.getSafeStyle("calc("+100/i*t+"% + "+(this.margin-(i-1)*this.margin/i)*t+"px)")}getThumbnailDimension(t){return this.getSafeStyle(0!==this.margin?"calc("+100/t+"% - "+(t-1)*this.margin/t+"px)":"calc("+100/t+"% + 1px)")}getMaxIndex(){if(this.order===ml.Page){let t=Math.floor(this.images.length/this.getVisibleCount())*this.columns;return this.images.length%this.getVisibleCount()>this.columns?t+=this.columns:t+=this.images.length%this.getVisibleCount(),t}return Math.ceil(this.images.length/this.rows)}getVisibleCount(){return this.columns*this.rows}getSafeStyle(t){return this.sanitization.bypassSecurityTrustStyle(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Do),l.Y36(l.SBq),l.Y36(Kb))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngx-gallery-thumbnails"]],hostBindings:function(t,i){1&t&&l.NdJ("mouseenter",function(){return i.onMouseEnter()})("mouseleave",function(){return i.onMouseLeave()})},inputs:{images:"images",isAnimating:"isAnimating",links:"links",labels:"labels",linkTarget:"linkTarget",columns:"columns",rows:"rows",arrows:"arrows",arrowsAutoHide:"arrowsAutoHide",margin:"margin",selectedIndex:"selectedIndex",clickable:"clickable",swipe:"swipe",size:"size",arrowPrevIcon:"arrowPrevIcon",arrowNextIcon:"arrowNextIcon",moveSize:"moveSize",order:"order",remainingCount:"remainingCount",lazyLoading:"lazyLoading",actions:"actions"},outputs:{activeChange:"activeChange"},features:[l.TTD],decls:4,vars:9,consts:[[1,"ngx-gallery-thumbnails"],["class","ngx-gallery-thumbnail",3,"href","target","width","height","left","top","ngClass","click",4,"ngFor","ngForOf"],[3,"prevDisabled","nextDisabled","arrowPrevIcon","arrowNextIcon","prevClick","nextClick",4,"ngIf"],[1,"ngx-gallery-thumbnail",3,"href","target","ngClass","click"],["class","ngx-gallery-thumbnail","style","width: 100%; height: 100%; position:absolute;",3,"background-image","ngClass",4,"ngIf"],["class","ngx-gallery-thumbnail-video",4,"ngIf"],[1,"ngx-gallery-icons-wrapper"],[3,"icon","disabled","titleText","closeClick",4,"ngFor","ngForOf"],["class","ngx-gallery-remaining-count-overlay",4,"ngIf"],[1,"ngx-gallery-thumbnail",2,"width","100%","height","100%","position","absolute",3,"ngClass"],[1,"ngx-gallery-thumbnail-video"],[1,"ngx-gallery-thumbnail",2,"width","100%","height","100%","position","absolute","left","0","background","#000",3,"ngClass"],[3,"src"],[3,"icon","disabled","titleText","closeClick"],[1,"ngx-gallery-remaining-count-overlay"],[1,"ngx-gallery-remaining-count"],[3,"prevDisabled","nextDisabled","arrowPrevIcon","arrowNextIcon","prevClick","nextClick"]],template:function(t,i){1&t&&(l.TgZ(0,"div")(1,"div",0),l.YNc(2,qq,6,19,"a",1),l.qZA()(),l.YNc(3,Zq,1,4,"ngx-gallery-arrows",2)),2&t&&(l.Gre("ngx-gallery-thumbnails-wrapper ngx-gallery-thumbnail-size-",i.size,""),l.xp6(1),l.Udp("transform","translateX("+i.thumbnailsLeft+")")("margin-left",i.thumbnailsMarginLeft),l.xp6(1),l.Q6J("ngForOf",i.getImages()),l.xp6(1),l.Q6J("ngIf",i.canShowArrows()))},dependencies:[un,rn,jn,xN,MN],styles:['@charset "UTF-8";[_nghost-%COMP%]{width:100%;display:inline-block;position:relative;font-size:25px}.ngx-gallery-thumbnails-wrapper[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;overflow:hidden}.ngx-gallery-thumbnails[_ngcontent-%COMP%]{height:100%;width:100%;position:absolute;left:0;transform:translate(0);transition:transform .5s ease-in-out;will-change:transform}.ngx-gallery-thumbnails[_ngcontent-%COMP%]   .ngx-gallery-thumbnail[_ngcontent-%COMP%]{position:absolute;height:100%;background-position:center;background-repeat:no-repeat;text-decoration:none;border:1px double black}.ngx-gallery-thumbnails[_ngcontent-%COMP%]   .ngx-gallery-thumbnail[_ngcontent-%COMP%]   .ngx-gallery-thumbnail-video[_ngcontent-%COMP%]:after{content:"\\f144";display:block;position:absolute;background:rgba(0,0,0,0);height:100%;width:100%;left:0;top:calc(50% - 20px);font-size:40px;color:#fff;margin:0;padding:0;font-family:fontawesome;text-shadow:0px 4px 3px rgba(0,0,0,.4),0px 8px 13px rgba(0,0,0,.1),0px 18px 23px rgba(0,0,0,.1)}.ngx-gallery-thumbnails[_ngcontent-%COMP%]   .ngx-gallery-thumbnail[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{background-size:cover;height:100%}.ngx-gallery-thumbnails[_ngcontent-%COMP%]   .ngx-gallery-thumbnail.ngx-gallery-active[_ngcontent-%COMP%]{border:1px double #cc4548}.ngx-gallery-thumbnail-size-cover[_ngcontent-%COMP%]   .ngx-gallery-thumbnails[_ngcontent-%COMP%]   .ngx-gallery-thumbnail[_ngcontent-%COMP%]{background-size:cover}.ngx-gallery-thumbnail-size-contain[_ngcontent-%COMP%]   .ngx-gallery-thumbnails[_ngcontent-%COMP%]   .ngx-gallery-thumbnail[_ngcontent-%COMP%]{background-size:contain}.ngx-gallery-remaining-count-overlay[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;left:0;top:0;background-color:#0006}.ngx-gallery-remaining-count[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);color:#fff;font-size:30px}'],changeDetection:0}),n})();class PN{constructor(e){this.icon=e.icon,this.disabled=!!e.disabled&&e.disabled,this.titleText=e.titleText?e.titleText:"",this.onClick=e.onClick}}let ON=(()=>{class n{}return n.ThumbnailsTop="thumbnails-top",n.ThumbnailsBottom="thumbnails-bottom",n})(),wU=(()=>{class n{}return n.Cover="cover",n.Contain="contain",n})();class CU{constructor(e){const t=void 0!==e.breakpoint;function i(r,s){return e&&(void 0!==r||t)?r:s}this.breakpoint=i(e.breakpoint,void 0),this.width=i(e.width,"500px"),this.height=i(e.height,"400px"),this.fullWidth=i(e.fullWidth,!1),this.layout=i(e.layout,ON.ThumbnailsBottom),this.startIndex=i(e.startIndex,0),this.linkTarget=i(e.linkTarget,"_blank"),this.lazyLoading=i(e.lazyLoading,!0),this.image=i(e.image,!0),this.imagePercent=i(e.imagePercent,75),this.imageArrows=i(e.imageArrows,!0),this.imageArrowsAutoHide=i(e.imageArrowsAutoHide,!1),this.imageSwipe=i(e.imageSwipe,!1),this.imageAnimation=i(e.imageAnimation,li.Fade),this.imageSize=i(e.imageSize,wU.Cover),this.imageAutoPlay=i(e.imageAutoPlay,!1),this.imageAutoPlayInterval=i(e.imageAutoPlayInterval,2e3),this.imageAutoPlayPauseOnHover=i(e.imageAutoPlayPauseOnHover,!1),this.imageInfinityMove=i(e.imageInfinityMove,!1),e&&e.imageActions&&e.imageActions.length&&(e.imageActions=e.imageActions.map(r=>new PN(r))),this.imageActions=i(e.imageActions,[]),this.imageDescription=i(e.imageDescription,!1),this.imageBullets=i(e.imageBullets,!1),this.thumbnails=i(e.thumbnails,!0),this.thumbnailsColumns=i(e.thumbnailsColumns,4),this.thumbnailsRows=i(e.thumbnailsRows,1),this.thumbnailsPercent=i(e.thumbnailsPercent,25),this.thumbnailsMargin=i(e.thumbnailsMargin,10),this.thumbnailsArrows=i(e.thumbnailsArrows,!0),this.thumbnailsArrowsAutoHide=i(e.thumbnailsArrowsAutoHide,!1),this.thumbnailsSwipe=i(e.thumbnailsSwipe,!1),this.thumbnailsMoveSize=i(e.thumbnailsMoveSize,1),this.thumbnailsOrder=i(e.thumbnailsOrder,ml.Column),this.thumbnailsRemainingCount=i(e.thumbnailsRemainingCount,!1),this.thumbnailsAsLinks=i(e.thumbnailsAsLinks,!1),this.thumbnailsAutoHide=i(e.thumbnailsAutoHide,!1),this.thumbnailMargin=i(e.thumbnailMargin,10),this.thumbnailSize=i(e.thumbnailSize,wU.Cover),e&&e.thumbnailActions&&e.thumbnailActions.length&&(e.thumbnailActions=e.thumbnailActions.map(r=>new PN(r))),this.thumbnailActions=i(e.thumbnailActions,[]),this.thumbnailClasses=i(e.thumbnailClasses,[]),this.preview=i(e.preview,!0),this.previewDescription=i(e.previewDescription,!0),this.previewArrows=i(e.previewArrows,!0),this.previewArrowsAutoHide=i(e.previewArrowsAutoHide,!1),this.previewSwipe=i(e.previewSwipe,!1),this.previewFullscreen=i(e.previewFullscreen,!1),this.previewForceFullscreen=i(e.previewForceFullscreen,!1),this.previewCloseOnClick=i(e.previewCloseOnClick,!1),this.previewCloseOnEsc=i(e.previewCloseOnEsc,!1),this.previewKeyboardNavigation=i(e.previewKeyboardNavigation,!1),this.previewAnimation=i(e.previewAnimation,!0),this.previewAutoPlay=i(e.previewAutoPlay,!1),this.previewAutoPlayInterval=i(e.previewAutoPlayInterval,2e3),this.previewAutoPlayPauseOnHover=i(e.previewAutoPlayPauseOnHover,!1),this.previewInfinityMove=i(e.previewInfinityMove,!1),this.previewZoom=i(e.previewZoom,!1),this.previewZoomStep=i(e.previewZoomStep,.1),this.previewZoomMax=i(e.previewZoomMax,2),this.previewZoomMin=i(e.previewZoomMin,.5),this.previewRotate=i(e.previewRotate,!1),this.previewDownload=i(e.previewDownload,!1),this.previewCustom=i(e.previewCustom,void 0),this.previewBullets=i(e.previewBullets,!1),this.arrowPrevIcon=i(e.arrowPrevIcon,"fa fa-arrow-circle-left"),this.arrowNextIcon=i(e.arrowNextIcon,"fa fa-arrow-circle-right"),this.closeIcon=i(e.closeIcon,"fa fa-times-circle"),this.fullscreenIcon=i(e.fullscreenIcon,"fa fa-arrows-alt"),this.spinnerIcon=i(e.spinnerIcon,"fa fa-spinner fa-pulse fa-3x fa-fw"),this.zoomInIcon=i(e.zoomInIcon,"fa fa-search-plus"),this.zoomOutIcon=i(e.zoomOutIcon,"fa fa-search-minus"),this.rotateLeftIcon=i(e.rotateLeftIcon,"fa fa-undo"),this.rotateRightIcon=i(e.rotateRightIcon,"fa fa-repeat"),this.downloadIcon=i(e.downloadIcon,"fa fa-arrow-circle-down"),e&&e.actions&&e.actions.length&&(e.actions=e.actions.map(r=>new PN(r))),this.actions=i(e.actions,[])}}class Jq{constructor(e){this.src=e.src,this.type=e.type,this.index=e.index}}let Xq=(()=>{class n{constructor(t,i){this.myElement=t,this.helperService=i,this.options=[{}],this.imagesReady=new l.vpe,this.change=new l.vpe,this.previewOpen=new l.vpe,this.previewClose=new l.vpe,this.previewChange=new l.vpe,this.oldImagesLength=0,this.selectedIndex=0,this.breakpoint=void 0,this.prevBreakpoint=void 0}ngOnInit(){this.options=this.options.map(t=>new CU(t)),this.sortOptions(),this.setBreakpoint(),this.setOptions(),this.checkFullWidth(),this.currentOptions&&(this.selectedIndex=this.currentOptions.startIndex)}ngDoCheck(){(void 0!==this.images&&this.images.length!==this.oldImagesLength||this.images!==this.oldImages)&&(this.oldImagesLength=this.images.length,this.oldImages=this.images,this.setOptions(),this.setImages(),this.images&&this.images.length&&this.imagesReady.emit(),this.image&&this.image.reset(this.currentOptions.startIndex),this.currentOptions.thumbnailsAutoHide&&this.currentOptions.thumbnails&&this.images.length<=1&&(this.currentOptions.thumbnails=!1,this.currentOptions.imageArrows=!1),this.resetThumbnails())}ngAfterViewInit(){this.checkFullWidth()}onResize(){this.setBreakpoint(),this.prevBreakpoint!==this.breakpoint&&(this.setOptions(),this.resetThumbnails()),this.currentOptions&&this.currentOptions.fullWidth&&(this.fullWidthTimeout&&clearTimeout(this.fullWidthTimeout),this.fullWidthTimeout=setTimeout(()=>{this.checkFullWidth()},200))}getImageHeight(){return this.currentOptions&&this.currentOptions.thumbnails?this.currentOptions.imagePercent+"%":"100%"}getThumbnailsHeight(){return this.currentOptions&&this.currentOptions.image?"calc("+this.currentOptions.thumbnailsPercent+"% - "+this.currentOptions.thumbnailsMargin+"px)":"100%"}getThumbnailsMarginTop(){return this.currentOptions&&this.currentOptions.layout===ON.ThumbnailsBottom?this.currentOptions.thumbnailsMargin+"px":"0px"}getThumbnailsMarginBottom(){return this.currentOptions&&this.currentOptions.layout===ON.ThumbnailsTop?this.currentOptions.thumbnailsMargin+"px":"0px"}openPreview(t){this.currentOptions.previewCustom?this.currentOptions.previewCustom(t):(this.previewEnabled=!0,this.preview.open(t))}onPreviewOpen(){this.previewOpen.emit(),this.image&&this.image.autoPlay&&this.image.stopAutoPlay()}onPreviewClose(){this.previewEnabled=!1,this.previewClose.emit(),this.image&&this.image.autoPlay&&this.image.startAutoPlay()}selectFromImage(t){this.select(t)}selectFromThumbnails(t){this.select(t),this.currentOptions&&this.currentOptions.thumbnails&&this.currentOptions.preview&&(!this.currentOptions.image||this.currentOptions.thumbnailsRemainingCount)&&this.openPreview(this.selectedIndex)}show(t){this.select(t)}showNext(){this.image.showNext()}showPrev(){this.image.showPrev()}canShowNext(){return!(!this.images||!this.currentOptions||!(this.currentOptions.imageInfinityMove||this.selectedIndex<this.images.length-1))}canShowPrev(){return!(!this.images||!this.currentOptions||!(this.currentOptions.imageInfinityMove||this.selectedIndex>0))}previewSelect(t){this.previewChange.emit({index:t,image:this.images[t]})}moveThumbnailsRight(){this.thumbnails.moveRight()}moveThumbnailsLeft(){this.thumbnails.moveLeft()}canMoveThumbnailsRight(){return this.thumbnails.canMoveRight()}canMoveThumbnailsLeft(){return this.thumbnails.canMoveLeft()}resetThumbnails(){this.thumbnails&&this.thumbnails.reset(this.currentOptions.startIndex)}select(t){this.selectedIndex=t,this.change.emit({index:t,image:this.images[t]})}checkFullWidth(){this.currentOptions&&this.currentOptions.fullWidth&&(this.width=document.body.clientWidth+"px",this.left="translateX("+-(document.body.clientWidth-this.myElement.nativeElement.parentNode.innerWidth)/2+"px)")}setImages(){this.images.forEach(t=>t.type=this.helperService.getFileType(t.url||t.big||t.medium||t.small||"")),this.smallImages=this.images.map(t=>t.small),this.mediumImages=this.images.map((t,i)=>new Jq({src:t.medium,type:t.type,index:i})),this.bigImages=this.images.map(t=>t.big),this.descriptions=this.images.map(t=>t.description),this.links=this.images.map(t=>t.url),this.labels=this.images.map(t=>t.label)}setBreakpoint(){let t;this.prevBreakpoint=this.breakpoint,typeof window<"u"&&(t=this.options.filter(i=>i.breakpoint>=window.innerWidth).map(i=>i.breakpoint)),this.breakpoint=t&&t.length?t.pop():void 0}sortOptions(){this.options=[...this.options.filter(t=>void 0===t.breakpoint),...this.options.filter(t=>void 0!==t.breakpoint).sort((t,i)=>i.breakpoint-t.breakpoint)]}setOptions(){this.currentOptions=new CU({}),this.options.filter(t=>void 0===t.breakpoint||t.breakpoint>=this.breakpoint).map(t=>this.combineOptions(this.currentOptions,t)),this.width=this.currentOptions.width,this.height=this.currentOptions.height}combineOptions(t,i){Object.keys(i).map(r=>t[r]=void 0!==i[r]?i[r]:t[r])}setAnimating(t){this.isAnimating=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(Kb))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngx-gallery"]],viewQuery:function(t,i){if(1&t&&(l.Gf(_U,5),l.Gf(yU,5),l.Gf(vU,5)),2&t){let r;l.iGM(r=l.CRH())&&(i.preview=r.first),l.iGM(r=l.CRH())&&(i.image=r.first),l.iGM(r=l.CRH())&&(i.thumbnails=r.first)}},hostVars:6,hostBindings:function(t,i){1&t&&l.NdJ("resize",function(){return i.onResize()},!1,l.Jf7),2&t&&l.Udp("width",i.width)("height",i.height)("transform",i.left)},inputs:{options:"options",images:"images"},outputs:{imagesReady:"imagesReady",change:"change",previewOpen:"previewOpen",previewClose:"previewClose",previewChange:"previewChange"},features:[l._Bn([Kb])],decls:4,vars:41,consts:[[3,"height","images","clickable","selectedIndex","arrows","arrowsAutoHide","arrowPrevIcon","arrowNextIcon","swipe","animation","size","autoPlay","autoPlayInterval","autoPlayPauseOnHover","infinityMove","lazyLoading","actions","descriptions","showDescription","bullets","imageClick","activeChange","animating",4,"ngIf"],[3,"marginTop","marginBottom","height","images","isAnimating","links","labels","linkTarget","selectedIndex","columns","rows","margin","arrows","arrowsAutoHide","arrowPrevIcon","arrowNextIcon","clickable","swipe","size","moveSize","order","remainingCount","lazyLoading","actions","ngClass","activeChange",4,"ngIf"],[3,"images","descriptions","showDescription","arrowPrevIcon","arrowNextIcon","closeIcon","fullscreenIcon","spinnerIcon","arrows","arrowsAutoHide","swipe","fullscreen","forceFullscreen","closeOnClick","closeOnEsc","keyboardNavigation","animation","autoPlay","autoPlayInterval","autoPlayPauseOnHover","infinityMove","zoom","zoomStep","zoomMax","zoomMin","zoomInIcon","zoomOutIcon","actions","rotate","rotateLeftIcon","rotateRightIcon","download","downloadIcon","bullets","previewClose","previewOpen","activeChange"],[3,"images","clickable","selectedIndex","arrows","arrowsAutoHide","arrowPrevIcon","arrowNextIcon","swipe","animation","size","autoPlay","autoPlayInterval","autoPlayPauseOnHover","infinityMove","lazyLoading","actions","descriptions","showDescription","bullets","imageClick","activeChange","animating"],[3,"images","isAnimating","links","labels","linkTarget","selectedIndex","columns","rows","margin","arrows","arrowsAutoHide","arrowPrevIcon","arrowNextIcon","clickable","swipe","size","moveSize","order","remainingCount","lazyLoading","actions","ngClass","activeChange"]],template:function(t,i){1&t&&(l.TgZ(0,"div"),l.YNc(1,Kq,1,21,"ngx-gallery-image",0),l.YNc(2,Qq,1,29,"ngx-gallery-thumbnails",1),l.TgZ(3,"ngx-gallery-preview",2),l.NdJ("previewClose",function(){return i.onPreviewClose()})("previewOpen",function(){return i.onPreviewOpen()})("activeChange",function(s){return i.previewSelect(s)}),l.qZA()()),2&t&&(l.Gre("ngx-gallery-layout ",null==i.currentOptions?null:i.currentOptions.layout,""),l.xp6(1),l.Q6J("ngIf",null==i.currentOptions?null:i.currentOptions.image),l.xp6(1),l.Q6J("ngIf",null==i.currentOptions?null:i.currentOptions.thumbnails),l.xp6(1),l.ekj("ngx-gallery-active",i.previewEnabled),l.Q6J("images",i.bigImages)("descriptions",i.descriptions)("showDescription",null==i.currentOptions?null:i.currentOptions.previewDescription)("arrowPrevIcon",null==i.currentOptions?null:i.currentOptions.arrowPrevIcon)("arrowNextIcon",null==i.currentOptions?null:i.currentOptions.arrowNextIcon)("closeIcon",null==i.currentOptions?null:i.currentOptions.closeIcon)("fullscreenIcon",null==i.currentOptions?null:i.currentOptions.fullscreenIcon)("spinnerIcon",null==i.currentOptions?null:i.currentOptions.spinnerIcon)("arrows",null==i.currentOptions?null:i.currentOptions.previewArrows)("arrowsAutoHide",null==i.currentOptions?null:i.currentOptions.previewArrowsAutoHide)("swipe",null==i.currentOptions?null:i.currentOptions.previewSwipe)("fullscreen",null==i.currentOptions?null:i.currentOptions.previewFullscreen)("forceFullscreen",null==i.currentOptions?null:i.currentOptions.previewForceFullscreen)("closeOnClick",null==i.currentOptions?null:i.currentOptions.previewCloseOnClick)("closeOnEsc",null==i.currentOptions?null:i.currentOptions.previewCloseOnEsc)("keyboardNavigation",null==i.currentOptions?null:i.currentOptions.previewKeyboardNavigation)("animation",null==i.currentOptions?null:i.currentOptions.previewAnimation)("autoPlay",null==i.currentOptions?null:i.currentOptions.previewAutoPlay)("autoPlayInterval",null==i.currentOptions?null:i.currentOptions.previewAutoPlayInterval)("autoPlayPauseOnHover",null==i.currentOptions?null:i.currentOptions.previewAutoPlayPauseOnHover)("infinityMove",null==i.currentOptions?null:i.currentOptions.previewInfinityMove)("zoom",null==i.currentOptions?null:i.currentOptions.previewZoom)("zoomStep",null==i.currentOptions?null:i.currentOptions.previewZoomStep)("zoomMax",null==i.currentOptions?null:i.currentOptions.previewZoomMax)("zoomMin",null==i.currentOptions?null:i.currentOptions.previewZoomMin)("zoomInIcon",null==i.currentOptions?null:i.currentOptions.zoomInIcon)("zoomOutIcon",null==i.currentOptions?null:i.currentOptions.zoomOutIcon)("actions",null==i.currentOptions?null:i.currentOptions.actions)("rotate",null==i.currentOptions?null:i.currentOptions.previewRotate)("rotateLeftIcon",null==i.currentOptions?null:i.currentOptions.rotateLeftIcon)("rotateRightIcon",null==i.currentOptions?null:i.currentOptions.rotateRightIcon)("download",null==i.currentOptions?null:i.currentOptions.previewDownload)("downloadIcon",null==i.currentOptions?null:i.currentOptions.downloadIcon)("bullets",null==i.currentOptions?null:i.currentOptions.previewBullets))},dependencies:[un,jn,yU,vU,_U],styles:[":host{display:inline-block}:host>*{float:left}.ngx-gallery-layout{width:100%;height:100%;display:flex;flex-direction:column}.ngx-gallery-layout.thumbnails-top ngx-gallery-image{order:2}.ngx-gallery-layout.thumbnails-top ngx-gallery-thumbnails{order:1}.ngx-gallery-layout.thumbnails-bottom ngx-gallery-image{order:1}.ngx-gallery-layout.thumbnails-bottom ngx-gallery-thumbnails{order:2}*{box-sizing:border-box}.ngx-gallery-icon{color:#fff;position:absolute;display:inline-block}.ngx-gallery-icon .ngx-gallery-icon-content{display:block}ngx-gallery-preview{font-size:25px}ngx-gallery-preview .ngx-gallery-icon{z-index:2000}.ngx-gallery-clickable{cursor:pointer}.ngx-gallery-icons-wrapper .ngx-gallery-icon{position:relative;margin-right:5px;margin-top:5px;font-size:20px;cursor:pointer}.ngx-gallery-icons-wrapper{float:right}\n"],encapsulation:2,changeDetection:0}),n})(),e7=(()=>{class n extends uf{constructor(){super(...arguments),this.overrides={pinch:{enable:!1},rotate:{enable:!1}}}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),t7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[{provide:Ba,useClass:e7}],imports:[Io]}),n})();const n7=["zoomContainer"],i7=["imageThumbnail"],r7=["fullSizeImage"],s7=function(n){return{ngxImageZoomFullContainer:!0,ngxImageZoomLensEnabled:n}};let EU=(()=>{class n{constructor(t){this.changeDetectorRef=t,this.zoomDisplay="none",this.thumbWidth=0,this.thumbHeight=0,this.fullImageTop=0,this.fullImageLeft=0,this.lensWidth=100,this.lensHeight=100,this.lensTop=0,this.lensLeft=0,this.magnifiedWidth=0,this.magnifiedHeight=0,this.zoomPosition=new ri(null),this.zoomingEnabled=!1,this.isReady=!1,this.enableLens=!1,this.minZoomRatio=1,this.maxZoomRatio=2,this.magnification=1,this.fullWidth=0,this.fullHeight=0,this.xRatio=0,this.yRatio=0,this.latestMouseLeft=-1,this.latestMouseTop=-1}zoomOn(t){this.isReady&&(this.zoomingEnabled=!0,this.calculateRatioAndOffset(),this.zoomDisplay="block",this.calculateZoomPosition(t),this.changeDetectorRef.markForCheck())}zoomOff(){this.zoomingEnabled=!1,this.zoomDisplay="none",this.changeDetectorRef.markForCheck()}markForCheck(){this.changeDetectorRef.markForCheck()}calculateRatioAndOffset(){this.enableLens||(this.lensWidth=this.thumbWidth,this.lensHeight=this.thumbHeight,this.lensLeft=0,this.lensTop=0),this.fullImageLoaded&&(this.baseRatio=Math.max(this.thumbWidth/this.fullWidth,this.thumbHeight/this.fullHeight),this.minZoomRatio=Math.max(this.minZoomRatio||0,this.baseRatio||0),this.calculateRatio())}calculateRatio(){this.magnifiedWidth=this.fullWidth*this.magnification,this.magnifiedHeight=this.fullHeight*this.magnification,this.xRatio=(this.magnifiedWidth-this.thumbWidth)/this.thumbWidth,this.yRatio=(this.magnifiedHeight-this.thumbHeight)/this.thumbHeight}calculateZoomPosition(t){const i=Math.max(Math.min(t.offsetX,this.thumbWidth),0),r=Math.max(Math.min(t.offsetY,this.thumbHeight),0);this.setZoomPosition(i,r),this.calculateImageAndLensPosition(),this.changeDetectorRef.markForCheck()}calculateImageAndLensPosition(){let t=0,i=0;this.enableLens&&this.latestMouseLeft>0&&(t=this.latestMouseLeft-this.lensWidth/2,i=this.latestMouseTop-this.lensHeight/2,this.lensLeft=t,this.lensTop=i),this.fullImageLeft=this.latestMouseLeft*-this.xRatio-t,this.fullImageTop=this.latestMouseTop*-this.yRatio-i}setZoomPosition(t,i){this.latestMouseLeft=Number(t)||this.latestMouseLeft,this.latestMouseTop=Number(i)||this.latestMouseTop,this.zoomPosition.next({x:this.latestMouseLeft,y:this.latestMouseTop})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.sBO))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class o7{constructor(e){this.zoomService=e}onClick(e){!1===this.zoomService.zoomingEnabled&&this.zoomService.zoomOn(e)}onMouseEnter(){}onMouseLeave(){this.zoomService.zoomOff()}onMouseMove(e){this.zoomService.zoomingEnabled&&this.zoomService.calculateZoomPosition(e)}onMouseWheel(){return!0}}class a7{constructor(e){this.zoomService=e,this.zoomFrozen=!1}onClick(e){this.zoomService.zoomingEnabled&&this.zoomFrozen?this.zoomFrozen=!1:this.zoomService.zoomingEnabled?(this.zoomFrozen=!0,this.zoomService.markForCheck()):this.zoomService.zoomOn(e)}onMouseEnter(e){this.zoomFrozen||this.zoomService.zoomOn(e)}onMouseLeave(){this.zoomService.zoomingEnabled&&!this.zoomFrozen&&this.zoomService.zoomOff()}onMouseMove(e){this.zoomService.zoomingEnabled&&!this.zoomFrozen&&this.zoomService.calculateZoomPosition(e)}onMouseWheel(){return!this.zoomFrozen}}class l7{constructor(e){this.zoomService=e}onClick(){}onMouseEnter(e){this.zoomService.zoomOn(e)}onMouseLeave(){this.zoomService.zoomOff()}onMouseMove(e){this.zoomService.calculateZoomPosition(e)}onMouseWheel(){return!0}}class u7{constructor(e){this.zoomService=e}onClick(e){this.zoomService.zoomingEnabled?this.zoomService.zoomOff():this.zoomService.zoomOn(e)}onMouseEnter(){}onMouseLeave(){this.zoomService.zoomOff()}onMouseMove(e){this.zoomService.zoomingEnabled&&this.zoomService.calculateZoomPosition(e)}onMouseWheel(){return!0}}class c7{constructor(e){this.zoomService=e,this.zoomFrozen=!1}onClick(e){this.zoomService.zoomingEnabled&&this.zoomFrozen?(this.zoomFrozen=!1,this.zoomService.zoomOff()):this.zoomService.zoomingEnabled?(this.zoomFrozen=!0,this.zoomService.markForCheck()):this.zoomService.zoomOn(e)}onMouseEnter(){}onMouseLeave(){this.zoomService.zoomingEnabled&&!this.zoomFrozen&&this.zoomService.zoomOff()}onMouseMove(e){this.zoomService.zoomingEnabled&&!this.zoomFrozen&&this.zoomService.calculateZoomPosition(e)}onMouseWheel(){return!this.zoomFrozen}}class d7{constructor(e){this.zoomService=e}onClick(e){this.zoomService.zoomingEnabled?this.zoomService.zoomOff():this.zoomService.zoomOn(e)}onMouseEnter(){}onMouseLeave(){}onMouseMove(){}onMouseWheel(){return!0}}let h7=(()=>{class n{constructor(t,i){this.zoomService=t,this.renderer=i,this.zoomScroll=new l.vpe,this.zoomPosition=new l.vpe,this.imagesLoaded=new l.vpe,this.lensBorderRadius=0,this.zoomMode="hover",this.enableScrollZoom=!1,this.scrollStepSize=.1,this.circularLens=!1,this.thumbImageLoaded=!1,this.subscriptions=[],this.eventListeners=[],this.zoomModesMap=new Map([["click",o7],["hover-freeze",a7],["hover",l7],["toggle-click",u7],["toggle-freeze",c7],["toggle",d7]]),this.altText="",this.titleText=""}set setThumbImage(t){this.thumbImageLoaded=!1,this.setIsReady(!1),this.thumbImage=t}set setFullImage(t){this.zoomService.fullImageLoaded=!1,this.setIsReady(!1),this.fullImage=t}set setZoomMode(t){n.validZoomModes.some(i=>i===t)&&(this.zoomMode=t)}set setMagnification(t){this.zoomService.magnification=Number(t)||this.zoomService.magnification,this.zoomScroll.emit(this.zoomService.magnification)}set setMinZoomRatio(t){const i=Number(t)||this.zoomService.minZoomRatio||this.zoomService.baseRatio||0;this.zoomService.minZoomRatio=Math.max(i,this.zoomService.baseRatio||0)}set setMaxZoomRatio(t){this.zoomService.maxZoomRatio=Number(t)||this.zoomService.maxZoomRatio}set setScrollStepSize(t){this.scrollStepSize=Number(t)||this.scrollStepSize}set setEnableLens(t){this.zoomService.enableLens=Boolean(t)}set setLensWidth(t){this.zoomService.lensWidth=Number(t)||this.zoomService.lensWidth}set setLensHeight(t){this.zoomService.lensHeight=Number(t)||this.zoomService.lensHeight}set setCircularLens(t){this.circularLens=Boolean(t)}set setEnableScrollZoom(t){this.enableScrollZoom=Boolean(t)}ngOnInit(){void 0===this.fullImage&&(this.fullImage=this.thumbImage),this.registerServiceSubscriptions(),this.loadZoomMode(),this.registerEventListeners(),this.calculateLensBorder()}ngOnChanges(){this.calculateLensBorder(),this.zoomService.calculateRatioAndOffset(),this.zoomService.calculateImageAndLensPosition()}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe()),this.eventListeners.forEach(t=>t())}registerServiceSubscriptions(){this.subscriptions.push(this.zoomService.zoomPosition.subscribe(t=>this.zoomPosition.emit(t)))}loadZoomMode(){const t=this.zoomModesMap.get(this.zoomMode);t?this.zoomInstance=new t(this.zoomService):console.error(`Unsupported zoom mode: ${this.zoomMode}`)}registerEventListeners(){if(this.zoomInstance){const t=this.zoomContainer.nativeElement;this.eventListeners.push(this.renderer.listen(t,"mouseenter",i=>this.zoomInstance.onMouseEnter(i)),this.renderer.listen(t,"mouseleave",i=>this.zoomInstance.onMouseLeave(i)),this.renderer.listen(t,"mousemove",i=>this.zoomInstance.onMouseMove(i)),this.renderer.listen(t,"click",i=>this.zoomInstance.onClick(i)),this.renderer.listen(t,"mousewheel",i=>{this.zoomInstance.onMouseWheel(i)&&this.onMouseWheel(i)}),this.renderer.listen(t,"DOMMouseScroll",i=>{this.zoomInstance.onMouseWheel(i)&&this.onMouseWheel(i)}),this.renderer.listen(t,"onmousewheel",i=>{this.zoomInstance.onMouseWheel(i)&&this.onMouseWheel(i)}))}}onThumbImageLoaded(){this.zoomService.thumbWidth=this.imageThumbnail.nativeElement.width,this.zoomService.thumbHeight=this.imageThumbnail.nativeElement.height,this.thumbImageLoaded=!0,this.checkImagesLoaded()}onFullImageLoaded(){this.zoomService.fullWidth=this.fullSizeImage.nativeElement.naturalWidth,this.zoomService.fullHeight=this.fullSizeImage.nativeElement.naturalHeight,this.zoomService.fullImageLoaded=!0,this.checkImagesLoaded()}calculateLensBorder(){this.zoomService.enableLens&&(this.lensBorderRadius=this.circularLens?this.zoomService.lensWidth/2:0)}checkImagesLoaded(){this.zoomService.calculateRatioAndOffset(),this.thumbImageLoaded&&this.zoomService.fullImageLoaded&&(this.zoomService.calculateImageAndLensPosition(),this.setIsReady(!0))}setIsReady(t){this.zoomService.isReady=t,this.imagesLoaded.emit(t)}onMouseWheel(t){this.enableScrollZoom&&this.zoomService.zoomingEnabled&&(t=window.event||t,this.setMagnification=Math.max(Math.min(t.wheelDelta||-t.detail,1),-1)>0?Math.min(this.zoomService.magnification+this.scrollStepSize,this.zoomService.maxZoomRatio):Math.max(this.zoomService.magnification-this.scrollStepSize,this.zoomService.minZoomRatio),this.zoomService.calculateRatio(),this.zoomService.calculateZoomPosition(t),t.returnValue=!1,t.preventDefault&&t.preventDefault())}}return n.validZoomModes=["hover","toggle","click","toggle-click","toggle-freeze","hover-freeze"],n.\u0275fac=function(t){return new(t||n)(l.Y36(EU),l.Y36(l.Qsj))},n.\u0275cmp=l.Xpm({type:n,selectors:[["lib-ngx-image-zoom"]],viewQuery:function(t,i){if(1&t&&(l.Gf(n7,7),l.Gf(i7,7),l.Gf(r7,7)),2&t){let r;l.iGM(r=l.CRH())&&(i.zoomContainer=r.first),l.iGM(r=l.CRH())&&(i.imageThumbnail=r.first),l.iGM(r=l.CRH())&&(i.fullSizeImage=r.first)}},inputs:{setThumbImage:["thumbImage","setThumbImage"],setFullImage:["fullImage","setFullImage"],setZoomMode:["zoomMode","setZoomMode"],setMagnification:["magnification","setMagnification"],setMinZoomRatio:["minZoomRatio","setMinZoomRatio"],setMaxZoomRatio:["maxZoomRatio","setMaxZoomRatio"],setScrollStepSize:["scrollStepSize","setScrollStepSize"],setEnableLens:["enableLens","setEnableLens"],setLensWidth:["lensWidth","setLensWidth"],setLensHeight:["lensHeight","setLensHeight"],setCircularLens:["circularLens","setCircularLens"],setEnableScrollZoom:["enableScrollZoom","setEnableScrollZoom"],altText:"altText",titleText:"titleText"},outputs:{zoomScroll:"zoomScroll",zoomPosition:"zoomPosition",imagesLoaded:"imagesLoaded"},features:[l._Bn([EU]),l.TTD],decls:7,vars:35,consts:[[1,"ngxImageZoomContainer"],["zoomContainer",""],[1,"ngxImageZoomThumbnail",3,"alt","title","src","load"],["imageThumbnail",""],[3,"ngClass"],[1,"ngxImageZoomFull",3,"alt","title","src","load"],["fullSizeImage",""]],template:function(t,i){1&t&&(l.TgZ(0,"div",0,1)(2,"img",2,3),l.NdJ("load",function(){return i.onThumbImageLoaded()}),l.qZA(),l.TgZ(4,"div",4)(5,"img",5,6),l.NdJ("load",function(){return i.onFullImageLoaded()}),l.qZA()()()),2&t&&(l.Udp("width",i.zoomService.thumbWidth,"px")("height",i.zoomService.thumbHeight,"px"),l.xp6(2),l.Q6J("alt",i.altText)("title",i.titleText)("src",i.thumbImage,l.LSH),l.xp6(2),l.Udp("display",i.zoomService.zoomDisplay)("top",i.zoomService.lensTop,"px")("left",i.zoomService.lensLeft,"px")("width",i.zoomService.lensWidth,"px")("height",i.zoomService.lensHeight,"px")("border-radius",i.lensBorderRadius,"px"),l.Q6J("ngClass",l.VKq(33,s7,i.zoomService.enableLens)),l.xp6(1),l.Udp("display",i.zoomService.zoomDisplay)("top",i.zoomService.fullImageTop,"px")("left",i.zoomService.fullImageLeft,"px")("width",i.zoomService.magnifiedWidth,"px")("height",i.zoomService.magnifiedHeight,"px"),l.Q6J("alt",i.altText)("title",i.titleText)("src",i.fullImage,l.LSH))},dependencies:[un],styles:[".ngxImageZoomContainer[_ngcontent-%COMP%]{position:relative;margin:auto;overflow:hidden;pointer-events:none}.ngxImageZoomThumbnail[_ngcontent-%COMP%]{pointer-events:all}.ngxImageZoomFull[_ngcontent-%COMP%]{position:absolute;max-width:none;max-height:none;display:none;pointer-events:none}.ngxImageZoomFullContainer[_ngcontent-%COMP%]{position:absolute;overflow:hidden;pointer-events:none}.ngxImageZoomFullContainer.ngxImageZoomLensEnabled[_ngcontent-%COMP%]{border:2px solid red;cursor:crosshair;pointer-events:none}"]}),n})(),f7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Io]}),n})();function p7(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",16)(1,"div",17),l._UZ(2,"img",18),l.TgZ(3,"div",19)(4,"a",20),l.NdJ("click",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.refreh())}),l.TgZ(5,"div"),l._uU(6),l.qZA()(),l.TgZ(7,"span",21),l._uU(8),l.qZA(),l.TgZ(9,"p",22),l._uU(10),l.qZA()()()()}if(2&n){const t=e.$implicit;l.xp6(2),l.s9C("src",t.selectedFile[0].imageurl,l.LSH),l.xp6(2),l.MGl("routerLink","../../itemdetails/",null==t?null:t.id,""),l.xp6(2),l.Oqu(t.productname),l.xp6(2),l.hij("",t.saleprice," \u062c\u0646\u064a\u0629 "),l.xp6(2),l.hij("\u0627\u0644\u0643\u0645\u064a\u0629 \u0627\u0644\u0645\u062a\u0648\u0641\u0631\u0629 : ",t.mount,"")}}const g7=function(){return[]};let m7=(()=>{class n{constructor(t,i,r){this._router=t,this.router=i,this.Productser=r,this.GetProduct=new mq,this.images=[],this.productcategories=[],this.slideConfig={slidesToShow:5,slidesToScroll:5,dots:!0,infinite:!1,rtl:!0,arrows:!0,autoplay:!0,prevArrow:"<button type='button' class='slick-prev pull-left'><i class='fa fa-angle-left' aria-hidden='true'></i></button>",nextArrow:"<button type='button' class='slick-next pull-right'><i class='fa fa-angle-right' aria-hidden='true'></i></button>",responsive:[{breakpoint:1024,settings:{slidesToShow:3,slidesToScroll:3,infinite:!0,dots:!0}},{breakpoint:600,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1}}]}}ngOnInit(){this.refreh()}getProductcat(t){return new Promise(i=>{console.log(t),this.Productser.getProductByCategoty(t).subscribe(r=>{i(r),console.log(r),this.productcategory=r})})}refreh(){this.id=this.router.snapshot.params.id,this.Productser.getproductById(this.id).subscribe(t=>{this.GetProduct=t,this.GetProduct.selectedFile.forEach(i=>{this.images.push({small:i.imageurl,medium:i.imageurl,big:i.imageurl})}),this.galleryImages=this.images,console.log(this.galleryImages),this.images=[]}),this.galleryOptions=[{width:"700px",height:"500px",preview:!0,previewZoom:!0,imageAnimation:li.Zoom,previewCloseOnClick:!0,previewCloseOnEsc:!0,thumbnailsColumns:6,previewAutoPlayPauseOnHover:!0,previewInfinityMove:!0},{breakpoint:800,width:"100%",height:"600px",imagePercent:80,thumbnailsPercent:20,preview:!0,previewZoom:!0,thumbnailsMargin:20,thumbnailMargin:20},{breakpoint:400,preview:!0,previewZoom:!0}]}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Ln),l.Y36(er),l.Y36(fA))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-item-details"]],decls:22,vars:11,consts:[[1,"container"],[1,"row"],[1,"col-md-9","col-xs-12"],[1,"ngx-gallery",3,"options","images"],[3,"thumbImage","fullImage"],[1,"col-md-3","col-xs-12","item-cap"],[1,"mt-5","mb-5"],[1,"mb-5"],[1,"btn","btn-warning","text-bold",2,"width","100%","margin-top","30%","font-weight","500"],[1,"row","mt-5"],[1,"col-md-12","col-xs-12"],[1,"Electeical",3,"OnCreate"],[1,"title"],[1,"carousel",3,"config"],["slickModal","slick-carousel"],["ngxSlickItem","","class","slide publicproduct",4,"ngFor","ngForOf"],["ngxSlickItem","",1,"slide","publicproduct"],[1,"publicproductdiv"],["alt","","width","100%",1,"card-img",3,"src"],[1,"productcap"],[3,"routerLink","click"],[1,"price"],[1,"card-text","mount"]],template:function(t,i){1&t&&(l.TgZ(0,"div",0)(1,"div",1)(2,"div",2),l._UZ(3,"ngx-gallery",3)(4,"lib-ngx-image-zoom",4),l.qZA(),l.TgZ(5,"div",5)(6,"div",6),l._uU(7),l.qZA(),l.TgZ(8,"div",7),l._uU(9),l.qZA(),l.TgZ(10,"div"),l._uU(11),l.qZA(),l.TgZ(12,"button",8),l._uU(13,"\u0627\u0636\u0627\u0641\u0629 \u0627\u0644\u064a \u0639\u0631\u0628\u0629 \u0627\u0644\u0634\u0631\u0627\u0621"),l.qZA()()(),l.TgZ(14,"div",9),l.ynx(15,10),l.TgZ(16,"div",11),l.NdJ("OnCreate",function(){return i.getProductcat(i.GetProduct.productcat[0])}),l.TgZ(17,"div",12),l._uU(18),l.qZA(),l.TgZ(19,"ngx-slick-carousel",13,14),l.YNc(21,p7,11,5,"div",15),l.qZA()(),l.BQk(),l.qZA()()),2&t&&(l.xp6(3),l.Q6J("options",i.galleryOptions)("images",i.galleryImages),l.xp6(1),l.Q6J("thumbImage",i.galleryImages)("fullImage",i.galleryImages),l.xp6(3),l.Oqu(i.GetProduct.productname),l.xp6(2),l.hij("\u0627\u0644\u0633\u0639\u0631 :",i.GetProduct.saleprice," \u062c\u0646\u064a\u0629 "),l.xp6(2),l.hij("\u0627\u0644\u0643\u0645\u064a\u0629 \u0627\u0644\u0645\u062a\u0648\u0641\u0631\u0629 : ",i.GetProduct.mount,""),l.xp6(7),l.hij(" \u0645\u0646\u062c\u0627\u062a \u0630\u0627\u062a \u0635\u0644\u0629 \u0628 ",i.GetProduct.productcat[1]," "),l.xp6(1),l.Q6J("config",i.slideConfig),l.xp6(2),l.Q6J("ngForOf",i.productcategory?i.productcategory.slice(0,20):l.DdM(10,g7)))},dependencies:[rn,Gd,TN,cU,Xq,h7,DN],styles:[".ngx-gallery[_ngcontent-%COMP%]{display:inline-block;margin-bottom:20px}.card-img[_ngcontent-%COMP%]{height:200px}.item-cap[_ngcontent-%COMP%]{font-size:20px;font-family:monospace,Readex Pro,sans-serif;font-weight:700}"]}),n})();const _7=["frameElement"],y7=["panElement"],v7=["zoomElement"],w7=["panzoomOverlay"],QA=class{constructor(e){ot(this,"zone"),ot(this,"frameElementRef"),ot(this,"panElementRef"),ot(this,"zoomElementRef"),ot(this,"panzoomOverlayRef"),ot(this,"config"),ot(this,"base"),ot(this,"model"),ot(this,"api"),ot(this,"contentHeight"),ot(this,"contentWidth"),ot(this,"frameHeight"),ot(this,"frameWidth"),ot(this,"lastMouseEventTime"),ot(this,"previousPosition"),ot(this,"isDragging",!1),ot(this,"panVelocity"),ot(this,"animationParams"),ot(this,"animationFrameFunc"),ot(this,"lastTick",0),ot(this,"isChrome",!1),ot(this,"willChangeNextFrame",!0),ot(this,"animationId"),ot(this,"isMobile",!1),ot(this,"scale"),ot(this,"isFirstSync",!0),ot(this,"lastClickPoint"),ot(this,"zoomLevelIsChanging",!1),ot(this,"dragFinishing",!1),ot(this,"dragMouseButton"),ot(this,"maxScale"),ot(this,"minScale"),ot(this,"minimumAllowedZoomLevel"),ot(this,"resizeObserver"),ot(this,"onMouseWheel",e=>{if(!(e&&e.pageX&&e.pageY))return;let t=e.deltaY;if(this.config.zoomOnMouseWheel){if(this.animationParams)return;this.config.invertMouseWheel||(t=-t);const i=this.getFrameElementOffset(),r={x:e.pageX-i.left,y:e.pageY-i.top};this.lastClickPoint=r,this.config.freeMouseWheel?this.freeZoom(r,t):t<0?this.zoomInToPoint(r):t>0&&this.zoomOutFromPoint(r)}}),ot(this,"onMousedown",e=>{if(!(this.config.noDragFromElementClass&&this.isParentElement(this.config.noDragFromElementClass,e.srcElement)||e.button!==this.dragMouseButton&&"touchstart"!==e.type))return"touchstart"!==e.type&&e.preventDefault(),this.dragFinishing=!1,this.panVelocity=void 0,this.config.panOnClickDrag&&(this.previousPosition={x:e.pageX,y:e.pageY},this.lastMouseEventTime=e.timeStamp,this.isDragging=!0,this.model.isPanning=!1,this.isMobile?(this.zone.runOutsideAngular(()=>document.addEventListener("touchend",this.onTouchEnd,!1)),this.zone.runOutsideAngular(()=>document.addEventListener("touchmove",this.onTouchMove,{passive:!0,capture:!1}))):(this.zone.runOutsideAngular(()=>document.addEventListener("mousemove",this.onMouseMove,{passive:!0,capture:!1})),this.zone.runOutsideAngular(()=>document.addEventListener("mouseup",this.onMouseUp)))),!1}),ot(this,"onTouchStart",e=>{if(1!==e.touches.length){const t=e.touches[0].pageX-e.touches[1].pageX,i=e.touches[0].pageY-e.touches[1].pageY;this.previousPosition={length:t*t+i*i}}this.onMousedown(e)}),ot(this,"onMouseMove",e=>{let t;if(e&&e.pageX&&e.pageY)t=e;else{if("touchmove"!==e.type||!e.touches[0].pageX||!e.touches[0].pageY)return;t={pageX:e.touches[0].pageX,pageY:e.touches[0].pageY}}const i=e.timeStamp,r=(i-this.lastMouseEventTime)/1e3;this.lastMouseEventTime=i;const s={x:t.pageX-this.previousPosition.x,y:t.pageY-this.previousPosition.y};if(this.config.keepInBounds){const y=this.getViewPosition({x:0,y:0}),I=this.getViewPosition({x:this.contentWidth,y:this.contentHeight});y.x>0&&s.x>0&&(s.x*=Math.min(1,Math.pow(y.x,-this.config.keepInBoundsDragPullback))),y.y>0&&s.y>0&&(s.y*=Math.min(1,Math.pow(y.y,-this.config.keepInBoundsDragPullback))),I.x<this.contentWidth&&s.x<0&&(s.x*=Math.min(1,Math.pow(this.contentWidth-I.x,-this.config.keepInBoundsDragPullback))),I.y<this.contentHeight&&s.y<0&&(s.y*=Math.min(1,Math.pow(this.contentHeight-I.y,-this.config.keepInBoundsDragPullback)))}const u_y=s.y||0;this.model.pan.x+=s.x||0,this.model.pan.y+=u_y,this.syncBaseToModel(),this.animationTick(),this.model.isPanning||(this.panzoomOverlayRef.nativeElement.style.display="block"),this.model.isPanning=!0;const h=s.x/r,g=s.y/r;this.panVelocity={x:Number.isFinite(h)?h:0,y:Number.isFinite(g)?g:0},this.previousPosition={x:t.pageX,y:t.pageY}}),ot(this,"onTouchMove",e=>{if(1===e.touches.length)this.onMouseMove(e);else{const t=e.touches[0].pageX-e.touches[1].pageX,i=e.touches[0].pageY-e.touches[1].pageY,r=t*t+i*i,s=r-this.previousPosition.length;if(Math.abs(s)<100)return;const u=e.touches[1].pageX+t/2,h=e.touches[1].pageY+i/2,g=this.getFrameElementOffset(),y={x:u-g.left,y:h-g.top};this.lastClickPoint=y,this.changeZoomLevel(this.base.zoomLevel+1e-4*s,y),this.previousPosition={length:r}}}),ot(this,"onMouseUp",e=>{if(e.button!==this.dragMouseButton&&"touchend"!==e.type)return;"touchend"!==e.type&&e.preventDefault();const i=(e.timeStamp-this.lastMouseEventTime)/1e3;if(!this.panVelocity||0===this.panVelocity.x&&0===this.panVelocity.y)this.panVelocity=void 0,this.dragFinishing=!1,this.model.isPanning=!1,this.config.modelChanged.next(this.model),this.syncBaseToModel();else{const r=Math.max(0,-.2+Math.pow(i+1,-4));this.panVelocity.x*=r,this.panVelocity.y*=r,this.dragFinishing=!0,this.zone.runOutsideAngular(()=>this.animationId=this.animationFrameFunc(this.animationTick))}this.isDragging=!1,this.isMobile?(this.zone.runOutsideAngular(()=>document.removeEventListener("touchend",this.onTouchEnd)),this.zone.runOutsideAngular(()=>document.removeEventListener("touchmove",this.onTouchMove,{passive:!0,capture:!1}))):(this.zone.runOutsideAngular(()=>document.removeEventListener("mousemove",this.onMouseMove,{passive:!0,capture:!1})),this.zone.runOutsideAngular(()=>document.removeEventListener("mouseup",this.onMouseUp,{passive:!0}))),this.panzoomOverlayRef.nativeElement.style.display="none"}),ot(this,"onTouchEnd",e=>{this.onMouseUp(e)}),ot(this,"onDblClick",e=>{if(e.preventDefault(),!this.config.zoomOnDoubleClick)return;const t=this.getFrameElementOffset(),i={x:e.pageX-t.left,y:e.pageY-t.top};this.lastClickPoint=i,this.zoomInToPoint(i)}),ot(this,"preventDefault",e=>{e.preventDefault()}),ot(this,"animationTick",(e=performance.now())=>{let t=0;if(0!==this.lastTick&&(t=e-this.lastTick),this.lastTick=e,this.animationParams&&(this.animationParams.progress+=Math.abs(t/this.animationParams.duration),this.animationParams.progress>=1&&(this.animationParams.progress=1,this.updateDOM(),this.animationParams=void 0)),this.panVelocity&&this.dragFinishing)for(t>0&&(t/=1e3);t>0;){const i=Math.min(.02,t);if(t-=i,this.model.pan.x=this.model.pan.x+this.panVelocity.x*i,this.panVelocity.x=this.panVelocity.x*(1-this.config.friction*i),this.model.pan.y=this.model.pan.y+this.panVelocity.y*i,this.panVelocity.y=this.panVelocity.y*(1-this.config.friction*i),this.length(this.panVelocity)<=this.config.haltSpeed){this.panVelocity=void 0,this.dragFinishing=!1;break}}if(this.config.keepInBounds||this.dragFinishing){const i=this.getViewPosition({x:0,y:0}),r=this.getViewPosition({x:this.contentWidth,y:this.contentHeight});i.x>0&&(this.base.pan.x-=this.config.keepInBoundsRestoreForce*i.x),i.y>0&&(this.base.pan.y-=this.config.keepInBoundsRestoreForce*i.y),r.x<this.contentWidth&&(this.base.pan.x-=this.config.keepInBoundsRestoreForce*(r.x-this.contentWidth)),r.y<this.contentHeight&&(this.base.pan.y-=this.config.keepInBoundsRestoreForce*(r.y-this.contentHeight))}if(this.updateDOM(),this.config.modelChanged.next(this.model),this.animationParams||this.panVelocity&&this.dragFinishing)this.isChrome&&this.zoomLevelIsChanging&&(this.zoomElementRef.nativeElement.style.willChange=this.willChangeNextFrame?"auto":"transform",this.willChangeNextFrame=!this.willChangeNextFrame),this.animationFrameFunc(this.animationTick);else{if(this.panVelocity&&!this.dragFinishing)return;this.model.isPanning&&(this.model.isPanning=!1),this.syncBaseToModel(),this.config.modelChanged.next(this.model),this.scale=this.getCssScale(this.base.zoomLevel),this.willChangeNextFrame=!0,this.zoomElementRef.nativeElement.style.willChange="transform",this.zoomLevelIsChanging=!1,this.lastTick=0}}),this.zone=e}ngOnInit(){switch(this.base=this.config.initialZoomToFit?this.calcZoomToFit(this.config.initialZoomToFit):{zoomLevel:this.config.initialZoomLevel,pan:{x:this.config.initialPanX,y:this.config.initialPanY}},this.model={zoomLevel:this.base.zoomLevel,isPanning:!1,pan:{x:this.base.pan.x,y:this.base.pan.y}},this.config.modelChanged.next(this.model),this.api={model:this.model,config:this.config,changeZoomLevel:this.zoomToLevelAndPoint.bind(this),zoomIn:this.zoomIn.bind(this),zoomOut:this.zoomOut.bind(this),zoomToFit:this.zoomToFit.bind(this),resetView:this.resetView.bind(this),getViewPosition:this.getViewPosition.bind(this),getModelPosition:this.getModelPosition.bind(this),panToPoint:this.panToPoint.bind(this),panDelta:this.panDelta.bind(this),panDeltaPercent:this.panDeltaPercent.bind(this),panDeltaAbsolute:this.panDeltaAbsolute.bind(this),centerContent:this.centerContent.bind(this),centerX:this.centerX.bind(this),centerY:this.centerY.bind(this),centerTopLeft:this.centerTopLeftCorner.bind(this),centerBottomLeft:this.centerBottomLeftCorner.bind(this),centerTopRight:this.centerTopRightCorner.bind(this),centerBottomRight:this.centerBottomRightCorner.bind(this),updateContentDimensions:this.updateContentDimensions.bind(this),detectContentDimensions:this.detectContentDimensions.bind(this)},this.config.api.next(this.api),this.config.freeMouseWheel&&(this.scale=this.getCssScale(this.config.initialZoomLevel),this.maxScale=this.getCssScale(this.config.zoomLevels-1),this.minScale=this.getCssScale(0)),this.minimumAllowedZoomLevel=0,this.config.keepInBounds&&(this.minimumAllowedZoomLevel=this.config.neutralZoomLevel,this.minScale=this.getCssScale(this.config.neutralZoomLevel)),this.zoomElementRef.nativeElement.style.willChange="transform",navigator.userAgent.search("Chrome")>=0&&(this.isChrome=!0,this.zoomElementRef.nativeElement.style.transform="translateZ(0)"),this.config.acceleratePan&&(this.panElementRef.nativeElement.style.willChange="transform",navigator.userAgent.search("Chrome")>=0&&(this.isChrome=!0,this.panElementRef.nativeElement.style.transform="translateZ(0)")),this.animationTick(),this.scale=this.getCssScale(this.base.zoomLevel),this.isFirstSync=!1,this.config.dragMouseButton){case"left":default:this.dragMouseButton=0;break;case"middle":this.dragMouseButton=1,this.zone.runOutsideAngular(()=>this.frameElementRef.nativeElement.addEventListener("auxclick",this.preventDefault));break;case"right":this.zone.runOutsideAngular(()=>document.addEventListener("contextmenu",this.preventDefault)),this.dragMouseButton=2}}ngAfterViewInit(){this.detectContentDimensions();const e=getComputedStyle(this.frameElementRef.nativeElement);this.frameHeight=parseInt(e.getPropertyValue("height").split("px")[0]),this.frameWidth=parseInt(e.getPropertyValue("width").split("px")[0]),this.zone.runOutsideAngular(()=>this.animationFrameFunc=window.requestAnimationFrame),this.config.dynamicContentDimensions&&(window.ResizeObserver?(this.resizeObserver=new window.ResizeObserver(t=>this.onContentDimensionsChangeDetected(t)),this.zone.runOutsideAngular(()=>this.resizeObserver.observe(this.zoomElementRef.nativeElement))):console.error("ResizeObserver API is not supported by this browser.  See https://developer.mozilla.org/en-US/docs/Web/API/ResizeObserver for info on browser compatibility.")),this.isMobileDevice()?(this.isMobile=!0,this.zone.runOutsideAngular(()=>this.frameElementRef.nativeElement.addEventListener("touchstart",this.onTouchStart))):this.zone.runOutsideAngular(()=>{this.frameElementRef.nativeElement.addEventListener("mousedown",this.onMousedown),this.frameElementRef.nativeElement.addEventListener("dblclick",this.onDblClick),this.frameElementRef.nativeElement.addEventListener("wheel",t=>this.animationFrameFunc(()=>this.onMouseWheel(t)),{passive:!0})})}ngOnDestroy(){switch(this.isMobile?this.frameElementRef.nativeElement.removeEventListener("touchstart",this.onTouchStart):(this.frameElementRef.nativeElement.removeEventListener("mousedown",this.onMousedown),this.frameElementRef.nativeElement.removeEventListener("wheel",e=>this.animationFrameFunc(()=>this.onMouseWheel(e)),{passive:!0}),this.frameElementRef.nativeElement.removeEventListener("dblclick",this.onDblClick)),this.animationFrameFunc&&this.animationId&&window.cancelAnimationFrame(this.animationId),this.resizeObserver&&this.resizeObserver.disconnect(),this.config.dragMouseButton){case"middle":this.dragMouseButton=1,this.zone.runOutsideAngular(()=>this.frameElementRef.nativeElement.removeEventListener("auxclick",this.preventDefault));break;case"right":this.zone.runOutsideAngular(()=>document.removeEventListener("contextmenu",this.preventDefault)),this.dragMouseButton=2}}isParentElement(e,t){let i=t.parentNode;for(;null!==i;){if(i.classList&&i.classList.contains(e))return!0;i=i.parentNode}return!1}updateDOM(){if(this.animationParams){this.model.zoomLevel=this.base.zoomLevel+this.animationParams.deltaZoomLevel*this.animationParams.progress;const t=this.animationParams.panStepFunc(this.model.zoomLevel);if(this.model.pan.x=this.base.pan.x+t.x,this.model.pan.y=this.base.pan.y+t.y,this.config.keepInBounds){const i=this.getViewPosition({x:0,y:0}),r=this.getViewPosition({x:this.contentWidth,y:this.contentHeight});i.x>0&&(this.model.pan.x=0),i.y>0&&(this.model.pan.y=0),r.x<this.contentWidth&&(this.model.pan.x-=r.x-this.contentWidth),r.y<this.contentHeight&&(this.model.pan.y-=r.y-this.contentHeight)}}if(this.animationParams||this.isFirstSync){const r=`transform-origin: 0 0; transform: scale(${this.getCssScale(this.model.zoomLevel)});`;this.zoomElementRef.nativeElement.setAttribute("style",r)}this.panElementRef.nativeElement.style.transform=`translate3d(${this.model.pan.x}px, ${this.model.pan.y}px, 0)`}freeZoom(e,t){if(this.isDragging)return;this.animationParams&&(this.animationParams=void 0),this.panVelocity&&(this.dragFinishing=!1,this.panVelocity=void 0);const i_x=this.model.pan.x,i_y=this.model.pan.y,r=this.scale;let s=this.scale+t*this.config.freeMouseWheelFactor*this.scale;s=Math.max(this.minScale,Math.min(this.maxScale,s)),this.scale=s;const u={x:e.x-s/r*(e.x-i_x),y:e.y-s/r*(e.y-i_y)};this.panElementRef.nativeElement.style.transform=`translate3d(${u.x}px, ${u.y}px, 0)`;let y=`transform-origin: 0 0; transform: scale(${this.scale});`;this.isChrome&&(y+=this.willChangeNextFrame?" will-change: auto;":" will-change: transform;",this.willChangeNextFrame=!this.willChangeNextFrame),this.zoomElementRef.nativeElement.setAttribute("style",y),this.model.pan.x=u.x,this.model.pan.y=u.y,this.model.zoomLevel=this.getZoomLevel(this.scale),this.config.modelChanged.next(this.model),this.syncBaseToModel()}isMobileDevice(){return typeof window.orientation<"u"||-1!==navigator.userAgent.indexOf("IEMobile")}syncBaseToModel(){this.base.pan.x=this.model.pan.x,this.base.pan.y=this.model.pan.y,this.base.zoomLevel=this.model.zoomLevel}length(e){return Math.sqrt(e.x*e.x+e.y*e.y)}getCentrePoint(){return{x:this.frameElementRef.nativeElement.offsetWidth/2,y:this.frameElementRef.nativeElement.offsetHeight/2}}getCssScale(e){return Math.pow(this.config.scalePerZoomLevel,e-this.config.neutralZoomLevel)}getZoomLevel(e){return Math.log10(e)/Math.log10(this.config.scalePerZoomLevel)+this.config.neutralZoomLevel}calcZoomToFit(e){const t=this.frameElementRef.nativeElement.offsetWidth,i=this.frameElementRef.nativeElement.offsetHeight,r=e.width,s=e.height,u=Math.min(t/r,i/s),g=this.getZoomLevel(u)*this.config.zoomToFitZoomLevelFactor,y=this.getCssScale(g);return{zoomLevel:g,pan:{x:-e.x*y+(t-r*y)/2,y:-e.y*y+(i-s*y)/2}}}zoomToFitModel(e,t){this.model.isPanning=!0,this.animateToTarget(e,t)}zoomToLevelAndPoint(e,t){this.changeZoomLevel(e,t)}zoomIn(e="lastPoint"){"lastPoint"===e?this.changeZoomLevel(this.base.zoomLevel+this.config.zoomButtonIncrement,this.lastClickPoint):"viewCenter"===e&&this.changeZoomLevel(this.base.zoomLevel+this.config.zoomButtonIncrement,this.getCentrePoint())}zoomOut(e="lastPoint"){"lastPoint"===e?this.changeZoomLevel(this.base.zoomLevel-this.config.zoomButtonIncrement,this.lastClickPoint):"viewCenter"===e&&this.changeZoomLevel(this.base.zoomLevel-this.config.zoomButtonIncrement,this.getCentrePoint())}startAnimation(){this.lastTick=performance.now(),this.zone.runOutsideAngular(()=>this.animationId=this.animationFrameFunc(this.animationTick))}getFrameElementOffset(){const e=this.frameElementRef.nativeElement.getBoundingClientRect();return{top:e.top+window.scrollY,left:e.left+window.scrollX}}onContentDimensionsChangeDetected(e){this.contentHeight=e[0].contentRect.height,this.contentWidth=e[0].contentRect.width}getViewPosition(e){let t,i;if(this.animationParams){t=this.getCssScale(this.base.zoomLevel+this.animationParams.deltaZoomLevel*this.animationParams.progress);let r=this.animationParams.panStepFunc(this.model.zoomLevel);i={x:this.base.pan.x+r.x,y:this.base.pan.y+r.y}}else t=this.getCssScale(this.base.zoomLevel),i=this.base.pan;return{x:e.x*t+i.x,y:e.y*t+i.y}}getModelPosition(e){const t=e,i=this.getCssScale(this.base.zoomLevel),r=this.base.pan;return{x:1/i*(t.x-r.x),y:1/i*(t.y-r.y)}}resetView(){this.config.initialZoomToFit?this.zoomToFit(this.config.initialZoomToFit):void 0!==this.config.initialPanX&&void 0!==this.config.initialPanY&&void 0!==this.config.initialZoomLevel?this.zoomToFitModel({zoomLevel:this.config.initialZoomLevel,pan:{x:this.config.initialPanX,y:this.config.initialPanY}}):(console.error("PanZoomComponent: resetView() could not reset view as some vars were not set.  The culprits are either config.initialZoomLevel, config.initialPanX, or config.initialPanY.  Or just set panzoomConfig.initialZoomToFit"),console.log("config.initialZoomLevel: "+this.config.initialZoomLevel),console.log("config.initialPanX: "+this.config.initialPanX),console.log("config.initialPanY: "+this.config.initialPanY))}zoomToFit(e,t){const i=this.calcZoomToFit(e);this.model.isPanning=!0,this.animateToTarget(i,t)}zoomInToPoint(e){this.changeZoomLevel(this.base.zoomLevel+this.config.zoomButtonIncrement,e)}zoomOutFromPoint(e){this.changeZoomLevel(this.base.zoomLevel-this.config.zoomButtonIncrement,e)}panToPoint(e,t){const i={pan:{x:this.frameWidth/2-e.x*this.scale,y:this.frameHeight/2-e.y*this.scale},zoomLevel:this.base.zoomLevel};this.model.isPanning=!0,this.animateToTarget(i,t)}panToPointCurrentScale(e,t){const i={pan:{x:this.frameWidth/2-e.x,y:this.frameHeight/2-e.y},zoomLevel:this.base.zoomLevel};this.model.isPanning=!0,this.animateToTarget(i,t)}panDelta(e,t){const i={pan:{x:this.base.pan.x-this.scale*e.x,y:this.base.pan.y-this.scale*e.y},zoomLevel:this.base.zoomLevel};this.model.isPanning=!0,this.animateToTarget(i,t)}panDeltaAbsolute(e,t){const i={pan:{x:this.base.pan.x-e.x,y:this.base.pan.y-e.y},zoomLevel:this.base.zoomLevel};this.model.isPanning=!0,this.animateToTarget(i,t)}panDeltaPercent(e,t){let i=0,r=0;0!==e.x&&(i=this.contentWidth*(e.x/100)*this.scale),0!==e.y&&(r=this.contentHeight*(e.y/100)*this.scale);const s={pan:{x:this.base.pan.x-i,y:this.base.pan.y-r},zoomLevel:this.base.zoomLevel};this.model.isPanning=!0,this.animateToTarget(s,t)}centerContent(e){this.panToPoint({x:this.contentWidth/2,y:this.contentHeight/2},e)}centerX(e){const t={pan:{x:this.frameWidth/2-this.contentWidth/2*this.scale,y:this.base.pan.y},zoomLevel:this.base.zoomLevel};this.model.isPanning=!0,this.animateToTarget(t,e)}centerY(e){const t={pan:{x:this.base.pan.x,y:this.frameHeight/2-this.contentHeight/2*this.scale},zoomLevel:this.base.zoomLevel};this.model.isPanning=!0,this.animateToTarget(t,e)}centerTopLeftCorner(e){this.panToPoint({x:0,y:0},e)}centerBottomLeftCorner(e){this.panToPoint({x:0,y:this.contentHeight},e)}centerTopRightCorner(e){this.panToPoint({x:this.contentWidth,y:0},e)}centerBottomRightCorner(e){this.panToPoint({x:this.contentWidth,y:this.contentHeight},e)}updateContentDimensions(e,t){void 0!==t&&(this.contentHeight=t),void 0!==e&&(this.contentWidth=e)}detectContentDimensions(){const e=getComputedStyle(this.zoomElementRef.nativeElement);this.contentHeight=parseInt(e.getPropertyValue("height").split("px")[0]),this.contentWidth=parseInt(e.getPropertyValue("width").split("px")[0])}animateToTarget(e,t){if(this.animationParams)return;this.zoomLevelIsChanging=!1,this.base.zoomLevel!==e.zoomLevel&&(this.zoomLevelIsChanging=!0);const i=e.zoomLevel-this.base.zoomLevel,r_x=this.base.pan.x,r_y=this.base.pan.y;this.model.pan.x=this.base.pan.x,this.model.pan.y=this.base.pan.y,this.animationParams={deltaZoomLevel:i,panStepFunc:u=>({x:-(r_x-e.pan.x)*this.animationParams.progress,y:-(r_y-e.pan.y)*this.animationParams.progress}),duration:t=t?1e3*t:1e3*this.config.zoomStepDuration,progress:0},this.startAnimation()}changeZoomLevel(e,t){if(this.animationParams)return;this.zoomLevelIsChanging=!0,e=Math.max(this.minimumAllowedZoomLevel,e);const i=(e=Math.min(this.config.zoomLevels-1,e))-this.base.zoomLevel;if(!i)return;const r_x=this.base.pan.x,r_y=this.base.pan.y,s=this.scale,u=t||this.getCentrePoint();this.animationParams={deltaZoomLevel:i,panStepFunc:g=>{const y=this.getCssScale(g);return{x:u.x-y/s*(u.x-r_x)-r_x,y:u.y-y/s*(u.y-r_y)-r_y}},duration:1e3*this.config.zoomStepDuration,progress:0},this.startAnimation()}};let PA=QA;ot(PA,"\u0275fac",function(t){return new(t||QA)(l.Y36(l.R0b))}),ot(PA,"\u0275cmp",l.Xpm({type:QA,selectors:[["pan-zoom"]],viewQuery:function(t,i){if(1&t&&(l.Gf(_7,7),l.Gf(y7,7),l.Gf(v7,7),l.Gf(w7,7)),2&t){let r;l.iGM(r=l.CRH())&&(i.frameElementRef=r.first),l.iGM(r=l.CRH())&&(i.panElementRef=r.first),l.iGM(r=l.CRH())&&(i.zoomElementRef=r.first),l.iGM(r=l.CRH())&&(i.panzoomOverlayRef=r.first)}},inputs:{config:"config"},standalone:!0,features:[l.jDz],ngContentSelectors:["*"],decls:9,vars:0,consts:[[1,"pan-zoom-frame"],["frameElement",""],[1,"pan-element"],["panElement",""],[1,"zoom-element"],["zoomElement",""],[1,"pan-zoom-overlay"],["panzoomOverlay",""]],template:function(t,i){1&t&&(l.F$t(),l.TgZ(0,"div",0,1)(2,"div",2,3)(4,"div",4,5),l.Hsn(6),l.qZA()()(),l._UZ(7,"div",6,7))},styles:[".pan-zoom-frame[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;overflow:hidden}.pan-element[_ngcontent-%COMP%]{position:absolute;left:0;top:0}.pan-zoom-overlay[_ngcontent-%COMP%]{position:absolute;display:none;inset:0;opacity:0;pointer-events:none}"]}));const JA=class{};let W0=JA;ot(W0,"\u0275fac",function(t){return new(t||JA)}),ot(W0,"\u0275mod",l.oAB({type:JA})),ot(W0,"\u0275inj",l.cJS({}));class E7{constructor(e){ot(this,"zoomLevels",5),ot(this,"neutralZoomLevel",2),ot(this,"scalePerZoomLevel",2),ot(this,"initialZoomLevel",this.neutralZoomLevel),ot(this,"friction",10),ot(this,"haltSpeed",100),ot(this,"initialPanX",0),ot(this,"initialPanY",0),ot(this,"initialZoomToFit"),ot(this,"keepInBounds",!1),ot(this,"keepInBoundsDragPullback",.7),ot(this,"keepInBoundsRestoreForce",.5),ot(this,"panOnClickDrag",!0),ot(this,"dragMouseButton","left"),ot(this,"zoomButtonIncrement",1),ot(this,"zoomOnDoubleClick",!0),ot(this,"zoomOnMouseWheel",!0),ot(this,"invertMouseWheel",!1),ot(this,"zoomStepDuration",.2),ot(this,"zoomToFitZoomLevelFactor",.95),ot(this,"freeMouseWheel",!0),ot(this,"freeMouseWheelFactor",.08),ot(this,"noDragFromElementClass"),ot(this,"modelChanged",new ri({isPanning:null,zoomLevel:null,pan:{x:null,y:null}})),ot(this,"api",new ri({model:null,config:null,changeZoomLevel:null,zoomIn:null,zoomOut:null,zoomToFit:null,getViewPosition:null,getModelPosition:null,resetView:null,panToPoint:null,panDelta:null,panDeltaPercent:null,panDeltaAbsolute:null,centerContent:null,centerX:null,centerY:null,centerTopLeft:null,centerTopRight:null,centerBottomLeft:null,centerBottomRight:null,updateContentDimensions:null,detectContentDimensions:null})),ot(this,"acceleratePan",!0),ot(this,"dynamicContentDimensions",!1),void 0!==e&&("zoomLevels"in e&&(this.zoomLevels=e.zoomLevels),"neutralZoomLevel"in e&&(this.neutralZoomLevel=e.neutralZoomLevel),"scalePerZoomLevel"in e&&(this.scalePerZoomLevel=e.scalePerZoomLevel),"initialZoomLevel"in e&&(this.initialZoomLevel=e.initialZoomLevel),"friction"in e&&(this.friction=e.friction),"haltSpeed"in e&&(this.haltSpeed=e.haltSpeed),"initialPanX"in e&&(this.initialPanX=e.initialPanX),"initialPanY"in e&&(this.initialPanY=e.initialPanY),"initialZoomToFit"in e&&(this.initialZoomToFit=e.initialZoomToFit),"keepInBounds"in e&&(this.keepInBounds=e.keepInBounds),"keepInBoundsDragPullback"in e&&(this.keepInBoundsDragPullback=e.keepInBoundsDragPullback),"keepInBoundsRestoreForce"in e&&(this.keepInBoundsRestoreForce=e.keepInBoundsRestoreForce),"panOnClickDrag"in e&&(this.panOnClickDrag=e.panOnClickDrag),"dragMouseButton"in e&&(this.dragMouseButton=e.dragMouseButton),"zoomButtonIncrement"in e&&(this.zoomButtonIncrement=e.zoomButtonIncrement),"zoomOnDoubleClick"in e&&(this.zoomOnDoubleClick=e.zoomOnDoubleClick),"zoomOnMouseWheel"in e&&(this.zoomOnMouseWheel=e.zoomOnMouseWheel),"invertMouseWheel"in e&&(this.invertMouseWheel=e.invertMouseWheel),"zoomStepDuration"in e&&(this.zoomStepDuration=e.zoomStepDuration),"zoomToFitZoomLevelFactor"in e&&(this.zoomToFitZoomLevelFactor=e.zoomToFitZoomLevelFactor),"freeMouseWheel"in e&&(this.freeMouseWheel=e.freeMouseWheel),"freeMouseWheelFactor"in e&&(this.freeMouseWheelFactor=e.freeMouseWheelFactor),this.keepInBounds&&0!==this.neutralZoomLevel&&console.warn("You have set keepInBounds to true and neutralZoomLevel to "+this.neutralZoomLevel+". Be aware that the zoom level cannot go below "+this.neutralZoomLevel),"noDragFromElementClass"in e&&(this.noDragFromElementClass=e.noDragFromElementClass),"acceleratePan"in e&&(this.acceleratePan=e.acceleratePan),"dynamicContentDimensions"in e&&(this.dynamicContentDimensions=e.dynamicContentDimensions))}}function b7(n,e){if(1&n&&(l.TgZ(0,"div"),l._UZ(1,"img",11),l.qZA()),2&n){const t=l.oxw().$implicit;l.xp6(1),l.Q6J("src",t.selectedFile[0].imageurl,l.LSH)}}function I7(n,e){if(1&n&&(l.TgZ(0,"div",4)(1,"div",5),l.YNc(2,b7,2,1,"div",6),l.TgZ(3,"div",7)(4,"div",8)(5,"a",9)(6,"div"),l._uU(7),l.qZA()(),l.TgZ(8,"span",10),l._uU(9),l.qZA()()()()()),2&n){const t=e.$implicit;l.xp6(2),l.Q6J("ngIf",t.selectedFile[0]),l.xp6(3),l.MGl("routerLink","../../itemdetails/",null==t?null:t.id,""),l.xp6(2),l.Oqu(t.productname),l.xp6(2),l.hij("",t.saleprice," \u062c\u0646\u064a\u0629 ")}}const T7=[{path:"Product",component:sq},{path:"",redirectTo:"/Home",pathMatch:"full"},{path:"login",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-login"]],decls:29,vars:0,consts:[[1,"vh-100",2,"background-color","#f0ad4e"],[1,"container","py-5","h-100"],[1,"row","d-flex","justify-content-center","align-items-center","h-100"],[1,"col","col-xl-10"],[1,"card",2,"border-radius","1rem"],[1,"row","g-0"],[1,"col-md-6","col-lg-5","d-none","d-md-block"],["src","https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-login-form/img1.webp","alt","login form",1,"img-fluid",2,"border-radius","1rem 0 0 1rem"],[1,"col-md-6","col-lg-7","d-flex","align-items-center"],[1,"card-body","p-4","p-lg-5","text-black"],[1,"d-flex","align-items-center","mb-3","pb-1"],[1,"fas","fa-cubes","fa-2x","me-3",2,"color","#ff6219"],[1,"h1","fw-bold","mb-0"],[1,"form-outline","mb-4"],["for","form2Example17",1,"form-label"],["type","email","id","form2Example17",1,"form-control","form-control-lg"],["for","form2Example27",1,"form-label"],["type","password","id","form2Example27",1,"form-control","form-control-lg"],[1,"pt-1","mb-4"],["type","button",1,"btn","btn-dark","btn-lg","btn-block"],["href","#!",1,"small","text-muted"]],template:function(t,i){1&t&&(l.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),l._UZ(7,"img",7),l.qZA(),l.TgZ(8,"div",8)(9,"div",9)(10,"form")(11,"div",10),l._UZ(12,"i",11),l.TgZ(13,"span",12),l._uU(14,"\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644 "),l.qZA()(),l.TgZ(15,"div",13)(16,"label",14),l._uU(17," \u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0627\u0644\u0643\u062a\u0631\u0648\u0646\u064a "),l.qZA(),l._UZ(18,"input",15),l.qZA(),l.TgZ(19,"div",13)(20,"label",16),l._uU(21,"\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 "),l.qZA(),l._UZ(22,"input",17),l.qZA(),l.TgZ(23,"div",18)(24,"button",19),l._uU(25," \u062a\u0633\u062c\u064a\u0644 \u062f\u062e\u0648\u0644 "),l.qZA()(),l.TgZ(26,"a",20),l._uU(27," \u0647\u0644 \u0646\u0633\u064a\u062a \u0643\u0644\u0645\u0629 \u0627\u0644\u0633\u0631 ?"),l.qZA()()()()()()()()()(),l._uU(28,"\nLog"))},dependencies:[PB,gB,IA]}),n})()},{path:"Home",component:gq},{path:"itemdetails/:id",component:m7},{path:"subitem/:id",component:(()=>{class n{constructor(t,i,r){this._router=t,this.router=i,this.productSer=r,this.panZoomConfig=new E7}ngOnInit(){this.id=this.router.snapshot.params.id,this.productSer.getproductById(this.id).subscribe(t=>{this.GetProduct=t,console.log(this.GetProduct)})}getProductcat(t){return new Promise(i=>{console.log(t),this.productSer.getProductByCategoty(t).subscribe(r=>{i(r),console.log(r),this.productcategory=r})})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Ln),l.Y36(er),l.Y36(fA))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-subitem"]],decls:5,vars:2,consts:[[1,"container"],[1,"row",3,"OnCreate"],[1,"title","mt-2"],["class","p-4 col-md-3",4,"ngFor","ngForOf"],[1,"p-4","col-md-3"],[1,"card","p-2","product-card"],[4,"ngIf"],[1,"card-body","card-details","publicproductdiv"],[1,"productcap"],[3,"routerLink"],[1,"price"],["alt","Card image cap",1,"card-img-top","item-image",3,"src"]],template:function(t,i){1&t&&(l.TgZ(0,"div",0)(1,"div",1),l.NdJ("OnCreate",function(){return i.getProductcat(i.GetProduct.productcat[1])}),l.TgZ(2,"h2",2),l._uU(3),l.qZA(),l.YNc(4,I7,10,4,"div",3),l.qZA()()),2&t&&(l.xp6(3),l.Oqu(i.GetProduct.productcat[1]),l.xp6(1),l.Q6J("ngForOf",i.productcategory))},dependencies:[rn,jn,Gd,DN],styles:[".item-image[_ngcontent-%COMP%]{height:150px;margin:auto;width:auto;display:table;max-width:200px}.card-details[_ngcontent-%COMP%]{display:table;margin:auto}.publicproductdiv[_ngcontent-%COMP%]{border:none}"]}),n})()}];let D7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[LI.forRoot(T7),LI]}),n})(),S7=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-navbar"]],decls:19,vars:0,consts:[[1,"navbar","navbar-expand-lg","navbar-light","nav-bar"],[1,"container-fluid"],["type","button","data-mdb-toggle","collapse","data-mdb-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"fas","fa-bars"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],["href","#",1,"navbar-brand","mt-2","mt-lg-0"],["src","../../assets/img/logo.png","height","15","loading","lazy"],[1,"navbar-nav","search-prod"],["id","custom-search-input mt-5 ",1,"item-search"],[1,"input-group","col-md-12"],["type","text","placeholder","\u0639\u0646 \u0627\u064a \u0634\u0626 \u062a\u0628\u062d\u062b ",1,"form-control","input-sm"],[1,"input-group-btn"],["type","button",1,"btn","btn-warning"],[1,"glyphicon","glyphicon-search"],[1,"d-flex","align-items-center"],["routerLink","/login",1,"link-secondary","me-3","login"],["href","#",1,"link-secondary","me-3","register"]],template:function(t,i){1&t&&(l.TgZ(0,"nav",0)(1,"div",1)(2,"button",2),l._UZ(3,"i",3),l.qZA(),l.TgZ(4,"div",4)(5,"a",5),l._UZ(6,"img",6),l.qZA(),l.TgZ(7,"ul",7)(8,"div",8)(9,"div",9),l._UZ(10,"input",10),l.TgZ(11,"span",11)(12,"button",12),l._UZ(13,"i",13),l.qZA()()()()()(),l.TgZ(14,"div",14)(15,"a",15),l._uU(16," \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644 "),l.qZA(),l.TgZ(17,"a",16),l._uU(18," \u0627\u0646\u0634\u0627\u0621 \u062d\u0633\u0627\u0628 "),l.qZA()()()())},dependencies:[Gd],styles:[".navbar-brand[_ngcontent-%COMP%]{float:right!important}@media (min-width: 768px){.navbar[_ngcontent-%COMP%] > .container[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%], .navbar[_ngcontent-%COMP%] > .container-fluid[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]{margin-right:-15px}.navbar-nav[_ngcontent-%COMP%]{float:right}}.nav-bar[_ngcontent-%COMP%]{background-color:#f0ad4e!important;color:#fff;height:50px}.navbar-nav[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{color:#fff}@media (min-width: 992px){.navbar-expand-lg[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]{justify-content:center!important;float:none!important}}@media (min-width: 992px){.navbar-expand-lg[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding-right:20px!important;padding-left:20px!important;font-family:Cairo,sans-serif;font-family:Readex Pro,sans-serif}}#custom-search-input[_ngcontent-%COMP%]{padding:3px;border:solid 1px #E4E4E4;border-radius:6px;background-color:#fff}#custom-search-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:0;box-shadow:none}#custom-search-input[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:2px 0 0;background:none;box-shadow:none;border:0;color:#666;padding:0 8px 0 10px;border-left:solid 1px #ccc}#custom-search-input[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{border:0;box-shadow:none;border-left:solid 1px #ccc}#custom-search-input[_ngcontent-%COMP%]   .glyphicon-search[_ngcontent-%COMP%]{font-size:23px}.search-prod[_ngcontent-%COMP%]{margin-top:.5%}.item-search[_ngcontent-%COMP%]{width:60%}.login[_ngcontent-%COMP%], .register[_ngcontent-%COMP%]{color:#fff!important;font-family:Readex Pro,sans-serif}"]}),n})(),A7=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-footer"]],decls:55,vars:0,consts:[[1,"top-footer"],[1,"container"],[1,"row"],[1,"col-sm-5","col-lg-5","mt-footer"],[1,"list-inline","mt-2"],[1,"list-inline-item","mr-5","mt-5"],["href",""],[1,"fab","fa-twitter","fa-2x"],[1,"fab","fa-facebook-f","fa-2x"],[1,"fab","fa-google","fa-2x"],[1,"fab","fa-instagram","fa-2x"],[1,"col-sm-2","col-lg-2","mt-footer"],[1,"list_unstyled"],["href","index.html"],["href","service.html"],[1,"col-sm-2","col-lg-2","col-lg-2","mt-footer"],[1,"mt-5"],["href","#"],[1,"col-sm-3","col-lg-3","mt-footer"]],template:function(t,i){1&t&&(l.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"li")(5,"h3"),l._uU(6,"\u0627\u0648\u0631\u062c\u064a\u0646\u0627\u0644 \u0634\u0648\u0628 "),l.qZA()(),l.TgZ(7,"ul",4)(8,"li",5)(9,"a",6),l._UZ(10,"i",7),l.qZA()(),l.TgZ(11,"li",5)(12,"a",6),l._UZ(13,"i",8),l.qZA()(),l.TgZ(14,"li",5)(15,"a",6),l._UZ(16,"i",9),l.qZA()(),l.TgZ(17,"li",5)(18,"a",6),l._UZ(19,"i",10),l.qZA()()()(),l.TgZ(20,"div",11)(21,"ul",12)(22,"h3"),l._uU(23,"\u0627\u0644\u0631\u0648\u0627\u0628\u0637"),l.qZA(),l.TgZ(24,"li")(25,"a",13),l._uU(26," \u0627\u0644\u0631\u0626\u064a\u0633\u064a\u0629"),l.qZA()(),l.TgZ(27,"li")(28,"a",14),l._uU(29," \u062e\u062f\u0645\u0627\u062a\u0646\u0627"),l.qZA()(),l.TgZ(30,"li")(31,"a",6),l._uU(32," \u0627\u0644\u0627\u062a\u062c\u0627\u0647\u0627\u062a"),l.qZA()()()(),l.TgZ(33,"div",15)(34,"ul",16)(35,"li")(36,"a",17),l._uU(37,"\u0627\u0644\u0637\u0648\u0627\u0631\u0626 "),l.qZA()(),l.TgZ(38,"li")(39,"a",17),l._uU(40,"\u062d\u0648\u0644 \u062e\u062f\u0645\u0627\u062a\u0646\u0627 "),l.qZA()()()(),l.TgZ(41,"div",18)(42,"ul")(43,"li")(44,"h3"),l._uU(45,"\u0645\u0633\u0627\u0639\u062f\u0629"),l.qZA()(),l.TgZ(46,"li")(47,"a",17),l._uU(48,"\u0633\u064a\u0627\u0633\u0629 \u0627\u0644\u062e\u0635\u0648\u0635\u064a\u0629"),l.qZA()(),l.TgZ(49,"li")(50,"a",17),l._uU(51,"\u0627\u0644\u0628\u0646\u0648\u062f & \u0627\u0644\u0638\u0631\u0648\u0641"),l.qZA()(),l.TgZ(52,"li")(53,"a",17),l._uU(54,"\u0627\u0644\u062a\u0639\u0644\u064a\u0645\u0627\u062a"),l.qZA()()()()()()())},styles:["#footer[_ngcontent-%COMP%]{background-color:#000;flex:0 0 50px;margin-top:auto;width:100%;background-size:cover;background-repeat:no-repeat;padding-bottom:2%}.top-footer[_ngcontent-%COMP%]{margin-top:2%;background-color:#000}.mt-footer[_ngcontent-%COMP%]{margin-top:2%}.top-footer[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-family:Readex Pro,sans-serif;font-size:23px;line-height:1.5;color:#fff;font-weight:700;text-transform:capitalize;margin-bottom:20px}.top-footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:Readex Pro,sans-serif;font-size:13px;line-height:30px;color:#bdbdbd;font-weight:300;letter-spacing:1px;padding-right:20px}.top-footer[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style-type:none}.top-footer[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-family:Readex Pro,sans-serif;font-size:15px;line-height:50px;color:#dddfeb;font-weight:300;text-transform:capitalize;transition:color .3s;display:block;text-decoration:none}.top-footer[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#fff;font-weight:700;text-decoration:none}.footer-bottom[_ngcontent-%COMP%]{text-align:center;background-color:#1b1b1b;border-top:1px solid #2c2c2c;padding:30px 0}.footer-bottom[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-family:Readex Pro,sans-serif;font-size:12px;line-height:1;color:#888;font-weight:400;text-transform:uppercase;letter-spacing:2px;margin-top:7px;margin-bottom:3px}.footer-bottom[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-family:Readex Pro,sans-serif;font-size:11px;line-height:15px;color:#888;font-weight:400;text-transform:capitalize;letter-spacing:2px;margin-bottom:0}.center-column[_ngcontent-%COMP%]{margin-top:4%}#footer[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]{position:fixed;top:auto;left:6%;bottom:1%}#footer[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%], #footer[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{border:none}#footer[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]{margin:auto!important}#footer[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:32px;height:32px;margin-top:-3%}#footer[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-family:Readex Pro,sans-serif;color:#00133b;font-weight:700}"]}),n})(),x7=(()=>{class n{constructor(){this.title="StoreSite"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-root"]],decls:3,vars:0,template:function(t,i){1&t&&l._UZ(0,"app-navbar")(1,"router-outlet")(2,"app-footer")},dependencies:[p,S7,A7]}),n})();const M7={apiKey:"AIzaSyC4Pvl4JLKHgEDdK-iA_CxM_wVVQw28XRQ",authDomain:"e-commerce-56d61.firebaseapp.com",databaseURL:"https://e-commerce-56d61-default-rtdb.firebaseio.com",projectId:"e-commerce-56d61",storageBucket:"e-commerce-56d61.appspot.com",messagingSenderId:"78674212438",appId:"1:78674212438:web:9409d9853b274378662df7",measurementId:"G-76TXKZ7KLP"};let W7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Io]}),n})(),d9=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();class kU{}class RU{}class Ph{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),s=r.toLowerCase(),u=t.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(u):this.headers.set(s,[u])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let i=e[t];const r=t.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(t,r))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Ph?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Ph;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Ph?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const s=e.value;if(s){let u=this.headers.get(t);if(!u)return;u=u.filter(h=>-1===s.indexOf(h)),0===u.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,u)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class E9{encodeKey(e){return FU(e)}encodeValue(e){return FU(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const I9=/%(\d[a-f0-9])/gi,T9={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function FU(n){return encodeURIComponent(n).replace(I9,(e,t)=>T9[t]??e)}function NA(n){return`${n}`}class Qp{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new E9,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function b9(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[u,h]=-1==s?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,s)),e.decodeValue(r.slice(s+1))],g=t.get(u)||[];g.push(h),t.set(u,g)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t],r=Array.isArray(i)?i.map(NA):[NA(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(s=>{t.push({param:i,value:s,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Qp({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(NA(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(NA(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class D9{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function LU(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function VU(n){return typeof Blob<"u"&&n instanceof Blob}function BU(n){return typeof FormData<"u"&&n instanceof FormData}class Yb{constructor(e,t,i,r){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function S9(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Ph),this.context||(this.context=new D9),this.params){const u=this.params.toString();if(0===u.length)this.urlWithParams=t;else{const h=t.indexOf("?");this.urlWithParams=t+(-1===h?"?":h<t.length-1?"&":"")+u}}else this.params=new Qp,this.urlWithParams=t}serializeBody(){return null===this.body?null:LU(this.body)||VU(this.body)||BU(this.body)||function A9(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Qp?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||BU(this.body)?null:VU(this.body)?this.body.type||null:LU(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Qp?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,u=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,h=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let g=e.headers||this.headers,y=e.params||this.params;const I=e.context??this.context;return void 0!==e.setHeaders&&(g=Object.keys(e.setHeaders).reduce((S,P)=>S.set(P,e.setHeaders[P]),g)),e.setParams&&(y=Object.keys(e.setParams).reduce((S,P)=>S.set(P,e.setParams[P]),y)),new Yb(t,i,s,{params:y,headers:g,context:I,reportProgress:h,responseType:r,withCredentials:u})}}var Sr=(()=>((Sr=Sr||{})[Sr.Sent=0]="Sent",Sr[Sr.UploadProgress=1]="UploadProgress",Sr[Sr.ResponseHeader=2]="ResponseHeader",Sr[Sr.DownloadProgress=3]="DownloadProgress",Sr[Sr.Response=4]="Response",Sr[Sr.User=5]="User",Sr))();class NN{constructor(e,t=200,i="OK"){this.headers=e.headers||new Ph,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class kN extends NN{constructor(e={}){super(e),this.type=Sr.ResponseHeader}clone(e={}){return new kN({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class kA extends NN{constructor(e={}){super(e),this.type=Sr.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new kA({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class UU extends NN{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function RN(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let x9=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let s;if(t instanceof Yb)s=t;else{let g,y;g=r.headers instanceof Ph?r.headers:new Ph(r.headers),r.params&&(y=r.params instanceof Qp?r.params:new Qp({fromObject:r.params})),s=new Yb(t,i,void 0!==r.body?r.body:null,{headers:g,context:r.context,params:y,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const u=wt(s).pipe(Kr(g=>this.handler.handle(g)));if(t instanceof Yb||"events"===r.observe)return u;const h=u.pipe(Ji(g=>g instanceof kA));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return h.pipe((0,mt.U)(g=>{if(null!==g.body&&!(g.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return g.body}));case"blob":return h.pipe((0,mt.U)(g=>{if(null!==g.body&&!(g.body instanceof Blob))throw new Error("Response is not a Blob.");return g.body}));case"text":return h.pipe((0,mt.U)(g=>{if(null!==g.body&&"string"!=typeof g.body)throw new Error("Response is not a string.");return g.body}));default:return h.pipe((0,mt.U)(g=>g.body))}case"response":return h;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new Qp).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,RN(r,i))}post(t,i,r={}){return this.request("POST",t,RN(r,i))}put(t,i,r={}){return this.request("PUT",t,RN(r,i))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(kU))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class zU{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const HU=new l.OlP("HTTP_INTERCEPTORS");let M9=(()=>{class n{intercept(t,i){return i.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const P9=/^\)\]\}',?\n/;let jU=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Cr.y(i=>{const r=this.xhrFactory.build();if(r.open(t.method,t.urlWithParams),t.withCredentials&&(r.withCredentials=!0),t.headers.forEach((k,U)=>r.setRequestHeader(k,U.join(","))),t.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const k=t.detectContentTypeHeader();null!==k&&r.setRequestHeader("Content-Type",k)}if(t.responseType){const k=t.responseType.toLowerCase();r.responseType="json"!==k?k:"text"}const s=t.serializeBody();let u=null;const h=()=>{if(null!==u)return u;const k=r.statusText||"OK",U=new Ph(r.getAllResponseHeaders()),J=function O9(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||t.url;return u=new kN({headers:U,status:r.status,statusText:k,url:J}),u},g=()=>{let{headers:k,status:U,statusText:J,url:ue}=h(),Re=null;204!==U&&(Re=typeof r.response>"u"?r.responseText:r.response),0===U&&(U=Re?200:0);let Ye=U>=200&&U<300;if("json"===t.responseType&&"string"==typeof Re){const st=Re;Re=Re.replace(P9,"");try{Re=""!==Re?JSON.parse(Re):null}catch(yt){Re=st,Ye&&(Ye=!1,Re={error:yt,text:Re})}}Ye?(i.next(new kA({body:Re,headers:k,status:U,statusText:J,url:ue||void 0})),i.complete()):i.error(new UU({error:Re,headers:k,status:U,statusText:J,url:ue||void 0}))},y=k=>{const{url:U}=h(),J=new UU({error:k,status:r.status||0,statusText:r.statusText||"Unknown Error",url:U||void 0});i.error(J)};let I=!1;const S=k=>{I||(i.next(h()),I=!0);let U={type:Sr.DownloadProgress,loaded:k.loaded};k.lengthComputable&&(U.total=k.total),"text"===t.responseType&&!!r.responseText&&(U.partialText=r.responseText),i.next(U)},P=k=>{let U={type:Sr.UploadProgress,loaded:k.loaded};k.lengthComputable&&(U.total=k.total),i.next(U)};return r.addEventListener("load",g),r.addEventListener("error",y),r.addEventListener("timeout",y),r.addEventListener("abort",y),t.reportProgress&&(r.addEventListener("progress",S),null!==s&&r.upload&&r.upload.addEventListener("progress",P)),r.send(s),i.next({type:Sr.Sent}),()=>{r.removeEventListener("error",y),r.removeEventListener("abort",y),r.removeEventListener("load",g),r.removeEventListener("timeout",y),t.reportProgress&&(r.removeEventListener("progress",S),null!==s&&r.upload&&r.upload.removeEventListener("progress",P)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Il))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const FN=new l.OlP("XSRF_COOKIE_NAME"),LN=new l.OlP("XSRF_HEADER_NAME");class $U{}let N9=(()=>{class n{constructor(t,i,r){this.doc=t,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=El(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(de),l.LFG(l.Lbi),l.LFG(FN))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),VN=(()=>{class n{constructor(t,i){this.tokenService=t,this.headerName=i}intercept(t,i){const r=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||r.startsWith("http://")||r.startsWith("https://"))return i.handle(t);const s=this.tokenService.getToken();return null!==s&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,s)})),i.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG($U),l.LFG(LN))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),k9=(()=>{class n{constructor(t,i){this.backend=t,this.injector=i,this.chain=null}handle(t){if(null===this.chain){const i=this.injector.get(HU,[]);this.chain=i.reduceRight((r,s)=>new zU(r,s),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(RU),l.LFG(l.zs3))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),R9=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:VN,useClass:M9}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:FN,useValue:t.cookieName}:[],t.headerName?{provide:LN,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[VN,{provide:HU,useExisting:VN,multi:!0},{provide:$U,useClass:N9},{provide:FN,useValue:"XSRF-TOKEN"},{provide:LN,useValue:"X-XSRF-TOKEN"}]}),n})(),F9=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[x9,{provide:kU,useClass:k9},jU,{provide:RU,useExisting:jU}],imports:[R9.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),n})();function GU(n){return new l.vHH(3e3,!1)}function _Z(){return typeof window<"u"&&typeof window.document<"u"}function BN(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Jp(n){switch(n.length){case 0:return new Zb;case 1:return n[0];default:return new pU(n)}}function WU(n,e,t,i,r=new Map,s=new Map){const u=[],h=[];let g=-1,y=null;if(i.forEach(I=>{const S=I.get("offset"),P=S==g,k=P&&y||new Map;I.forEach((U,J)=>{let ue=J,Re=U;if("offset"!==J)switch(ue=e.normalizePropertyName(ue,u),Re){case"!":Re=r.get(J);break;case xh:Re=s.get(J);break;default:Re=e.normalizeStyleValue(J,ue,Re,u)}k.set(ue,Re)}),P||h.push(k),y=k,g=S}),u.length)throw function sZ(n){return new l.vHH(3502,!1)}();return h}function UN(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&zN(t,"start",n)));break;case"done":n.onDone(()=>i(t&&zN(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&zN(t,"destroy",n)))}}function zN(n,e,t){const s=HN(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),u=n._data;return null!=u&&(s._data=u),s}function HN(n,e,t,i,r="",s=0,u){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:s,disabled:!!u}}function Ca(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function qU(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let jN=(n,e)=>!1,ZU=(n,e,t)=>[],KU=null;function $N(n){const e=n.parentNode||n.host;return e===KU?null:e}(BN()||typeof Element<"u")&&(_Z()?(KU=(()=>document.documentElement)(),jN=(n,e)=>{for(;e;){if(e===n)return!0;e=$N(e)}return!1}):jN=(n,e)=>n.contains(e),ZU=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]});let L_=null,YU=!1;const QU=jN,JU=ZU;let XU=(()=>{class n{validateStyleProperty(t){return function vZ(n){L_||(L_=function wZ(){return typeof document<"u"?document.body:null}()||{},YU=!!L_.style&&"WebkitAppearance"in L_.style);let e=!0;return L_.style&&!function yZ(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in L_.style,!e&&YU&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in L_.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return QU(t,i)}getParentElement(t){return $N(t)}query(t,i,r){return JU(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,s,u,h=[],g){return new Zb(r,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),GN=(()=>{class n{}return n.NOOP=new XU,n})();const WN="ng-enter",RA="ng-leave",FA="ng-trigger",LA=".ng-trigger",t6="ng-animating",qN=".ng-animating";function Oh(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:ZN(parseFloat(e[1]),e[2])}function ZN(n,e){return"s"===e?1e3*n:n}function VA(n,e,t){return n.hasOwnProperty("duration")?n:function bZ(n,e,t){let r,s=0,u="";if("string"==typeof n){const h=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===h)return e.push(GU()),{duration:0,delay:0,easing:""};r=ZN(parseFloat(h[1]),h[2]);const g=h[3];null!=g&&(s=ZN(parseFloat(g),h[4]));const y=h[5];y&&(u=y)}else r=n;if(!t){let h=!1,g=e.length;r<0&&(e.push(function L9(){return new l.vHH(3100,!1)}()),h=!0),s<0&&(e.push(function V9(){return new l.vHH(3101,!1)}()),h=!0),h&&e.splice(g,0,GU())}return{duration:r,delay:s,easing:u}}(n,e,t)}function Qb(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function n6(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function Xp(n,e=new Map,t){if(t)for(let[i,r]of t)e.set(i,r);for(let[i,r]of n)e.set(i,r);return e}function r6(n,e,t){return t?e+":"+t+";":""}function s6(n){let e="";for(let t=0;t<n.style.length;t++){const i=n.style.item(t);e+=r6(0,i,n.style.getPropertyValue(i))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=r6(0,SZ(t),n.style[t]));n.setAttribute("style",e)}function qc(n,e,t){n.style&&(e.forEach((i,r)=>{const s=YN(r);t&&!t.has(r)&&t.set(r,n.style[s]),n.style[s]=i}),BN()&&s6(n))}function V_(n,e){n.style&&(e.forEach((t,i)=>{const r=YN(i);n.style[r]=""}),BN()&&s6(n))}function Jb(n){return Array.isArray(n)?1==n.length?n[0]:hU(n):n}const KN=new RegExp("{{\\s*(.+?)\\s*}}","g");function o6(n){let e=[];if("string"==typeof n){let t;for(;t=KN.exec(n);)e.push(t[1]);KN.lastIndex=0}return e}function Xb(n,e,t){const i=n.toString(),r=i.replace(KN,(s,u)=>{let h=e[u];return null==h&&(t.push(function U9(n){return new l.vHH(3003,!1)}()),h=""),h.toString()});return r==i?n:r}function BA(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const DZ=/-+([a-z0-9])/g;function YN(n){return n.replace(DZ,(...e)=>e[1].toUpperCase())}function SZ(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Ea(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function z9(n){return new l.vHH(3004,!1)}()}}function a6(n,e){return window.getComputedStyle(n)[e]}function NZ(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function kZ(n,e,t){if(":"==n[0]){const g=function RZ(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function tZ(n){return new l.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof g)return void e.push(g);n=g}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function eZ(n){return new l.vHH(3015,!1)}()),e;const r=i[1],s=i[2],u=i[3];e.push(l6(r,u));"<"==s[0]&&!("*"==r&&"*"==u)&&e.push(l6(u,r))}(i,t,e)):t.push(n),t}const jA=new Set(["true","1"]),$A=new Set(["false","0"]);function l6(n,e){const t=jA.has(n)||$A.has(n),i=jA.has(e)||$A.has(e);return(r,s)=>{let u="*"==n||n==r,h="*"==e||e==s;return!u&&t&&"boolean"==typeof r&&(u=r?jA.has(n):$A.has(n)),!h&&i&&"boolean"==typeof s&&(h=s?jA.has(e):$A.has(e)),u&&h}}const FZ=new RegExp("s*:selfs*,?","g");function QN(n,e,t,i){return new LZ(n).build(e,t,i)}class LZ{constructor(e){this._driver=e}build(e,t,i){const r=new UZ(t);return this._resetContextStyleTimingState(r),Ea(this,Jb(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const s=[],u=[];return"@"==e.name.charAt(0)&&t.errors.push(function j9(){return new l.vHH(3006,!1)}()),e.definitions.forEach(h=>{if(this._resetContextStyleTimingState(t),0==h.type){const g=h,y=g.name;y.toString().split(/\s*,\s*/).forEach(I=>{g.name=I,s.push(this.visitState(g,t))}),g.name=y}else if(1==h.type){const g=this.visitTransition(h,t);i+=g.queryCount,r+=g.depCount,u.push(g)}else t.errors.push(function $9(){return new l.vHH(3007,!1)}())}),{type:7,name:e.name,states:s,transitions:u,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const s=new Set,u=r||{};i.styles.forEach(h=>{h instanceof Map&&h.forEach(g=>{o6(g).forEach(y=>{u.hasOwnProperty(y)||s.add(y)})})}),s.size&&(BA(s.values()),t.errors.push(function G9(n,e){return new l.vHH(3008,!1)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=Ea(this,Jb(e.animation),t);return{type:1,matchers:NZ(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:B_(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>Ea(this,i,t)),options:B_(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const s=e.steps.map(u=>{t.currentTime=i;const h=Ea(this,u,t);return r=Math.max(r,t.currentTime),h});return t.currentTime=r,{type:3,steps:s,options:B_(e.options)}}visitAnimate(e,t){const i=function HZ(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return JN(VA(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=JN(0,0,"");return s.dynamic=!0,s.strValue=t,s}const r=VA(t,e);return JN(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,s=e.styles?e.styles:Ti({});if(5==s.type)r=this.visitKeyframes(s,t);else{let u=e.styles,h=!1;if(!u){h=!0;const y={};i.easing&&(y.easing=i.easing),u=Ti(y)}t.currentTime+=i.duration+i.delay;const g=this.visitStyle(u,t);g.isEmptyStep=h,r=g}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let h of r)"string"==typeof h?h===xh?i.push(h):t.errors.push(new l.vHH(3002,!1)):i.push(n6(h));let s=!1,u=null;return i.forEach(h=>{if(h instanceof Map&&(h.has("easing")&&(u=h.get("easing"),h.delete("easing")),!s))for(let g of h.values())if(g.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:i,easing:u,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,s=t.currentTime;i&&s>0&&(s-=i.duration+i.delay),e.styles.forEach(u=>{"string"!=typeof u&&u.forEach((h,g)=>{const y=t.collectedStyles.get(t.currentQuerySelector),I=y.get(g);let S=!0;I&&(s!=r&&s>=I.startTime&&r<=I.endTime&&(t.errors.push(function q9(n,e,t,i,r){return new l.vHH(3010,!1)}()),S=!1),s=I.startTime),S&&y.set(g,{startTime:s,endTime:r}),t.options&&function TZ(n,e,t){const i=e.params||{},r=o6(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||t.push(function B9(n){return new l.vHH(3001,!1)}())})}(h,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function Z9(){return new l.vHH(3011,!1)}()),i;let s=0;const u=[];let h=!1,g=!1,y=0;const I=e.steps.map(Re=>{const Ye=this._makeStyleAst(Re,t);let st=null!=Ye.offset?Ye.offset:function zZ(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(Ye.styles),yt=0;return null!=st&&(s++,yt=Ye.offset=st),g=g||yt<0||yt>1,h=h||yt<y,y=yt,u.push(yt),Ye});g&&t.errors.push(function K9(){return new l.vHH(3012,!1)}()),h&&t.errors.push(function Y9(){return new l.vHH(3200,!1)}());const S=e.steps.length;let P=0;s>0&&s<S?t.errors.push(function Q9(){return new l.vHH(3202,!1)}()):0==s&&(P=1/(S-1));const k=S-1,U=t.currentTime,J=t.currentAnimateTimings,ue=J.duration;return I.forEach((Re,Ye)=>{const st=P>0?Ye==k?1:P*Ye:u[Ye],yt=st*ue;t.currentTime=U+J.delay+yt,J.duration=yt,this._validateStyleAst(Re,t),Re.offset=st,i.styles.push(Re)}),i}visitReference(e,t){return{type:8,animation:Ea(this,Jb(e.animation),t),options:B_(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:B_(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:B_(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[s,u]=function VZ(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(FZ,"")),n=n.replace(/@\*/g,LA).replace(/@\w+/g,t=>LA+"-"+t.slice(1)).replace(/:animating/g,qN),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+s:s,Ca(t.collectedStyles,t.currentQuerySelector,new Map);const h=Ea(this,Jb(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:u,animation:h,originalSelector:e.selector,options:B_(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function J9(){return new l.vHH(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:VA(e.timings,t.errors,!0);return{type:12,animation:Ea(this,Jb(e.animation),t),timings:i,options:null}}}class UZ{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function B_(n){return n?(n=Qb(n)).params&&(n.params=function BZ(n){return n?Qb(n):null}(n.params)):n={},n}function JN(n,e,t){return{duration:n,delay:e,easing:t}}function XN(n,e,t,i,r,s,u=null,h=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:u,subTimeline:h}}class GA{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const GZ=new RegExp(":enter","g"),qZ=new RegExp(":leave","g");function ek(n,e,t,i,r,s=new Map,u=new Map,h,g,y=[]){return(new ZZ).buildKeyframes(n,e,t,i,r,s,u,h,g,y)}class ZZ{buildKeyframes(e,t,i,r,s,u,h,g,y,I=[]){y=y||new GA;const S=new tk(e,t,y,r,s,I,[]);S.options=g;const P=g.delay?Oh(g.delay):0;S.currentTimeline.delayNextStep(P),S.currentTimeline.setStyles([u],null,S.errors,g),Ea(this,i,S);const k=S.timelines.filter(U=>U.containsAnimation());if(k.length&&h.size){let U;for(let J=k.length-1;J>=0;J--){const ue=k[J];if(ue.element===t){U=ue;break}}U&&!U.allowOnlyTimelineStyles()&&U.setStyles([h],null,S.errors,g)}return k.length?k.map(U=>U.buildKeyframes()):[XN(t,[],[],[],0,P,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),s=t.currentTimeline.currentTime,u=this._visitSubInstructions(i,r,r.options);s!=u&&t.transformIntoNewTimeline(u)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(const r of e){const s=r?.delay;if(s){const u="number"==typeof s?s:Oh(Xb(s,r?.params??{},t.errors));i.delayNextStep(u)}}}_visitSubInstructions(e,t,i){let s=t.currentTimeline.currentTime;const u=null!=i.duration?Oh(i.duration):null,h=null!=i.delay?Oh(i.delay):null;return 0!==u&&e.forEach(g=>{const y=t.appendInstructionToTimeline(g,u,h);s=Math.max(s,y.duration+y.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),Ea(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const s=e.options;if(s&&(s.params||s.delay)&&(r=t.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=WA);const u=Oh(s.delay);r.delayNextStep(u)}e.steps.length&&(e.steps.forEach(u=>Ea(this,u,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?Oh(e.options.delay):0;e.steps.forEach(u=>{const h=t.createSubContext(e.options);s&&h.delayNextStep(s),Ea(this,u,h),r=Math.max(r,h.currentTimeline.currentTime),i.push(h.currentTimeline)}),i.forEach(u=>t.currentTimeline.mergeTimelineCollectedStyles(u)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return VA(t.params?Xb(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(i.duration),this.visitStyle(s,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const s=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(s):i.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,s=i.duration,h=t.createSubContext().currentTimeline;h.easing=i.easing,e.styles.forEach(g=>{h.forwardTime((g.offset||0)*s),h.setStyles(g.styles,g.easing,t.errors,t.options),h.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(h),t.transformIntoNewTimeline(r+s),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},s=r.delay?Oh(r.delay):0;s&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=WA);let u=i;const h=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=h.length;let g=null;h.forEach((y,I)=>{t.currentQueryIndex=I;const S=t.createSubContext(e.options,y);s&&S.delayNextStep(s),y===t.element&&(g=S.currentTimeline),Ea(this,e.animation,S),S.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,S.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(u),g&&(t.currentTimeline.mergeTimelineCollectedStyles(g),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,s=e.timings,u=Math.abs(s.duration),h=u*(t.currentQueryTotal-1);let g=u*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":g=h-g;break;case"full":g=i.currentStaggerTime}const I=t.currentTimeline;g&&I.delayNextStep(g);const S=I.currentTime;Ea(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-S+(r.startTime-i.currentTimeline.startTime)}}const WA={};class tk{constructor(e,t,i,r,s,u,h,g){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=u,this.timelines=h,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=WA,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=g||new qA(this._driver,t,0),h.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=Oh(i.duration)),null!=i.delay&&(r.delay=Oh(i.delay));const s=i.params;if(s){let u=r.params;u||(u=this.options.params={}),Object.keys(s).forEach(h=>{(!t||!u.hasOwnProperty(h))&&(u[h]=Xb(s[h],u,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,s=new tk(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=WA,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},s=new KZ(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,s,u){let h=[];if(r&&h.push(this.element),e.length>0){e=(e=e.replace(GZ,"."+this._enterClassName)).replace(qZ,"."+this._leaveClassName);let y=this._driver.query(this.element,e,1!=i);0!==i&&(y=i<0?y.slice(y.length+i,y.length):y.slice(0,i)),h.push(...y)}return!s&&0==h.length&&u.push(function X9(n){return new l.vHH(3014,!1)}()),h}}class qA{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new qA(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||xh),this._currentKeyframe.set(t,xh);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);const s=r&&r.params||{},u=function YZ(n,e){const t=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||e.keys();for(let s of i)t.set(s,xh)}else Xp(r,t)}),t}(e,this._globalTimelineStyles);for(let[h,g]of u){const y=Xb(g,s,i);this._pendingStyles.set(h,y),this._localTimelineStyles.has(h)||this._backFill.set(h,this._globalTimelineStyles.get(h)??xh),this._updateStyle(h,y)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((h,g)=>{const y=Xp(h,new Map,this._backFill);y.forEach((I,S)=>{"!"===I?e.add(S):I===xh&&t.add(S)}),i||y.set("offset",g/this.duration),r.push(y)});const s=e.size?BA(e.values()):[],u=t.size?BA(t.values()):[];if(i){const h=r[0],g=new Map(h);h.set("offset",0),g.set("offset",1),r=[h,g]}return XN(this.element,r,s,u,this.duration,this.startTime,this.easing,!1)}}class KZ extends qA{constructor(e,t,i,r,s,u,h=!1){super(e,t,u.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=h,this.timings={duration:u.duration,delay:u.delay,easing:u.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],u=i+t,h=t/u,g=Xp(e[0]);g.set("offset",0),s.push(g);const y=Xp(e[0]);y.set("offset",d6(h)),s.push(y);const I=e.length-1;for(let S=1;S<=I;S++){let P=Xp(e[S]);const k=P.get("offset");P.set("offset",d6((t+k*i)/u)),s.push(P)}i=u,t=0,r="",e=s}return XN(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function d6(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class nk{}const QZ=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class JZ extends nk{normalizePropertyName(e,t){return YN(e)}normalizeStyleValue(e,t,i,r){let s="";const u=i.toString().trim();if(QZ.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const h=i.match(/^[+-]?[\d\.]+([a-z]*)$/);h&&0==h[1].length&&r.push(function H9(n,e){return new l.vHH(3005,!1)}())}return u+s}}function h6(n,e,t,i,r,s,u,h,g,y,I,S,P){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:s,toState:i,toStyles:u,timelines:h,queriedElements:g,preStyleProps:y,postStyleProps:I,totalTime:S,errors:P}}const ik={};class f6{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function XZ(n,e,t,i,r){return n.some(s=>s(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,s,u,h,g,y,I){const S=[],P=this.ast.options&&this.ast.options.params||ik,U=this.buildStyles(i,h&&h.params||ik,S),J=g&&g.params||ik,ue=this.buildStyles(r,J,S),Re=new Set,Ye=new Map,st=new Map,yt="void"===r,Kt={params:e8(J,P),delay:this.ast.options?.delay},Yt=I?[]:ek(e,t,this.ast.animation,s,u,U,ue,Kt,y,S);let On=0;if(Yt.forEach(vl=>{On=Math.max(vl.duration+vl.delay,On)}),S.length)return h6(t,this._triggerName,i,r,yt,U,ue,[],[],Ye,st,On,S);Yt.forEach(vl=>{const Nh=vl.element,A6=Ca(Ye,Nh,new Set);vl.preStyleProps.forEach(G_=>A6.add(G_));const tI=Ca(st,Nh,new Set);vl.postStyleProps.forEach(G_=>tI.add(G_)),Nh!==t&&Re.add(Nh)});const Ts=BA(Re.values());return h6(t,this._triggerName,i,r,yt,U,ue,Yt,Ts,Ye,st,On)}}function e8(n,e){const t=Qb(e);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(t[i]=n[i]);return t}class t8{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,r=Qb(this.defaultParams);return Object.keys(e).forEach(s=>{const u=e[s];null!==u&&(r[s]=u)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((u,h)=>{u&&(u=Xb(u,r,t));const g=this.normalizer.normalizePropertyName(h,t);u=this.normalizer.normalizeStyleValue(h,g,u,t),i.set(g,u)})}),i}}class i8{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new t8(r.style,r.options&&r.options.params||{},i))}),p6(this.states,"true","1"),p6(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new f6(e,r,this.states))}),this.fallbackTransition=function r8(n,e,t){return new f6(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(u,h)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(u=>u.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function p6(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const s8=new GA;class o8{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],s=QN(this._driver,t,i,[]);if(i.length)throw function oZ(n){return new l.vHH(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,t,i){const r=e.element,s=WU(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(r,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],s=this._animations.get(e);let u;const h=new Map;if(s?(u=ek(this._driver,t,s,WN,RA,new Map,new Map,i,s8,r),u.forEach(I=>{const S=Ca(h,I.element,new Map);I.postStyleProps.forEach(P=>S.set(P,null))})):(r.push(function aZ(){return new l.vHH(3300,!1)}()),u=[]),r.length)throw function lZ(n){return new l.vHH(3504,!1)}();h.forEach((I,S)=>{I.forEach((P,k)=>{I.set(k,this._driver.computeStyle(S,k,xh))})});const y=Jp(u.map(I=>{const S=h.get(I.element);return this._buildPlayer(I,new Map,S)}));return this._playersById.set(e,y),y.onDestroy(()=>this.destroy(e)),this.players.push(y),y}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function uZ(n){return new l.vHH(3301,!1)}();return t}listen(e,t,i,r){const s=HN(t,"","","");return UN(this._getPlayer(e),i,s,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const s=this._getPlayer(e);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const g6="ng-animate-queued",rk="ng-animate-disabled",d8=[],m6={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},h8={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},_l="__ng_removed";class sk{constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function m8(n){return n??null}(i?e.value:e),i){const s=Qb(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const eI="void",ok=new sk(eI);class f8{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,yl(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw function cZ(n,e){return new l.vHH(3302,!1)}();if(null==i||0==i.length)throw function dZ(n){return new l.vHH(3303,!1)}();if(!function _8(n){return"start"==n||"done"==n}(i))throw function hZ(n,e){return new l.vHH(3400,!1)}();const s=Ca(this._elementListeners,e,[]),u={name:t,phase:i,callback:r};s.push(u);const h=Ca(this._engine.statesByElement,e,new Map);return h.has(t)||(yl(e,FA),yl(e,FA+"-"+t),h.set(t,ok)),()=>{this._engine.afterFlush(()=>{const g=s.indexOf(u);g>=0&&s.splice(g,1),this._triggers.has(t)||h.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function fZ(n){return new l.vHH(3401,!1)}();return t}trigger(e,t,i,r=!0){const s=this._getTrigger(t),u=new ak(this.id,t,e);let h=this._engine.statesByElement.get(e);h||(yl(e,FA),yl(e,FA+"-"+t),this._engine.statesByElement.set(e,h=new Map));let g=h.get(t);const y=new sk(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&g&&y.absorbOptions(g.options),h.set(t,y),g||(g=ok),y.value!==eI&&g.value===y.value){if(!function w8(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const s=t[r];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(g.params,y.params)){const J=[],ue=s.matchStyles(g.value,g.params,J),Re=s.matchStyles(y.value,y.params,J);J.length?this._engine.reportError(J):this._engine.afterFlush(()=>{V_(e,ue),qc(e,Re)})}return}const P=Ca(this._engine.playersByElement,e,[]);P.forEach(J=>{J.namespaceId==this.id&&J.triggerName==t&&J.queued&&J.destroy()});let k=s.matchTransition(g.value,y.value,e,y.params),U=!1;if(!k){if(!r)return;k=s.fallbackTransition,U=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:k,fromState:g,toState:y,player:u,isFallbackTransition:U}),U||(yl(e,g6),u.onStart(()=>{q0(e,g6)})),u.onDone(()=>{let J=this.players.indexOf(u);J>=0&&this.players.splice(J,1);const ue=this._engine.playersByElement.get(e);if(ue){let Re=ue.indexOf(u);Re>=0&&ue.splice(Re,1)}}),this.players.push(u),P.push(u),u}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,LA,!0);i.forEach(r=>{if(r[_l])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(u=>u.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const s=this._engine.statesByElement.get(e),u=new Map;if(s){const h=[];if(s.forEach((g,y)=>{if(u.set(y,g.value),this._triggers.has(y)){const I=this.trigger(e,y,eI,r);I&&h.push(I)}}),h.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,u),i&&Jp(h).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(s=>{const u=s.name;if(r.has(u))return;r.add(u);const g=this._triggers.get(u).fallbackTransition,y=i.get(u)||ok,I=new sk(eI),S=new ak(this.id,u,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:u,transition:g,fromState:y,toState:I,player:S,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(e):[];if(s&&s.length)r=!0;else{let u=e;for(;u=u.parentNode;)if(i.statesByElement.get(u)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const s=e[_l];(!s||s===m6)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){yl(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,u=this._elementListeners.get(s);u&&u.forEach(h=>{if(h.name==i.triggerName){const g=HN(s,i.triggerName,i.fromState.value,i.toState.value);g._data=e,UN(i.player,h.phase,g,h.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const s=i.transition.ast.depCount,u=r.transition.ast.depCount;return 0==s||0==u?s-u:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class p8{constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new f8(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let u=!1,h=this.driver.getParentElement(t);for(;h;){const g=r.get(h);if(g){const y=i.indexOf(g);i.splice(y+1,0,e),u=!0;break}h=this.driver.getParentElement(h)}u||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const s=this._fetchNamespace(r.namespaceId);s&&t.add(s)}return t}trigger(e,t,i,r){if(ZA(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!ZA(t))return;const s=t[_l];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const u=this.collectedLeaveElements.indexOf(t);u>=0&&this.collectedLeaveElements.splice(u,1)}if(e){const u=this._fetchNamespace(e);u&&u.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),yl(e,rk)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),q0(e,rk))}removeNode(e,t,i,r){if(ZA(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),i){const u=this.namespacesByHostElement.get(t);u&&u.id!==e&&u.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,i,r,s){this.collectedLeaveElements.push(t),t[_l]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,i,r,s){return ZA(t)?this._fetchNamespace(e).listen(t,i,r,s):()=>{}}_buildInstruction(e,t,i,r,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,LA,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,qN,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Jp(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[_l];if(t&&t.setForRemoval){if(e[_l]=m6,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(rk)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)yl(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?Jp(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function pZ(n){return new l.vHH(3402,!1)}()}_flushAnimations(e,t){const i=new GA,r=[],s=new Map,u=[],h=new Map,g=new Map,y=new Map,I=new Set;this.disabledNodes.forEach(xt=>{I.add(xt);const zt=this.driver.query(xt,".ng-animate-queued",!0);for(let Ht=0;Ht<zt.length;Ht++)I.add(zt[Ht])});const S=this.bodyNode,P=Array.from(this.statesByElement.keys()),k=v6(P,this.collectedEnterElements),U=new Map;let J=0;k.forEach((xt,zt)=>{const Ht=WN+J++;U.set(zt,Ht),xt.forEach(An=>yl(An,Ht))});const ue=[],Re=new Set,Ye=new Set;for(let xt=0;xt<this.collectedLeaveElements.length;xt++){const zt=this.collectedLeaveElements[xt],Ht=zt[_l];Ht&&Ht.setForRemoval&&(ue.push(zt),Re.add(zt),Ht.hasAnimation?this.driver.query(zt,".ng-star-inserted",!0).forEach(An=>Re.add(An)):Ye.add(zt))}const st=new Map,yt=v6(P,Array.from(Re));yt.forEach((xt,zt)=>{const Ht=RA+J++;st.set(zt,Ht),xt.forEach(An=>yl(An,Ht))}),e.push(()=>{k.forEach((xt,zt)=>{const Ht=U.get(zt);xt.forEach(An=>q0(An,Ht))}),yt.forEach((xt,zt)=>{const Ht=st.get(zt);xt.forEach(An=>q0(An,Ht))}),ue.forEach(xt=>{this.processLeaveNode(xt)})});const Kt=[],Yt=[];for(let xt=this._namespaceList.length-1;xt>=0;xt--)this._namespaceList[xt].drainQueuedTransitions(t).forEach(Ht=>{const An=Ht.player,ns=Ht.element;if(Kt.push(An),this.collectedEnterElements.length){const $s=ns[_l];if($s&&$s.setForMove){if($s.previousTriggersValues&&$s.previousTriggersValues.has(Ht.triggerName)){const W_=$s.previousTriggersValues.get(Ht.triggerName),wl=this.statesByElement.get(Ht.element);if(wl&&wl.has(Ht.triggerName)){const XA=wl.get(Ht.triggerName);XA.value=W_,wl.set(Ht.triggerName,XA)}}return void An.destroy()}}const Zc=!S||!this.driver.containsElement(S,ns),ba=st.get(ns),eg=U.get(ns),Ki=this._buildInstruction(Ht,i,eg,ba,Zc);if(Ki.errors&&Ki.errors.length)return void Yt.push(Ki);if(Zc)return An.onStart(()=>V_(ns,Ki.fromStyles)),An.onDestroy(()=>qc(ns,Ki.toStyles)),void r.push(An);if(Ht.isFallbackTransition)return An.onStart(()=>V_(ns,Ki.fromStyles)),An.onDestroy(()=>qc(ns,Ki.toStyles)),void r.push(An);const P6=[];Ki.timelines.forEach($s=>{$s.stretchStartingKeyframe=!0,this.disabledNodes.has($s.element)||P6.push($s)}),Ki.timelines=P6,i.append(ns,Ki.timelines),u.push({instruction:Ki,player:An,element:ns}),Ki.queriedElements.forEach($s=>Ca(h,$s,[]).push(An)),Ki.preStyleProps.forEach(($s,W_)=>{if($s.size){let wl=g.get(W_);wl||g.set(W_,wl=new Set),$s.forEach((XA,Kk)=>wl.add(Kk))}}),Ki.postStyleProps.forEach(($s,W_)=>{let wl=y.get(W_);wl||y.set(W_,wl=new Set),$s.forEach((XA,Kk)=>wl.add(Kk))})});if(Yt.length){const xt=[];Yt.forEach(zt=>{xt.push(function gZ(n,e){return new l.vHH(3505,!1)}())}),Kt.forEach(zt=>zt.destroy()),this.reportError(xt)}const On=new Map,Ts=new Map;u.forEach(xt=>{const zt=xt.element;i.has(zt)&&(Ts.set(zt,zt),this._beforeAnimationBuild(xt.player.namespaceId,xt.instruction,On))}),r.forEach(xt=>{const zt=xt.element;this._getPreviousPlayers(zt,!1,xt.namespaceId,xt.triggerName,null).forEach(An=>{Ca(On,zt,[]).push(An),An.destroy()})});const vl=ue.filter(xt=>C6(xt,g,y)),Nh=new Map;y6(Nh,this.driver,Ye,y,xh).forEach(xt=>{C6(xt,g,y)&&vl.push(xt)});const tI=new Map;k.forEach((xt,zt)=>{y6(tI,this.driver,new Set(xt),g,"!")}),vl.forEach(xt=>{const zt=Nh.get(xt),Ht=tI.get(xt);Nh.set(xt,new Map([...Array.from(zt?.entries()??[]),...Array.from(Ht?.entries()??[])]))});const G_=[],x6=[],M6={};u.forEach(xt=>{const{element:zt,player:Ht,instruction:An}=xt;if(i.has(zt)){if(I.has(zt))return Ht.onDestroy(()=>qc(zt,An.toStyles)),Ht.disabled=!0,Ht.overrideTotalTime(An.totalTime),void r.push(Ht);let ns=M6;if(Ts.size>1){let ba=zt;const eg=[];for(;ba=ba.parentNode;){const Ki=Ts.get(ba);if(Ki){ns=Ki;break}eg.push(ba)}eg.forEach(Ki=>Ts.set(Ki,ns))}const Zc=this._buildAnimation(Ht.namespaceId,An,On,s,tI,Nh);if(Ht.setRealPlayer(Zc),ns===M6)G_.push(Ht);else{const ba=this.playersByElement.get(ns);ba&&ba.length&&(Ht.parentPlayer=Jp(ba)),r.push(Ht)}}else V_(zt,An.fromStyles),Ht.onDestroy(()=>qc(zt,An.toStyles)),x6.push(Ht),I.has(zt)&&r.push(Ht)}),x6.forEach(xt=>{const zt=s.get(xt.element);if(zt&&zt.length){const Ht=Jp(zt);xt.setRealPlayer(Ht)}}),r.forEach(xt=>{xt.parentPlayer?xt.syncPlayerEvents(xt.parentPlayer):xt.destroy()});for(let xt=0;xt<ue.length;xt++){const zt=ue[xt],Ht=zt[_l];if(q0(zt,RA),Ht&&Ht.hasAnimation)continue;let An=[];if(h.size){let Zc=h.get(zt);Zc&&Zc.length&&An.push(...Zc);let ba=this.driver.query(zt,qN,!0);for(let eg=0;eg<ba.length;eg++){let Ki=h.get(ba[eg]);Ki&&Ki.length&&An.push(...Ki)}}const ns=An.filter(Zc=>!Zc.destroyed);ns.length?y8(this,zt,ns):this.processLeaveNode(zt)}return ue.length=0,G_.forEach(xt=>{this.players.push(xt),xt.onDone(()=>{xt.destroy();const zt=this.players.indexOf(xt);this.players.splice(zt,1)}),xt.play()}),G_}elementContainsData(e,t){let i=!1;const r=t[_l];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,s){let u=[];if(t){const h=this.playersByQueriedElement.get(e);h&&(u=h)}else{const h=this.playersByElement.get(e);if(h){const g=!s||s==eI;h.forEach(y=>{y.queued||!g&&y.triggerName!=r||u.push(y)})}}return(i||r)&&(u=u.filter(h=>!(i&&i!=h.namespaceId||r&&r!=h.triggerName))),u}_beforeAnimationBuild(e,t,i){const s=t.element,u=t.isRemovalTransition?void 0:e,h=t.isRemovalTransition?void 0:t.triggerName;for(const g of t.timelines){const y=g.element,I=y!==s,S=Ca(i,y,[]);this._getPreviousPlayers(y,I,u,h,t.toState).forEach(k=>{const U=k.getRealPlayer();U.beforeDestroy&&U.beforeDestroy(),k.destroy(),S.push(k)})}V_(s,t.fromStyles)}_buildAnimation(e,t,i,r,s,u){const h=t.triggerName,g=t.element,y=[],I=new Set,S=new Set,P=t.timelines.map(U=>{const J=U.element;I.add(J);const ue=J[_l];if(ue&&ue.removedBeforeQueried)return new Zb(U.duration,U.delay);const Re=J!==g,Ye=function v8(n){const e=[];return w6(n,e),e}((i.get(J)||d8).map(On=>On.getRealPlayer())).filter(On=>!!On.element&&On.element===J),st=s.get(J),yt=u.get(J),Kt=WU(0,this._normalizer,0,U.keyframes,st,yt),Yt=this._buildPlayer(U,Kt,Ye);if(U.subTimeline&&r&&S.add(J),Re){const On=new ak(e,h,J);On.setRealPlayer(Yt),y.push(On)}return Yt});y.forEach(U=>{Ca(this.playersByQueriedElement,U.element,[]).push(U),U.onDone(()=>function g8(n,e,t){let i=n.get(e);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,U.element,U))}),I.forEach(U=>yl(U,t6));const k=Jp(P);return k.onDestroy(()=>{I.forEach(U=>q0(U,t6)),qc(g,t.toStyles)}),S.forEach(U=>{Ca(r,U,[]).push(k)}),k}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new Zb(e.duration,e.delay)}}class ak{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new Zb,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>UN(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Ca(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function ZA(n){return n&&1===n.nodeType}function _6(n,e){const t=n.style.display;return n.style.display=e??"none",t}function y6(n,e,t,i,r){const s=[];t.forEach(g=>s.push(_6(g)));const u=[];i.forEach((g,y)=>{const I=new Map;g.forEach(S=>{const P=e.computeStyle(y,S,r);I.set(S,P),(!P||0==P.length)&&(y[_l]=h8,u.push(y))}),n.set(y,I)});let h=0;return t.forEach(g=>_6(g,s[h++])),u}function v6(n,e){const t=new Map;if(n.forEach(h=>t.set(h,[])),0==e.length)return t;const r=new Set(e),s=new Map;function u(h){if(!h)return 1;let g=s.get(h);if(g)return g;const y=h.parentNode;return g=t.has(y)?y:r.has(y)?1:u(y),s.set(h,g),g}return e.forEach(h=>{const g=u(h);1!==g&&t.get(g).push(h)}),t}function yl(n,e){n.classList?.add(e)}function q0(n,e){n.classList?.remove(e)}function y8(n,e,t){Jp(t).onDone(()=>n.processLeaveNode(e))}function w6(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof pU?w6(i.players,e):e.push(i)}}function C6(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(s=>r.add(s)):e.set(n,i),t.delete(n),!0}class KA{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new p8(e,t,i),this._timelineEngine=new o8(e,t,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(e,t,i,r,s){const u=e+"-"+r;let h=this._triggerCache[u];if(!h){const g=[],I=QN(this._driver,s,g,[]);if(g.length)throw function rZ(n,e){return new l.vHH(3404,!1)}();h=function n8(n,e,t){return new i8(n,e,t)}(r,I,this._normalizer),this._triggerCache[u]=h}this._transitionEngine.registerTrigger(t,r,h)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i,r){this._transitionEngine.removeNode(e,t,r||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[s,u]=qU(i);this._timelineEngine.command(s,t,u,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,s){if("@"==i.charAt(0)){const[u,h]=qU(i);return this._timelineEngine.listen(u,t,h,s)}return this._transitionEngine.listen(e,t,i,r,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let E8=(()=>{class n{constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&qc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(qc(this._element,this._initialStyles),this._endStyles&&(qc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(V_(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(V_(this._element,this._endStyles),this._endStyles=null),qc(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function lk(n){let e=null;return n.forEach((t,i)=>{(function b8(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class E6{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:a6(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class I8{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return QU(e,t)}getParentElement(e){return $N(e)}query(e,t,i){return JU(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,s,u=[]){const g={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(g.easing=s);const y=new Map,I=u.filter(k=>k instanceof E6);(function AZ(n,e){return 0===n||0===e})(i,r)&&I.forEach(k=>{k.currentSnapshot.forEach((U,J)=>y.set(J,U))});let S=function IZ(n){return n.length?n[0]instanceof Map?n:n.map(e=>n6(e)):[]}(t).map(k=>Xp(k));S=function xZ(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((s,u)=>{i.has(u)||r.push(u),i.set(u,s)}),r.length)for(let s=1;s<e.length;s++){let u=e[s];r.forEach(h=>u.set(h,a6(n,h)))}}return e}(e,S,y);const P=function C8(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=lk(e[0]),e.length>1&&(i=lk(e[e.length-1]))):e instanceof Map&&(t=lk(e)),t||i?new E8(n,t,i):null}(e,S);return new E6(e,S,g,P)}}let T8=(()=>{class n extends dU{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:l.ifc.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?hU(t):t;return b6(this._renderer,null,i,"register",[r]),new D8(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.FYo),l.LFG(de))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class D8 extends class _q{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new S8(this._id,e,t||{},this._renderer)}}class S8{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return b6(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function b6(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const I6="@.disabled";let A8=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(s,u)=>{const h=u?.parentNode(s);h&&u.removeChild(h,s)}}createRenderer(t,i){const s=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let I=this._rendererCache.get(s);return I||(I=new T6("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,I)),I}const u=i.id,h=i.id+"-"+this._currentId;this._currentId++,this.engine.register(h,t);const g=I=>{Array.isArray(I)?I.forEach(g):this.engine.registerTrigger(u,h,t,I.name,I)};return i.data.animation.forEach(g),new x8(this,h,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[u,h]=s;u(h)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.FYo),l.LFG(KA),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class T6{constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r,this.destroyNode=this.delegate.destroyNode?s=>t.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==I6?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class x8 extends T6{constructor(e,t,i,r,s){super(t,i,r,s),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==I6?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function M8(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.slice(1),u="";return"@"!=s.charAt(0)&&([s,u]=function P8(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,r,s,u,h=>{this.factory.scheduleListenerCallback(h._data||-1,i,h)})}return this.delegate.listen(e,t,i)}}let O8=(()=>{class n extends KA{constructor(t,i,r,s){super(t.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(de),l.LFG(GN),l.LFG(nk),l.LFG(l.z2F))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const D6=[{provide:dU,useClass:T8},{provide:nk,useFactory:function N8(){return new JZ}},{provide:KA,useClass:O8},{provide:l.FYo,useFactory:function k8(n,e,t){return new A8(n,e,t)},deps:[Ra,KA,l.R0b]}],uk=[{provide:GN,useFactory:()=>new I8},{provide:l.QbO,useValue:"BrowserAnimations"},...D6],S6=[{provide:GN,useClass:XU},{provide:l.QbO,useValue:"NoopAnimations"},...D6];let R8=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?S6:uk}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:uk,imports:[Zu]}),n})(),F8=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n,bootstrap:[x7]}),n.\u0275inj=l.cJS({imports:[Zu,F_,QB,D7,Yr.hO.initializeApp(M7),RH,GG,F_,QB,JB,W0,aq,W7,d9,F9,t7,R8,f7]}),n})();(0,l.G48)(),qu().bootstrapModule(F8).catch(n=>console.error(n))},9751:(ut,De,R)=>{R.d(De,{y:()=>ye});var l=R(930),ee=R(727),L=R(8822),oe=R(9635),le=R(2416),fe=R(576),de=R(2806);let ye=(()=>{class Y{constructor(Oe){Oe&&(this._subscribe=Oe)}lift(Oe){const xe=new Y;return xe.source=this,xe.operator=Oe,xe}subscribe(Oe,xe,at){const Ie=function W(Y){return Y&&Y instanceof l.Lv||function j(Y){return Y&&(0,fe.m)(Y.next)&&(0,fe.m)(Y.error)&&(0,fe.m)(Y.complete)}(Y)&&(0,ee.Nn)(Y)}(Oe)?Oe:new l.Hp(Oe,xe,at);return(0,de.x)(()=>{const{operator:me,source:gt}=this;Ie.add(me?me.call(Ie,gt):gt?this._subscribe(Ie):this._trySubscribe(Ie))}),Ie}_trySubscribe(Oe){try{return this._subscribe(Oe)}catch(xe){Oe.error(xe)}}forEach(Oe,xe){return new(xe=_e(xe))((at,Ie)=>{const me=new l.Hp({next:gt=>{try{Oe(gt)}catch(Tt){Ie(Tt),me.unsubscribe()}},error:Ie,complete:at});this.subscribe(me)})}_subscribe(Oe){var xe;return null===(xe=this.source)||void 0===xe?void 0:xe.subscribe(Oe)}[L.L](){return this}pipe(...Oe){return(0,oe.U)(Oe)(this)}toPromise(Oe){return new(Oe=_e(Oe))((xe,at)=>{let Ie;this.subscribe(me=>Ie=me,me=>at(me),()=>xe(Ie))})}}return Y.create=Ge=>new Y(Ge),Y})();function _e(Y){var Ge;return null!==(Ge=Y??le.v.Promise)&&void 0!==Ge?Ge:Promise}},7579:(ut,De,R)=>{R.d(De,{x:()=>de});var l=R(9751),ee=R(727);const oe=(0,R(3888).d)(_e=>function(){_e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var le=R(8737),fe=R(2806);let de=(()=>{class _e extends l.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(W){const Y=new ye(this,this);return Y.operator=W,Y}_throwIfClosed(){if(this.closed)throw new oe}next(W){(0,fe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Y of this.currentObservers)Y.next(W)}})}error(W){(0,fe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=W;const{observers:Y}=this;for(;Y.length;)Y.shift().error(W)}})}complete(){(0,fe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:W}=this;for(;W.length;)W.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var W;return(null===(W=this.observers)||void 0===W?void 0:W.length)>0}_trySubscribe(W){return this._throwIfClosed(),super._trySubscribe(W)}_subscribe(W){return this._throwIfClosed(),this._checkFinalizedStatuses(W),this._innerSubscribe(W)}_innerSubscribe(W){const{hasError:Y,isStopped:Ge,observers:Oe}=this;return Y||Ge?ee.Lc:(this.currentObservers=null,Oe.push(W),new ee.w0(()=>{this.currentObservers=null,(0,le.P)(Oe,W)}))}_checkFinalizedStatuses(W){const{hasError:Y,thrownError:Ge,isStopped:Oe}=this;Y?W.error(Ge):Oe&&W.complete()}asObservable(){const W=new l.y;return W.source=this,W}}return _e.create=(j,W)=>new ye(j,W),_e})();class ye extends de{constructor(j,W){super(),this.destination=j,this.source=W}next(j){var W,Y;null===(Y=null===(W=this.destination)||void 0===W?void 0:W.next)||void 0===Y||Y.call(W,j)}error(j){var W,Y;null===(Y=null===(W=this.destination)||void 0===W?void 0:W.error)||void 0===Y||Y.call(W,j)}complete(){var j,W;null===(W=null===(j=this.destination)||void 0===j?void 0:j.complete)||void 0===W||W.call(j)}_subscribe(j){var W,Y;return null!==(Y=null===(W=this.source)||void 0===W?void 0:W.subscribe(j))&&void 0!==Y?Y:ee.Lc}}},930:(ut,De,R)=>{R.d(De,{Hp:()=>at,Lv:()=>Y});var l=R(576),ee=R(727),L=R(2416),oe=R(7849),le=R(5032);const fe=_e("C",void 0,void 0);function _e(Ve,Ae,ve){return{kind:Ve,value:Ae,error:ve}}var j=R(3410),W=R(2806);class Y extends ee.w0{constructor(Ae){super(),this.isStopped=!1,Ae?(this.destination=Ae,(0,ee.Nn)(Ae)&&Ae.add(this)):this.destination=Tt}static create(Ae,ve,je){return new at(Ae,ve,je)}next(Ae){this.isStopped?gt(function ye(Ve){return _e("N",Ve,void 0)}(Ae),this):this._next(Ae)}error(Ae){this.isStopped?gt(function de(Ve){return _e("E",void 0,Ve)}(Ae),this):(this.isStopped=!0,this._error(Ae))}complete(){this.isStopped?gt(fe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ae){this.destination.next(Ae)}_error(Ae){try{this.destination.error(Ae)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ge=Function.prototype.bind;function Oe(Ve,Ae){return Ge.call(Ve,Ae)}class xe{constructor(Ae){this.partialObserver=Ae}next(Ae){const{partialObserver:ve}=this;if(ve.next)try{ve.next(Ae)}catch(je){Ie(je)}}error(Ae){const{partialObserver:ve}=this;if(ve.error)try{ve.error(Ae)}catch(je){Ie(je)}else Ie(Ae)}complete(){const{partialObserver:Ae}=this;if(Ae.complete)try{Ae.complete()}catch(ve){Ie(ve)}}}class at extends Y{constructor(Ae,ve,je){let ze;if(super(),(0,l.m)(Ae)||!Ae)ze={next:Ae??void 0,error:ve??void 0,complete:je??void 0};else{let pe;this&&L.v.useDeprecatedNextContext?(pe=Object.create(Ae),pe.unsubscribe=()=>this.unsubscribe(),ze={next:Ae.next&&Oe(Ae.next,pe),error:Ae.error&&Oe(Ae.error,pe),complete:Ae.complete&&Oe(Ae.complete,pe)}):ze=Ae}this.destination=new xe(ze)}}function Ie(Ve){L.v.useDeprecatedSynchronousErrorHandling?(0,W.O)(Ve):(0,oe.h)(Ve)}function gt(Ve,Ae){const{onStoppedNotification:ve}=L.v;ve&&j.z.setTimeout(()=>ve(Ve,Ae))}const Tt={closed:!0,next:le.Z,error:function me(Ve){throw Ve},complete:le.Z}},727:(ut,De,R)=>{R.d(De,{Lc:()=>fe,w0:()=>le,Nn:()=>de});var l=R(576);const L=(0,R(3888).d)(_e=>function(W){_e(this),this.message=W?`${W.length} errors occurred during unsubscription:\n${W.map((Y,Ge)=>`${Ge+1}) ${Y.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=W});var oe=R(8737);class le{constructor(j){this.initialTeardown=j,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let j;if(!this.closed){this.closed=!0;const{_parentage:W}=this;if(W)if(this._parentage=null,Array.isArray(W))for(const Oe of W)Oe.remove(this);else W.remove(this);const{initialTeardown:Y}=this;if((0,l.m)(Y))try{Y()}catch(Oe){j=Oe instanceof L?Oe.errors:[Oe]}const{_finalizers:Ge}=this;if(Ge){this._finalizers=null;for(const Oe of Ge)try{ye(Oe)}catch(xe){j=j??[],xe instanceof L?j=[...j,...xe.errors]:j.push(xe)}}if(j)throw new L(j)}}add(j){var W;if(j&&j!==this)if(this.closed)ye(j);else{if(j instanceof le){if(j.closed||j._hasParent(this))return;j._addParent(this)}(this._finalizers=null!==(W=this._finalizers)&&void 0!==W?W:[]).push(j)}}_hasParent(j){const{_parentage:W}=this;return W===j||Array.isArray(W)&&W.includes(j)}_addParent(j){const{_parentage:W}=this;this._parentage=Array.isArray(W)?(W.push(j),W):W?[W,j]:j}_removeParent(j){const{_parentage:W}=this;W===j?this._parentage=null:Array.isArray(W)&&(0,oe.P)(W,j)}remove(j){const{_finalizers:W}=this;W&&(0,oe.P)(W,j),j instanceof le&&j._removeParent(this)}}le.EMPTY=(()=>{const _e=new le;return _e.closed=!0,_e})();const fe=le.EMPTY;function de(_e){return _e instanceof le||_e&&"closed"in _e&&(0,l.m)(_e.remove)&&(0,l.m)(_e.add)&&(0,l.m)(_e.unsubscribe)}function ye(_e){(0,l.m)(_e)?_e():_e.unsubscribe()}},2416:(ut,De,R)=>{R.d(De,{v:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(ut,De,R)=>{R.d(De,{E:()=>ee});const ee=new(R(9751).y)(le=>le.complete())},8996:(ut,De,R)=>{R.d(De,{D:()=>Ae});var l=R(8421),ee=R(5363),L=R(9468),fe=R(9751),ye=R(2202),_e=R(576),j=R(9672);function Y(ve,je){if(!ve)throw new Error("Iterable cannot be null");return new fe.y(ze=>{(0,j.f)(ze,je,()=>{const pe=ve[Symbol.asyncIterator]();(0,j.f)(ze,je,()=>{pe.next().then(Z=>{Z.done?ze.complete():ze.next(Z.value)})},0,!0)})})}var Ge=R(3670),Oe=R(8239),xe=R(1144),at=R(6495),Ie=R(2206),me=R(4532),gt=R(3260);function Ae(ve,je){return je?function Ve(ve,je){if(null!=ve){if((0,Ge.c)(ve))return function oe(ve,je){return(0,l.Xf)(ve).pipe((0,L.R)(je),(0,ee.Q)(je))}(ve,je);if((0,xe.z)(ve))return function de(ve,je){return new fe.y(ze=>{let pe=0;return je.schedule(function(){pe===ve.length?ze.complete():(ze.next(ve[pe++]),ze.closed||this.schedule())})})}(ve,je);if((0,Oe.t)(ve))return function le(ve,je){return(0,l.Xf)(ve).pipe((0,L.R)(je),(0,ee.Q)(je))}(ve,je);if((0,Ie.D)(ve))return Y(ve,je);if((0,at.T)(ve))return function W(ve,je){return new fe.y(ze=>{let pe;return(0,j.f)(ze,je,()=>{pe=ve[ye.h](),(0,j.f)(ze,je,()=>{let Z,$e;try{({value:Z,done:$e}=pe.next())}catch(Ke){return void ze.error(Ke)}$e?ze.complete():ze.next(Z)},0,!0)}),()=>(0,_e.m)(pe?.return)&&pe.return()})}(ve,je);if((0,gt.L)(ve))return function Tt(ve,je){return Y((0,gt.Q)(ve),je)}(ve,je)}throw(0,me.z)(ve)}(ve,je):(0,l.Xf)(ve)}},8421:(ut,De,R)=>{R.d(De,{Xf:()=>Ge});var l=R(7582),ee=R(1144),L=R(8239),oe=R(9751),le=R(3670),fe=R(2206),de=R(4532),ye=R(6495),_e=R(3260),j=R(576),W=R(7849),Y=R(8822);function Ge(Ve){if(Ve instanceof oe.y)return Ve;if(null!=Ve){if((0,le.c)(Ve))return function Oe(Ve){return new oe.y(Ae=>{const ve=Ve[Y.L]();if((0,j.m)(ve.subscribe))return ve.subscribe(Ae);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ve);if((0,ee.z)(Ve))return function xe(Ve){return new oe.y(Ae=>{for(let ve=0;ve<Ve.length&&!Ae.closed;ve++)Ae.next(Ve[ve]);Ae.complete()})}(Ve);if((0,L.t)(Ve))return function at(Ve){return new oe.y(Ae=>{Ve.then(ve=>{Ae.closed||(Ae.next(ve),Ae.complete())},ve=>Ae.error(ve)).then(null,W.h)})}(Ve);if((0,fe.D)(Ve))return me(Ve);if((0,ye.T)(Ve))return function Ie(Ve){return new oe.y(Ae=>{for(const ve of Ve)if(Ae.next(ve),Ae.closed)return;Ae.complete()})}(Ve);if((0,_e.L)(Ve))return function gt(Ve){return me((0,_e.Q)(Ve))}(Ve)}throw(0,de.z)(Ve)}function me(Ve){return new oe.y(Ae=>{(function Tt(Ve,Ae){var ve,je,ze,pe;return(0,l.mG)(this,void 0,void 0,function*(){try{for(ve=(0,l.KL)(Ve);!(je=yield ve.next()).done;)if(Ae.next(je.value),Ae.closed)return}catch(Z){ze={error:Z}}finally{try{je&&!je.done&&(pe=ve.return)&&(yield pe.call(ve))}finally{if(ze)throw ze.error}}Ae.complete()})})(Ve,Ae).catch(ve=>Ae.error(ve))})}},6451:(ut,De,R)=>{R.d(De,{T:()=>fe});var l=R(8189),ee=R(8421),L=R(515),oe=R(3269),le=R(8996);function fe(...de){const ye=(0,oe.yG)(de),_e=(0,oe._6)(de,1/0),j=de;return j.length?1===j.length?(0,ee.Xf)(j[0]):(0,l.J)(_e)((0,le.D)(j,ye)):L.E}},5403:(ut,De,R)=>{R.d(De,{x:()=>ee});var l=R(930);function ee(oe,le,fe,de,ye){return new L(oe,le,fe,de,ye)}class L extends l.Lv{constructor(le,fe,de,ye,_e,j){super(le),this.onFinalize=_e,this.shouldUnsubscribe=j,this._next=fe?function(W){try{fe(W)}catch(Y){le.error(Y)}}:super._next,this._error=ye?function(W){try{ye(W)}catch(Y){le.error(Y)}finally{this.unsubscribe()}}:super._error,this._complete=de?function(){try{de()}catch(W){le.error(W)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var le;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:fe}=this;super.unsubscribe(),!fe&&(null===(le=this.onFinalize)||void 0===le||le.call(this))}}}},4004:(ut,De,R)=>{R.d(De,{U:()=>L});var l=R(4482),ee=R(5403);function L(oe,le){return(0,l.e)((fe,de)=>{let ye=0;fe.subscribe((0,ee.x)(de,_e=>{de.next(oe.call(le,_e,ye++))}))})}},8189:(ut,De,R)=>{R.d(De,{J:()=>L});var l=R(5577),ee=R(4671);function L(oe=1/0){return(0,l.z)(ee.y,oe)}},5577:(ut,De,R)=>{R.d(De,{z:()=>ye});var l=R(4004),ee=R(8421),L=R(4482),oe=R(9672),le=R(5403),de=R(576);function ye(_e,j,W=1/0){return(0,de.m)(j)?ye((Y,Ge)=>(0,l.U)((Oe,xe)=>j(Y,Oe,Ge,xe))((0,ee.Xf)(_e(Y,Ge))),W):("number"==typeof j&&(W=j),(0,L.e)((Y,Ge)=>function fe(_e,j,W,Y,Ge,Oe,xe,at){const Ie=[];let me=0,gt=0,Tt=!1;const Ve=()=>{Tt&&!Ie.length&&!me&&j.complete()},Ae=je=>me<Y?ve(je):Ie.push(je),ve=je=>{Oe&&j.next(je),me++;let ze=!1;(0,ee.Xf)(W(je,gt++)).subscribe((0,le.x)(j,pe=>{Ge?.(pe),Oe?Ae(pe):j.next(pe)},()=>{ze=!0},void 0,()=>{if(ze)try{for(me--;Ie.length&&me<Y;){const pe=Ie.shift();xe?(0,oe.f)(j,xe,()=>ve(pe)):ve(pe)}Ve()}catch(pe){j.error(pe)}}))};return _e.subscribe((0,le.x)(j,Ae,()=>{Tt=!0,Ve()})),()=>{at?.()}}(Y,Ge,_e,W)))}},5363:(ut,De,R)=>{R.d(De,{Q:()=>oe});var l=R(9672),ee=R(4482),L=R(5403);function oe(le,fe=0){return(0,ee.e)((de,ye)=>{de.subscribe((0,L.x)(ye,_e=>(0,l.f)(ye,le,()=>ye.next(_e),fe),()=>(0,l.f)(ye,le,()=>ye.complete(),fe),_e=>(0,l.f)(ye,le,()=>ye.error(_e),fe)))})}},3099:(ut,De,R)=>{R.d(De,{B:()=>le});var l=R(8421),ee=R(7579),L=R(930),oe=R(4482);function le(de={}){const{connector:ye=(()=>new ee.x),resetOnError:_e=!0,resetOnComplete:j=!0,resetOnRefCountZero:W=!0}=de;return Y=>{let Ge,Oe,xe,at=0,Ie=!1,me=!1;const gt=()=>{Oe?.unsubscribe(),Oe=void 0},Tt=()=>{gt(),Ge=xe=void 0,Ie=me=!1},Ve=()=>{const Ae=Ge;Tt(),Ae?.unsubscribe()};return(0,oe.e)((Ae,ve)=>{at++,!me&&!Ie&&gt();const je=xe=xe??ye();ve.add(()=>{at--,0===at&&!me&&!Ie&&(Oe=fe(Ve,W))}),je.subscribe(ve),!Ge&&at>0&&(Ge=new L.Hp({next:ze=>je.next(ze),error:ze=>{me=!0,gt(),Oe=fe(Tt,_e,ze),je.error(ze)},complete:()=>{Ie=!0,gt(),Oe=fe(Tt,j),je.complete()}}),(0,l.Xf)(Ae).subscribe(Ge))})(Y)}}function fe(de,ye,..._e){if(!0===ye)return void de();if(!1===ye)return;const j=new L.Hp({next:()=>{j.unsubscribe(),de()}});return ye(..._e).subscribe(j)}},9468:(ut,De,R)=>{R.d(De,{R:()=>ee});var l=R(4482);function ee(L,oe=0){return(0,l.e)((le,fe)=>{fe.add(L.schedule(()=>le.subscribe(fe),oe))})}},8505:(ut,De,R)=>{R.d(De,{b:()=>le});var l=R(576),ee=R(4482),L=R(5403),oe=R(4671);function le(fe,de,ye){const _e=(0,l.m)(fe)||de||ye?{next:fe,error:de,complete:ye}:fe;return _e?(0,ee.e)((j,W)=>{var Y;null===(Y=_e.subscribe)||void 0===Y||Y.call(_e);let Ge=!0;j.subscribe((0,L.x)(W,Oe=>{var xe;null===(xe=_e.next)||void 0===xe||xe.call(_e,Oe),W.next(Oe)},()=>{var Oe;Ge=!1,null===(Oe=_e.complete)||void 0===Oe||Oe.call(_e),W.complete()},Oe=>{var xe;Ge=!1,null===(xe=_e.error)||void 0===xe||xe.call(_e,Oe),W.error(Oe)},()=>{var Oe,xe;Ge&&(null===(Oe=_e.unsubscribe)||void 0===Oe||Oe.call(_e)),null===(xe=_e.finalize)||void 0===xe||xe.call(_e)}))}):oe.y}},4408:(ut,De,R)=>{R.d(De,{o:()=>le});var l=R(727);class ee extends l.w0{constructor(de,ye){super()}schedule(de,ye=0){return this}}const L={setInterval(fe,de,...ye){const{delegate:_e}=L;return _e?.setInterval?_e.setInterval(fe,de,...ye):setInterval(fe,de,...ye)},clearInterval(fe){const{delegate:de}=L;return(de?.clearInterval||clearInterval)(fe)},delegate:void 0};var oe=R(8737);class le extends ee{constructor(de,ye){super(de,ye),this.scheduler=de,this.work=ye,this.pending=!1}schedule(de,ye=0){var _e;if(this.closed)return this;this.state=de;const j=this.id,W=this.scheduler;return null!=j&&(this.id=this.recycleAsyncId(W,j,ye)),this.pending=!0,this.delay=ye,this.id=null!==(_e=this.id)&&void 0!==_e?_e:this.requestAsyncId(W,this.id,ye),this}requestAsyncId(de,ye,_e=0){return L.setInterval(de.flush.bind(de,this),_e)}recycleAsyncId(de,ye,_e=0){if(null!=_e&&this.delay===_e&&!1===this.pending)return ye;null!=ye&&L.clearInterval(ye)}execute(de,ye){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const _e=this._execute(de,ye);if(_e)return _e;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(de,ye){let j,_e=!1;try{this.work(de)}catch(W){_e=!0,j=W||new Error("Scheduled action threw falsy error")}if(_e)return this.unsubscribe(),j}unsubscribe(){if(!this.closed){const{id:de,scheduler:ye}=this,{actions:_e}=ye;this.work=this.state=this.scheduler=null,this.pending=!1,(0,oe.P)(_e,this),null!=de&&(this.id=this.recycleAsyncId(ye,de,null)),this.delay=null,super.unsubscribe()}}}},7565:(ut,De,R)=>{R.d(De,{v:()=>L});var l=R(6063);class ee{constructor(le,fe=ee.now){this.schedulerActionCtor=le,this.now=fe}schedule(le,fe=0,de){return new this.schedulerActionCtor(this,le).schedule(de,fe)}}ee.now=l.l.now;class L extends ee{constructor(le,fe=ee.now){super(le,fe),this.actions=[],this._active=!1}flush(le){const{actions:fe}=this;if(this._active)return void fe.push(le);let de;this._active=!0;do{if(de=le.execute(le.state,le.delay))break}while(le=fe.shift());if(this._active=!1,de){for(;le=fe.shift();)le.unsubscribe();throw de}}}},4986:(ut,De,R)=>{R.d(De,{P:()=>oe,z:()=>L});var l=R(4408);const L=new(R(7565).v)(l.o),oe=L},6063:(ut,De,R)=>{R.d(De,{l:()=>l});const l={now:()=>(l.delegate||Date).now(),delegate:void 0}},3410:(ut,De,R)=>{R.d(De,{z:()=>l});const l={setTimeout(ee,L,...oe){const{delegate:le}=l;return le?.setTimeout?le.setTimeout(ee,L,...oe):setTimeout(ee,L,...oe)},clearTimeout(ee){const{delegate:L}=l;return(L?.clearTimeout||clearTimeout)(ee)},delegate:void 0}},2202:(ut,De,R)=>{R.d(De,{h:()=>ee});const ee=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(ut,De,R)=>{R.d(De,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(ut,De,R)=>{R.d(De,{_6:()=>fe,jO:()=>oe,yG:()=>le});var l=R(576),ee=R(3532);function L(de){return de[de.length-1]}function oe(de){return(0,l.m)(L(de))?de.pop():void 0}function le(de){return(0,ee.K)(L(de))?de.pop():void 0}function fe(de,ye){return"number"==typeof L(de)?de.pop():ye}},8737:(ut,De,R)=>{function l(ee,L){if(ee){const oe=ee.indexOf(L);0<=oe&&ee.splice(oe,1)}}R.d(De,{P:()=>l})},3888:(ut,De,R)=>{function l(ee){const oe=ee(le=>{Error.call(le),le.stack=(new Error).stack});return oe.prototype=Object.create(Error.prototype),oe.prototype.constructor=oe,oe}R.d(De,{d:()=>l})},2806:(ut,De,R)=>{R.d(De,{O:()=>oe,x:()=>L});var l=R(2416);let ee=null;function L(le){if(l.v.useDeprecatedSynchronousErrorHandling){const fe=!ee;if(fe&&(ee={errorThrown:!1,error:null}),le(),fe){const{errorThrown:de,error:ye}=ee;if(ee=null,de)throw ye}}else le()}function oe(le){l.v.useDeprecatedSynchronousErrorHandling&&ee&&(ee.errorThrown=!0,ee.error=le)}},9672:(ut,De,R)=>{function l(ee,L,oe,le=0,fe=!1){const de=L.schedule(function(){oe(),fe?ee.add(this.schedule(null,le)):this.unsubscribe()},le);if(ee.add(de),!fe)return de}R.d(De,{f:()=>l})},4671:(ut,De,R)=>{function l(ee){return ee}R.d(De,{y:()=>l})},1144:(ut,De,R)=>{R.d(De,{z:()=>l});const l=ee=>ee&&"number"==typeof ee.length&&"function"!=typeof ee},2206:(ut,De,R)=>{R.d(De,{D:()=>ee});var l=R(576);function ee(L){return Symbol.asyncIterator&&(0,l.m)(L?.[Symbol.asyncIterator])}},576:(ut,De,R)=>{function l(ee){return"function"==typeof ee}R.d(De,{m:()=>l})},3670:(ut,De,R)=>{R.d(De,{c:()=>L});var l=R(8822),ee=R(576);function L(oe){return(0,ee.m)(oe[l.L])}},6495:(ut,De,R)=>{R.d(De,{T:()=>L});var l=R(2202),ee=R(576);function L(oe){return(0,ee.m)(oe?.[l.h])}},8239:(ut,De,R)=>{R.d(De,{t:()=>ee});var l=R(576);function ee(L){return(0,l.m)(L?.then)}},3260:(ut,De,R)=>{R.d(De,{L:()=>oe,Q:()=>L});var l=R(7582),ee=R(576);function L(le){return(0,l.FC)(this,arguments,function*(){const de=le.getReader();try{for(;;){const{value:ye,done:_e}=yield(0,l.qq)(de.read());if(_e)return yield(0,l.qq)(void 0);yield yield(0,l.qq)(ye)}}finally{de.releaseLock()}})}function oe(le){return(0,ee.m)(le?.getReader)}},3532:(ut,De,R)=>{R.d(De,{K:()=>ee});var l=R(576);function ee(L){return L&&(0,l.m)(L.schedule)}},4482:(ut,De,R)=>{R.d(De,{A:()=>ee,e:()=>L});var l=R(576);function ee(oe){return(0,l.m)(oe?.lift)}function L(oe){return le=>{if(ee(le))return le.lift(function(fe){try{return oe(fe,this)}catch(de){this.error(de)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(ut,De,R)=>{function l(){}R.d(De,{Z:()=>l})},9635:(ut,De,R)=>{R.d(De,{U:()=>L,z:()=>ee});var l=R(4671);function ee(...oe){return L(oe)}function L(oe){return 0===oe.length?l.y:1===oe.length?oe[0]:function(fe){return oe.reduce((de,ye)=>ye(de),fe)}}},7849:(ut,De,R)=>{R.d(De,{h:()=>L});var l=R(2416),ee=R(3410);function L(oe){ee.z.setTimeout(()=>{const{onUnhandledError:le}=l.v;if(!le)throw oe;le(oe)})}},4532:(ut,De,R)=>{function l(ee){return new TypeError(`You provided ${null!==ee&&"object"==typeof ee?"an invalid object":`'${ee}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}R.d(De,{z:()=>l})},4650:(ut,De,R)=>{R.d(De,{$8M:()=>Wu,$Z:()=>Ty,AFp:()=>rE,AaK:()=>ye,BQk:()=>tv,CHM:()=>ku,CRH:()=>Wi,CZH:()=>Xm,CqO:()=>rv,D6c:()=>oP,DdM:()=>fp,EJc:()=>n_,EiD:()=>Zg,EpF:()=>iv,F$t:()=>ov,F4k:()=>iC,FYo:()=>Cw,FiY:()=>So,G48:()=>tP,Gf:()=>ED,GfV:()=>Ew,GkF:()=>nv,Gpc:()=>W,Gre:()=>OT,Hsn:()=>av,JOm:()=>fs,JVY:()=>xf,Jf7:()=>px,KtG:()=>id,L6k:()=>fy,LAX:()=>py,LFG:()=>hi,LSH:()=>Bd,Lbi:()=>t_,Lck:()=>vM,MAs:()=>yT,MGl:()=>sh,MMx:()=>RC,MT6:()=>NT,NdJ:()=>tp,OlP:()=>bn,Oqu:()=>xm,PXZ:()=>YM,Q6J:()=>nC,QGY:()=>rh,QP$:()=>Ut,QbO:()=>FD,Qsj:()=>yI,R0b:()=>ws,RDi:()=>cy,Rgc:()=>vp,SBq:()=>tm,Sil:()=>LD,Suo:()=>bD,TTD:()=>jr,TgZ:()=>Dm,Udp:()=>ip,VKq:()=>VC,W1O:()=>KC,WLB:()=>xv,X6Q:()=>eP,XFs:()=>dt,Xpm:()=>$,Xts:()=>Pf,Y36:()=>tt,YKP:()=>aD,YNc:()=>tC,Yjl:()=>Q,Yz7:()=>be,Z0I:()=>St,ZZ4:()=>bh,_Bn:()=>OC,_UZ:()=>ev,_Vd:()=>em,_c5:()=>h0,_uU:()=>ho,aQg:()=>d_,c2e:()=>$M,cJS:()=>Nt,cg1:()=>ae,dDg:()=>Xv,dqk:()=>En,eBb:()=>Mf,eFA:()=>s_,ekj:()=>ah,eoX:()=>hE,f3M:()=>mt,g9A:()=>e_,h0i:()=>ph,hGG:()=>ME,hij:()=>ht,iGM:()=>kv,ifc:()=>vt,ip1:()=>Wv,jDz:()=>uD,kEZ:()=>pp,kL8:()=>Vo,kYT:()=>nn,l5B:()=>BC,lG2:()=>z,lqb:()=>jd,lri:()=>dE,mCW:()=>C,n5z:()=>Gn,oAB:()=>It,oJD:()=>sI,oxw:()=>oC,pB0:()=>gy,q3G:()=>Mi,q4F:()=>CI,qLn:()=>nm,qOj:()=>au,qZA:()=>ih,qzn:()=>No,rWj:()=>r_,s9C:()=>lv,sBO:()=>nP,sIi:()=>bm,s_b:()=>Wm,soG:()=>Zv,tb:()=>kc,tp0:()=>ra,uIk:()=>Qy,vHH:()=>xe,vpe:()=>ma,wAp:()=>Pt,xp6:()=>Mw,ynx:()=>Sm,z2F:()=>e0,z3N:()=>xi,zSh:()=>Yg,zs3:()=>yc});var l=R(7579),ee=R(727),L=R(9751),oe=R(6451),le=R(3099);function fe(o){for(let a in o)if(o[a]===fe)return a;throw Error("Could not find renamed property on target object.")}function de(o,a){for(const c in a)a.hasOwnProperty(c)&&!o.hasOwnProperty(c)&&(o[c]=a[c])}function ye(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(ye).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const a=o.toString();if(null==a)return""+a;const c=a.indexOf("\n");return-1===c?a:a.substring(0,c)}function _e(o,a){return null==o||""===o?null===a?"":a:null==a||""===a?o:o+" "+a}const j=fe({__forward_ref__:fe});function W(o){return o.__forward_ref__=W,o.toString=function(){return ye(this())},o}function Y(o){return Ge(o)?o():o}function Ge(o){return"function"==typeof o&&o.hasOwnProperty(j)&&o.__forward_ref__===W}class xe extends Error{constructor(a,c){super(function at(o,a){return`NG0${Math.abs(o)}${a?": "+a.trim():""}`}(a,c)),this.code=a}}function Ie(o){return"string"==typeof o?o:null==o?"":String(o)}function Ae(o,a){throw new xe(-201,!1)}function ne(o,a){null==o&&function re(o,a,c,d){throw new Error(`ASSERTION ERROR: ${o}`+(null==d?"":` [Expected=> ${c} ${d} ${a} <=Actual]`))}(a,o,null,"!=")}function be(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function Nt(o){return{providers:o.providers||[],imports:o.imports||[]}}function pn(o){return tn(o,Zn)||tn(o,sr)}function St(o){return null!==pn(o)}function tn(o,a){return o.hasOwnProperty(a)?o[a]:null}function Un(o){return o&&(o.hasOwnProperty(ui)||o.hasOwnProperty(Ar))?o[ui]:null}const Zn=fe({\u0275prov:fe}),ui=fe({\u0275inj:fe}),sr=fe({ngInjectableDef:fe}),Ar=fe({ngInjectorDef:fe});var dt=(()=>((dt=dt||{})[dt.Default=0]="Default",dt[dt.Host=1]="Host",dt[dt.Self=2]="Self",dt[dt.SkipSelf=4]="SkipSelf",dt[dt.Optional=8]="Optional",dt))();let Jn;function or(o){const a=Jn;return Jn=o,a}function yo(o,a,c){const d=pn(o);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:c&dt.Optional?null:void 0!==a?a:void Ae(ye(o))}function Cn(o){return{toString:o}.toString()}var zn=(()=>((zn=zn||{})[zn.OnPush=0]="OnPush",zn[zn.Default=1]="Default",zn))(),vt=(()=>{return(o=vt||(vt={}))[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",vt;var o})();const En=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Xn={},kt=[],is=fe({\u0275cmp:fe}),an=fe({\u0275dir:fe}),Gs=fe({\u0275pipe:fe}),ln=fe({\u0275mod:fe}),ei=fe({\u0275fac:fe}),ki=fe({__NG_ELEMENT_ID__:fe});let Ce=0;function $(o){return Cn(()=>{const c=!0===o.standalone,d={},f={type:o.type,providersResolver:null,decls:o.decls,vars:o.vars,factory:null,template:o.template||null,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:d,inputs:null,outputs:null,exportAs:o.exportAs||null,onPush:o.changeDetection===zn.OnPush,directiveDefs:null,pipeDefs:null,standalone:c,dependencies:c&&o.dependencies||null,getStandaloneInjector:null,selectors:o.selectors||kt,viewQuery:o.viewQuery||null,features:o.features||null,data:o.data||{},encapsulation:o.encapsulation||vt.Emulated,id:"c"+Ce++,styles:o.styles||kt,_:null,setInput:null,schemas:o.schemas||null,tView:null},_=o.dependencies,w=o.features;return f.inputs=H(o.inputs,d),f.outputs=H(o.outputs),w&&w.forEach(b=>b(f)),f.directiveDefs=_?()=>("function"==typeof _?_():_).map(We).filter(Je):null,f.pipeDefs=_?()=>("function"==typeof _?_():_).map(et).filter(Je):null,f})}function We(o){return he(o)||se(o)}function Je(o){return null!==o}function It(o){return Cn(()=>({type:o.type,bootstrap:o.bootstrap||kt,declarations:o.declarations||kt,imports:o.imports||kt,exports:o.exports||kt,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null}))}function nn(o,a){return Cn(()=>{const c=Zt(o,!0);c.declarations=a.declarations||kt,c.imports=a.imports||kt,c.exports=a.exports||kt})}function H(o,a){if(null==o)return Xn;const c={};for(const d in o)if(o.hasOwnProperty(d)){let f=o[d],_=f;Array.isArray(f)&&(_=f[1],f=f[0]),c[f]=d,a&&(a[f]=_)}return c}const z=$;function Q(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,standalone:!0===o.standalone,onDestroy:o.type.prototype.ngOnDestroy||null}}function he(o){return o[is]||null}function se(o){return o[an]||null}function et(o){return o[Gs]||null}function Ut(o){const a=he(o)||se(o)||et(o);return null!==a&&a.standalone}function Zt(o,a){const c=o[ln]||null;if(!c&&!0===a)throw new Error(`Type ${ye(o)} does not have '\u0275mod' property.`);return c}function Fi(o){return Array.isArray(o)&&"object"==typeof o[1]}function vr(o){return Array.isArray(o)&&!0===o[1]}function Ta(o){return 0!=(8&o.flags)}function Tu(o){return 2==(2&o.flags)}function Zs(o){return 1==(1&o.flags)}function rs(o){return null!==o.template}function Da(o){return 0!=(256&o[2])}function Ks(o,a){return o.hasOwnProperty(ei)?o[ei]:null}class sg{constructor(a,c,d){this.previousValue=a,this.currentValue=c,this.firstChange=d}isFirstChange(){return this.firstChange}}function jr(){return jh}function jh(o){return o.type.prototype.ngOnChanges&&(o.setInput=ed),bl}function bl(){const o=og(this),a=o?.current;if(a){const c=o.previous;if(c===Xn)o.previous=a;else for(let d in a)c[d]=a[d];o.current=null,this.ngOnChanges(a)}}function ed(o,a,c,d){const f=og(o)||function Io(o,a){return o[xu]=a}(o,{previous:Xn,current:null}),_=f.current||(f.current={}),w=f.previous,b=this.declaredInputs[c],D=w[b];_[b]=new sg(D&&D.currentValue,a,w===Xn),o[d]=a}jr.ngInherit=!0;const xu="__ngSimpleChanges__";function og(o){return o[xu]||null}function ci(o){for(;Array.isArray(o);)o=o[0];return o}function $r(o,a){return ci(a[o])}function wr(o,a){return ci(a[o.index])}function Il(o,a){return o.data[a]}function di(o,a){const c=a[o];return Fi(c)?c:c[0]}function $o(o){return 64==(64&o[2])}function Mr(o,a){return null==a?null:o[a]}function To(o){o[18]=0}function Yi(o,a){o[5]+=a;let c=o,d=o[3];for(;null!==d&&(1===a&&1===c[5]||-1===a&&0===c[5]);)d[5]+=a,c=d,d=d[3]}const Lt={lFrame:ld(null),bindingsEnabled:!0};function Zh(){return Lt.bindingsEnabled}function Ne(){return Lt.lFrame.lView}function Qt(){return Lt.lFrame.tView}function ku(o){return Lt.lFrame.contextLView=o,o[8]}function id(o){return Lt.lFrame.contextLView=null,o}function ti(){let o=Ru();for(;null!==o&&64===o.type;)o=o.parent;return o}function Ru(){return Lt.lFrame.currentTNode}function Pr(o,a){const c=Lt.lFrame;c.currentTNode=o,c.isParent=a}function xa(){return Lt.lFrame.isParent}function rd(){Lt.lFrame.isParent=!1}function ur(){const o=Lt.lFrame;let a=o.bindingRootIndex;return-1===a&&(a=o.bindingRootIndex=o.tView.bindingStartIndex),a}function Qs(){return Lt.lFrame.bindingIndex++}function Nr(o){const a=Lt.lFrame,c=a.bindingIndex;return a.bindingIndex=a.bindingIndex+o,c}function Y_(o,a){const c=Lt.lFrame;c.bindingIndex=c.bindingRootIndex=o,od(a)}function od(o){Lt.lFrame.currentDirectiveIndex=o}function Fu(){return Lt.lFrame.currentQueryIndex}function cr(o){Lt.lFrame.currentQueryIndex=o}function ad(o){const a=o[1];return 2===a.type?a.declTNode:1===a.type?o[6]:null}function Sl(o,a,c){if(c&dt.SkipSelf){let f=a,_=o;for(;!(f=f.parent,null!==f||c&dt.Host||(f=ad(_),null===f||(_=_[15],10&f.type))););if(null===f)return!1;a=f,o=_}const d=Lt.lFrame=qo();return d.currentTNode=a,d.lView=o,!0}function Al(o){const a=qo(),c=o[1];Lt.lFrame=a,a.currentTNode=c.firstChild,a.lView=o,a.tView=c,a.contextLView=o,a.bindingIndex=c.bindingStartIndex,a.inI18n=!1}function qo(){const o=Lt.lFrame,a=null===o?null:o.child;return null===a?ld(o):a}function ld(o){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=a),a}function xl(){const o=Lt.lFrame;return Lt.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const Yh=xl;function Pa(){const o=xl();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function gn(){return Lt.lFrame.selectedIndex}function Js(o){Lt.lFrame.selectedIndex=o}function $n(){const o=Lt.lFrame;return Il(o.tView,o.selectedIndex)}function Zo(o,a){for(let c=a.directiveStart,d=a.directiveEnd;c<d;c++){const _=o.data[c].type.prototype,{ngAfterContentInit:w,ngAfterContentChecked:b,ngAfterViewInit:D,ngAfterViewChecked:x,ngOnDestroy:N}=_;w&&(o.contentHooks||(o.contentHooks=[])).push(-c,w),b&&((o.contentHooks||(o.contentHooks=[])).push(c,b),(o.contentCheckHooks||(o.contentCheckHooks=[])).push(c,b)),D&&(o.viewHooks||(o.viewHooks=[])).push(-c,D),x&&((o.viewHooks||(o.viewHooks=[])).push(c,x),(o.viewCheckHooks||(o.viewCheckHooks=[])).push(c,x)),null!=N&&(o.destroyHooks||(o.destroyHooks=[])).push(c,N)}}function Ml(o,a,c){Pl(o,a,3,c)}function Oa(o,a,c,d){(3&o[2])===c&&Pl(o,a,c,d)}function ef(o,a){let c=o[2];(3&c)===a&&(c&=2047,c+=1,o[2]=c)}function Pl(o,a,c,d){const _=d??-1,w=a.length-1;let b=0;for(let D=void 0!==d?65535&o[18]:0;D<w;D++)if("number"==typeof a[D+1]){if(b=a[D],null!=d&&b>=d)break}else a[D]<0&&(o[18]+=65536),(b<_||-1==_)&&(cg(o,c,a,D),o[18]=(4294901760&o[18])+D+2),D++}function cg(o,a,c,d){const f=c[d]<0,_=c[d+1],b=o[f?-c[d]:c[d]];if(f){if(o[2]>>11<o[18]>>16&&(3&o[2])===a){o[2]+=2048;try{_.call(b)}finally{}}}else try{_.call(b)}finally{}}class Ol{constructor(a,c,d){this.factory=a,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=d}}function zu(o,a,c){let d=0;for(;d<c.length;){const f=c[d];if("number"==typeof f){if(0!==f)break;d++;const _=c[d++],w=c[d++],b=c[d++];o.setAttribute(a,w,b,_)}else{const _=f,w=c[++d];fg(_)?o.setProperty(a,_,w):o.setAttribute(a,_,w),d++}}return d}function Hu(o){return 3===o||4===o||6===o}function fg(o){return 64===o.charCodeAt(0)}function Na(o,a){if(null!==a&&0!==a.length)if(null===o||0===o.length)o=a.slice();else{let c=-1;for(let d=0;d<a.length;d++){const f=a[d];"number"==typeof f?c=f:0===c||nf(o,c,f,null,-1===c||2===c?a[++d]:null)}}return o}function nf(o,a,c,d,f){let _=0,w=o.length;if(-1===a)w=-1;else for(;_<o.length;){const b=o[_++];if("number"==typeof b){if(b===a){w=-1;break}if(b>a){w=_-1;break}}}for(;_<o.length;){const b=o[_];if("number"==typeof b)break;if(b===c){if(null===d)return void(null!==f&&(o[_+1]=f));if(d===o[_+1])return void(o[_+2]=f)}_++,null!==d&&_++,null!==f&&_++}-1!==w&&(o.splice(w,0,a),_=w+1),o.splice(_++,0,c),null!==d&&o.splice(_++,0,d),null!==f&&o.splice(_++,0,f)}function fd(o){return-1!==o}function Nl(o){return 32767&o}function xs(o,a){let c=function pg(o){return o>>16}(o),d=a;for(;c>0;)d=d[15],c--;return d}let kl=!0;function eo(o){const a=kl;return kl=o,a}let Rl=0;const Gr={};function ka(o,a){const c=Yo(o,a);if(-1!==c)return c;const d=a[1];d.firstCreatePass&&(o.injectorIndex=a.length,gd(d.data,o),gd(a,null),gd(d.blueprint,null));const f=Qo(o,a),_=o.injectorIndex;if(fd(f)){const w=Nl(f),b=xs(f,a),D=b[1].data;for(let x=0;x<8;x++)a[_+x]=b[w+x]|D[w+x]}return a[_+8]=f,_}function gd(o,a){o.push(0,0,0,0,0,0,0,0,a)}function Yo(o,a){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===a[o.injectorIndex+8]?-1:o.injectorIndex}function Qo(o,a){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let c=0,d=null,f=a;for(;null!==f;){if(d=_g(f),null===d)return-1;if(c++,f=f[15],-1!==d.injectorIndex)return d.injectorIndex|c<<16}return-1}function Fl(o,a,c){!function pd(o,a,c){let d;"string"==typeof c?d=c.charCodeAt(0)||0:c.hasOwnProperty(ki)&&(d=c[ki]),null==d&&(d=c[ki]=Rl++);const f=255&d;a.data[o+(f>>5)]|=1<<f}(o,a,c)}function $u(o,a,c){if(c&dt.Optional||void 0!==o)return o;Ae()}function gg(o,a,c,d){if(c&dt.Optional&&void 0===d&&(d=null),0==(c&(dt.Self|dt.Host))){const f=o[9],_=or(void 0);try{return f?f.get(a,d,c&dt.Optional):yo(a,d,c&dt.Optional)}finally{or(_)}}return $u(d,0,c)}function Ra(o,a,c,d=dt.Default,f){if(null!==o){if(1024&a[2]){const w=function Vl(o,a,c,d,f){let _=o,w=a;for(;null!==_&&null!==w&&1024&w[2]&&!(256&w[2]);){const b=Fa(_,w,c,d|dt.Self,Gr);if(b!==Gr)return b;let D=_.parent;if(!D){const x=w[21];if(x){const N=x.get(c,Gr,d);if(N!==Gr)return N}D=_g(w),w=w[15]}_=D}return f}(o,a,c,d,Gr);if(w!==Gr)return w}const _=Fa(o,a,c,d,Gr);if(_!==Gr)return _}return gg(a,c,d,f)}function Fa(o,a,c,d,f){const _=function Xo(o){if("string"==typeof o)return o.charCodeAt(0)||0;const a=o.hasOwnProperty(ki)?o[ki]:void 0;return"number"==typeof a?a>=0?255&a:X_:a}(c);if("function"==typeof _){if(!Sl(a,o,d))return d&dt.Host?$u(f,0,d):gg(a,c,d,f);try{const w=_(d);if(null!=w||d&dt.Optional)return w;Ae()}finally{Yh()}}else if("number"==typeof _){let w=null,b=Yo(o,a),D=-1,x=d&dt.Host?a[16][6]:null;for((-1===b||d&dt.SkipSelf)&&(D=-1===b?Qo(o,a):a[b+8],-1!==D&&Gu(d,!1)?(w=a[1],b=Nl(D),a=xs(D,a)):b=-1);-1!==b;){const N=a[1];if(mg(_,b,N.data)){const B=J_(b,a,c,w,d,x);if(B!==Gr)return B}D=a[b+8],-1!==D&&Gu(d,a[1].data[b+8]===x)&&mg(_,b,a)?(w=N,b=Nl(D),a=xs(D,a)):b=-1}}return f}function J_(o,a,c,d,f,_){const w=a[1],b=w.data[o+8],N=Ps(b,w,c,null==d?Tu(b)&&kl:d!=w&&0!=(3&b.type),f&dt.Host&&_===b);return null!==N?Ll(a,w,N,b):Gr}function Ps(o,a,c,d,f){const _=o.providerIndexes,w=a.data,b=1048575&_,D=o.directiveStart,N=_>>20,q=f?b+N:o.directiveEnd;for(let te=d?b:b+N;te<q;te++){const Me=w[te];if(te<D&&c===Me||te>=D&&Me.type===c)return te}if(f){const te=w[D];if(te&&rs(te)&&te.type===c)return D}return null}function Ll(o,a,c,d){let f=o[c];const _=a.data;if(function Bu(o){return o instanceof Ol}(f)){const w=f;w.resolving&&function gt(o,a){const c=a?`. Dependency path: ${a.join(" > ")} > ${o}`:"";throw new xe(-200,`Circular dependency in DI detected for ${o}${c}`)}(function me(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():Ie(o)}(_[c]));const b=eo(w.canSeeViewProviders);w.resolving=!0;const D=w.injectImpl?or(w.injectImpl):null;Sl(o,d,dt.Default);try{f=o[c]=w.factory(void 0,_,o,d),a.firstCreatePass&&c>=d.directiveStart&&function cd(o,a,c){const{ngOnChanges:d,ngOnInit:f,ngDoCheck:_}=a.type.prototype;if(d){const w=jh(a);(c.preOrderHooks||(c.preOrderHooks=[])).push(o,w),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(o,w)}f&&(c.preOrderHooks||(c.preOrderHooks=[])).push(0-o,f),_&&((c.preOrderHooks||(c.preOrderHooks=[])).push(o,_),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(o,_))}(c,_[c],a)}finally{null!==D&&or(D),eo(b),w.resolving=!1,Yh()}}return f}function mg(o,a,c){return!!(c[a+(o>>5)]&1<<o)}function Gu(o,a){return!(o&dt.Self||o&dt.Host&&a)}class Os{constructor(a,c){this._tNode=a,this._lView=c}get(a,c,d){return Ra(this._tNode,this._lView,a,d,c)}}function X_(){return new Os(ti(),Ne())}function Gn(o){return Cn(()=>{const a=o.prototype.constructor,c=a[ei]||md(a),d=Object.prototype;let f=Object.getPrototypeOf(o.prototype).constructor;for(;f&&f!==d;){const _=f[ei]||md(f);if(_&&_!==c)return _;f=Object.getPrototypeOf(f)}return _=>new _})}function md(o){return Ge(o)?()=>{const a=md(Y(o));return a&&a()}:Ks(o)}function _g(o){const a=o[1],c=a.type;return 2===c?a.declTNode:1===c?o[6]:null}function Wu(o){return function Jo(o,a){if("class"===a)return o.classes;if("style"===a)return o.styles;const c=o.attrs;if(c){const d=c.length;let f=0;for(;f<d;){const _=c[f];if(Hu(_))break;if(0===_)f+=2;else if("number"==typeof _)for(f++;f<d&&"string"==typeof c[f];)f++;else{if(_===a)return c[f+1];f+=2}}}return null}(ti(),o)}const ii="__parameters__";function no(o,a,c){return Cn(()=>{const d=function La(o){return function(...c){if(o){const d=o(...c);for(const f in d)this[f]=d[f]}}}(a);function f(..._){if(this instanceof f)return d.apply(this,_),this;const w=new f(..._);return b.annotation=w,b;function b(D,x,N){const B=D.hasOwnProperty(ii)?D[ii]:Object.defineProperty(D,ii,{value:[]})[ii];for(;B.length<=N;)B.push(null);return(B[N]=B[N]||[]).push(w),D}}return c&&(f.prototype=Object.create(c.prototype)),f.prototype.ngMetadataName=o,f.annotationCls=f,f})}class bn{constructor(a,c){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=be({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function wi(o,a){void 0===a&&(a=o);for(let c=0;c<o.length;c++){let d=o[c];Array.isArray(d)?(a===o&&(a=o.slice(0,c)),wi(d,a)):a!==o&&a.push(d)}return a}function us(o,a){o.forEach(c=>Array.isArray(c)?us(c,a):a(c))}function yd(o,a,c){a>=o.length?o.push(c):o.splice(a,0,c)}function vd(o,a){return a>=o.length-1?o.pop():o.splice(a,1)[0]}function Va(o,a){const c=[];for(let d=0;d<o;d++)c.push(a);return c}function kr(o,a,c){let d=Ba(o,a);return d>=0?o[1|d]=c:(d=~d,function ey(o,a,c,d){let f=o.length;if(f==a)o.push(c,d);else if(1===f)o.push(d,o[0]),o[0]=c;else{for(f--,o.push(o[f-1],o[f]);f>a;)o[f]=o[f-2],f--;o[a]=c,o[a+1]=d}}(o,d,a,c)),d}function Ju(o,a){const c=Ba(o,a);if(c>=0)return o[1|c]}function Ba(o,a){return function uf(o,a,c){let d=0,f=o.length>>c;for(;f!==d;){const _=d+(f-d>>1),w=o[_<<c];if(a===w)return _<<c;w>a?f=_:d=_+1}return~(f<<c)}(o,a,1)}const Kn={},ri="__NG_DI_FLAG__",dr="ngTempTokenPath",Cr=/\n/gm,jl="__source";let ta;function hr(o){const a=ta;return ta=o,a}function nc(o,a=dt.Default){if(void 0===ta)throw new xe(-203,!1);return null===ta?yo(o,void 0,a):ta.get(o,a&dt.Optional?null:void 0,a)}function hi(o,a=dt.Default){return(function Hr(){return Jn}()||nc)(Y(o),a)}function mt(o,a=dt.Default){return"number"!=typeof a&&(a=0|(a.optional&&8)|(a.host&&1)|(a.self&&2)|(a.skipSelf&&4)),hi(o,a)}function cf(o){const a=[];for(let c=0;c<o.length;c++){const d=Y(o[c]);if(Array.isArray(d)){if(0===d.length)throw new xe(900,!1);let f,_=dt.Default;for(let w=0;w<d.length;w++){const b=d[w],D=$l(b);"number"==typeof D?-1===D?f=b.token:_|=D:f=b}a.push(hi(f,_))}else a.push(hi(d))}return a}function ia(o,a){return o[ri]=a,o.prototype[ri]=a,o}function $l(o){return o[ri]}const So=ia(no("Optional"),8),ra=ia(no("SkipSelf"),4);var fs=(()=>((fs=fs||{})[fs.Important=1]="Important",fs[fs.DashCase=2]="DashCase",fs))();const V=new Map;let K=0;const Dn="__ngContext__";function Dt(o,a){Fi(a)?(o[Dn]=a[20],function ge(o){V.set(o[20],o)}(a)):o[Dn]=a}function lc(o,a){return undefined(o,a)}function Ad(o){const a=o[3];return vr(a)?a[3]:a}function uc(o){return $a(o[13])}function sy(o){return $a(o[4])}function $a(o){for(;null!==o&&!vr(o);)o=o[4];return o}function cc(o,a,c,d,f){if(null!=d){let _,w=!1;vr(d)?_=d:Fi(d)&&(w=!0,d=d[0]);const b=ci(d);0===o&&null!==c?null==f?Pd(a,c,b):aa(a,c,b,f||null,!0):1===o&&null!==c?aa(a,c,b,f||null,!0):2===o?function Bg(o,a,c){const d=vf(o,a);d&&function Rg(o,a,c,d){o.removeChild(a,c,d)}(o,d,a,c)}(a,b,w):3===o&&a.destroyNode(b),null!=_&&function Hg(o,a,c,d,f){const _=c[7];_!==ci(c)&&cc(a,o,d,_,f);for(let b=10;b<c.length;b++){const D=c[b];Od(D[1],D,o,a,d,_)}}(a,o,_,c,f)}}function Og(o,a,c){return o.createElement(a,c)}function hc(o,a){const c=o[9],d=c.indexOf(a),f=a[3];512&a[2]&&(a[2]&=-513,Yi(f,-1)),c.splice(d,1)}function Yl(o,a){if(o.length<=10)return;const c=10+a,d=o[c];if(d){const f=d[17];null!==f&&f!==o&&hc(f,d),a>0&&(o[c-1][4]=d[4]);const _=vd(o,10+a);!function Kl(o,a){Od(o,a,a[11],2,null,null),a[0]=null,a[6]=null}(d[1],d);const w=_[19];null!==w&&w.detachView(_[1]),d[3]=null,d[4]=null,d[2]&=-65}return d}function Ql(o,a){if(!(128&a[2])){const c=a[11];c.destroyNode&&Od(o,a,c,3,null,null),function hw(o){let a=o[13];if(!a)return _f(o[1],o);for(;a;){let c=null;if(Fi(a))c=a[13];else{const d=a[10];d&&(c=d)}if(!c){for(;a&&!a[4]&&a!==o;)Fi(a)&&_f(a[1],a),a=a[3];null===a&&(a=o),Fi(a)&&_f(a[1],a),c=a&&a[4]}a=c}}(a)}}function _f(o,a){if(!(128&a[2])){a[2]&=-65,a[2]|=128,function yf(o,a){let c;if(null!=o&&null!=(c=o.destroyHooks))for(let d=0;d<c.length;d+=2){const f=a[c[d]];if(!(f instanceof Ol)){const _=c[d+1];if(Array.isArray(_))for(let w=0;w<_.length;w+=2){const b=f[_[w]],D=_[w+1];try{D.call(b)}finally{}}else try{_.call(f)}finally{}}}}(o,a),function kg(o,a){const c=o.cleanup,d=a[7];let f=-1;if(null!==c)for(let _=0;_<c.length-1;_+=2)if("string"==typeof c[_]){const w=c[_+1],b="function"==typeof w?w(a):ci(a[w]),D=d[f=c[_+2]],x=c[_+3];"boolean"==typeof x?b.removeEventListener(c[_],D,x):x>=0?d[f=x]():d[f=-x].unsubscribe(),_+=2}else{const w=d[f=c[_+1]];c[_].call(w)}if(null!==d){for(let _=f+1;_<d.length;_++)(0,d[_])();a[7]=null}}(o,a),1===a[1].type&&a[11].destroy();const c=a[17];if(null!==c&&vr(a[3])){c!==a[3]&&hc(c,a);const d=a[19];null!==d&&d.detachView(o)}!function qe(o){V.delete(o[20])}(a)}}function Jl(o,a,c){return function oy(o,a,c){let d=a;for(;null!==d&&40&d.type;)d=(a=d).parent;if(null===d)return c[0];if(2&d.flags){const f=o.data[d.directiveStart].encapsulation;if(f===vt.None||f===vt.Emulated)return null}return wr(d,c)}(o,a.parent,c)}function aa(o,a,c,d,f){o.insertBefore(a,c,d,f)}function Pd(o,a,c){o.appendChild(a,c)}function ay(o,a,c,d,f){null!==d?aa(o,a,c,d,f):Pd(o,a,c)}function vf(o,a){return o.parentNode(a)}function ly(o,a,c){return Lg(o,a,c)}let fc,Oo,Df,Lg=function wf(o,a,c){return 40&o.type?wr(o,c):null};function Po(o,a,c,d){const f=Jl(o,d,a),_=a[11],b=ly(d.parent||a[6],d,a);if(null!=f)if(Array.isArray(c))for(let D=0;D<c.length;D++)ay(_,f,c[D],b,!1);else ay(_,f,c,b,!1)}function ao(o,a){if(null!==a){const c=a.type;if(3&c)return wr(a,o);if(4&c)return Ef(-1,o[a.index]);if(8&c){const d=a.child;if(null!==d)return ao(o,d);{const f=o[a.index];return vr(f)?Ef(-1,f):ci(f)}}if(32&c)return lc(a,o)()||ci(o[a.index]);{const d=Vg(o,a);return null!==d?Array.isArray(d)?d[0]:ao(Ad(o[16]),d):ao(o,a.next)}}return null}function Vg(o,a){return null!==a?o[16][6].projection[a.projection]:null}function Ef(o,a){const c=10+o+1;if(c<a.length){const d=a[c],f=d[1].firstChild;if(null!==f)return ao(d,f)}return a[7]}function Ug(o,a,c,d,f,_,w){for(;null!=c;){const b=d[c.index],D=c.type;if(w&&0===a&&(b&&Dt(ci(b),d),c.flags|=4),64!=(64&c.flags))if(8&D)Ug(o,a,c.child,d,f,_,!1),cc(a,o,f,b,_);else if(32&D){const x=lc(c,d);let N;for(;N=x();)cc(a,o,f,N,_);cc(a,o,f,b,_)}else 16&D?zg(o,a,d,c,f,_):cc(a,o,f,b,_);c=w?c.projectionNext:c.next}}function Od(o,a,c,d,f,_){Ug(c,d,o.firstChild,a,f,_,!1)}function zg(o,a,c,d,f,_){const w=c[16],D=w[6].projection[d.projection];if(Array.isArray(D))for(let x=0;x<D.length;x++)cc(a,o,f,D[x],_);else Ug(o,a,D,w[3],f,_,!0)}function $g(o,a,c){o.setAttribute(a,"style",c)}function Gg(o,a,c){""===c?o.removeAttribute(a,"class"):o.setAttribute(a,"class",c)}function Gi(o){return function bf(){if(void 0===fc&&(fc=null,En.trustedTypes))try{fc=En.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return fc}()?.createHTML(o)||o}function cy(o){Oo=o}function Sf(o){return function er(){if(void 0===Df&&(Df=null,En.trustedTypes))try{Df=En.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return Df}()?.createHTML(o)||o}class Ga{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Af extends Ga{getTypeName(){return"HTML"}}class Rr extends Ga{getTypeName(){return"Style"}}class kd extends Ga{getTypeName(){return"Script"}}class Rd extends Ga{getTypeName(){return"URL"}}class gw extends Ga{getTypeName(){return"ResourceURL"}}function xi(o){return o instanceof Ga?o.changingThisBreaksApplicationSecurity:o}function No(o,a){const c=function hy(o){return o instanceof Ga&&o.getTypeName()||null}(o);if(null!=c&&c!==a){if("ResourceURL"===c&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${c} (see https://g.co/ng/security#xss)`)}return c===a}function xf(o){return new Af(o)}function fy(o){return new Rr(o)}function Mf(o){return new kd(o)}function py(o){return new Rd(o)}function gy(o){return new gw(o)}class Fd{constructor(a){this.inertDocumentHelper=a}getInertBodyElement(a){a="<body><remove></remove>"+a;try{const c=(new window.DOMParser).parseFromString(Gi(a),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(a):(c.removeChild(c.firstChild),c)}catch{return null}}}class v{constructor(a){if(this.defaultDoc=a,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const c=this.inertDocument.createElement("html");this.inertDocument.appendChild(c);const d=this.inertDocument.createElement("body");c.appendChild(d)}}getInertBodyElement(a){const c=this.inertDocument.createElement("template");if("content"in c)return c.innerHTML=Gi(a),c;const d=this.inertDocument.createElement("body");return d.innerHTML=Gi(a),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(a){const c=a.attributes;for(let f=c.length-1;0<f;f--){const w=c.item(f).name;("xmlns:ns1"===w||0===w.indexOf("ns1:"))&&a.removeAttribute(w)}let d=a.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const m=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function C(o){return(o=String(o)).match(m)?o:"unsafe:"+o}function A(o){const a={};for(const c of o.split(","))a[c]=!0;return a}function O(...o){const a={};for(const c of o)for(const d in c)c.hasOwnProperty(d)&&(a[d]=!0);return a}const G=A("area,br,col,hr,img,wbr"),ie=A("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Le=A("rp,rt"),Yn=O(G,O(ie,A("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),O(Le,A("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),O(Le,ie)),gs=A("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Vd=O(gs,A("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),A("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),gc=A("script,style,template");class _y{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(a){let c=a.firstChild,d=!0;for(;c;)if(c.nodeType===Node.ELEMENT_NODE?d=this.startElement(c):c.nodeType===Node.TEXT_NODE?this.chars(c.nodeValue):this.sanitizedSomething=!0,d&&c.firstChild)c=c.firstChild;else for(;c;){c.nodeType===Node.ELEMENT_NODE&&this.endElement(c);let f=this.checkClobberedElement(c,c.nextSibling);if(f){c=f;break}c=this.checkClobberedElement(c,c.parentNode)}return this.buf.join("")}startElement(a){const c=a.nodeName.toLowerCase();if(!Yn.hasOwnProperty(c))return this.sanitizedSomething=!0,!gc.hasOwnProperty(c);this.buf.push("<"),this.buf.push(c);const d=a.attributes;for(let f=0;f<d.length;f++){const _=d.item(f),w=_.name,b=w.toLowerCase();if(!Vd.hasOwnProperty(b)){this.sanitizedSomething=!0;continue}let D=_.value;gs[b]&&(D=C(D)),this.buf.push(" ",w,'="',mc(D),'"')}return this.buf.push(">"),!0}endElement(a){const c=a.nodeName.toLowerCase();Yn.hasOwnProperty(c)&&!G.hasOwnProperty(c)&&(this.buf.push("</"),this.buf.push(c),this.buf.push(">"))}chars(a){this.buf.push(mc(a))}checkClobberedElement(a,c){if(c&&(a.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${a.outerHTML}`);return c}}const Wg=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,qg=/([^\#-~ |!])/g;function mc(o){return o.replace(/&/g,"&amp;").replace(Wg,function(a){return"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";"}).replace(qg,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let _c;function Zg(o,a){let c=null;try{_c=_c||function my(o){const a=new v(o);return function p(){try{return!!(new window.DOMParser).parseFromString(Gi(""),"text/html")}catch{return!1}}()?new Fd(a):a}(o);let d=a?String(a):"";c=_c.getInertBodyElement(d);let f=5,_=d;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,d=_,_=c.innerHTML,c=_c.getInertBodyElement(d)}while(d!==_);return Gi((new _y).sanitizeChildren(Wa(c)||c))}finally{if(c){const d=Wa(c)||c;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function Wa(o){return"content"in o&&function eu(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var Mi=(()=>((Mi=Mi||{})[Mi.NONE=0]="NONE",Mi[Mi.HTML=1]="HTML",Mi[Mi.STYLE=2]="STYLE",Mi[Mi.SCRIPT=3]="SCRIPT",Mi[Mi.URL=4]="URL",Mi[Mi.RESOURCE_URL=5]="RESOURCE_URL",Mi))();function sI(o){const a=Ud();return a?Sf(a.sanitize(Mi.HTML,o)||""):No(o,"HTML")?Sf(xi(o)):Zg(function Tf(){return void 0!==Oo?Oo:typeof document<"u"?document:void 0}(),Ie(o))}function Bd(o){const a=Ud();return a?a.sanitize(Mi.URL,o)||"":No(o,"URL")?xi(o):C(Ie(o))}function Ud(){const o=Ne();return o&&o[12]}const Pf=new bn("ENVIRONMENT_INITIALIZER"),zd=new bn("INJECTOR",-1),aI=new bn("INJECTOR_DEF_TYPES");class lI{get(a,c=Kn){if(c===Kn){const d=new Error(`NullInjectorError: No provider for ${ye(a)}!`);throw d.name="NullInjectorError",d}return c}}function sx(...o){return{\u0275providers:uI(0,o)}}function uI(o,...a){const c=[],d=new Set;let f;return us(a,_=>{const w=_;mw(w,c,[],d)&&(f||(f=[]),f.push(w))}),void 0!==f&&cI(f,c),c}function cI(o,a){for(let c=0;c<o.length;c++){const{providers:f}=o[c];us(f,_=>{a.push(_)})}}function mw(o,a,c,d){if(!(o=Y(o)))return!1;let f=null,_=Un(o);const w=!_&&he(o);if(_||w){if(w&&!w.standalone)return!1;f=o}else{const D=o.ngModule;if(_=Un(D),!_)return!1;f=D}const b=d.has(f);if(w){if(b)return!1;if(d.add(f),w.dependencies){const D="function"==typeof w.dependencies?w.dependencies():w.dependencies;for(const x of D)mw(x,a,c,d)}}else{if(!_)return!1;{if(null!=_.imports&&!b){let x;d.add(f);try{us(_.imports,N=>{mw(N,a,c,d)&&(x||(x=[]),x.push(N))})}finally{}void 0!==x&&cI(x,a)}if(!b){const x=Ks(f)||(()=>new f);a.push({provide:f,useFactory:x,deps:kt},{provide:aI,useValue:f,multi:!0},{provide:Pf,useValue:()=>hi(f),multi:!0})}const D=_.providers;null==D||b||us(D,N=>{a.push(N)})}}return f!==o&&void 0!==o.providers}const ox=fe({provide:String,useValue:fe});function _w(o){return null!==o&&"object"==typeof o&&ox in o}function tu(o){return"function"==typeof o}const Yg=new bn("Set Injector scope."),Hd={},ax={};let vw;function yy(){return void 0===vw&&(vw=new lI),vw}class jd{}class Qg extends jd{constructor(a,c,d,f){super(),this.parent=c,this.source=d,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ww(a,w=>this.processProvider(w)),this.records.set(zd,$d(void 0,this)),f.has("environment")&&this.records.set(jd,$d(void 0,this));const _=this.records.get(Yg);null!=_&&"string"==typeof _.value&&this.scopes.add(_.value),this.injectorDefTypes=new Set(this.get(aI.multi,kt,dt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();for(const a of this._onDestroyHooks)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(a){this._onDestroyHooks.push(a)}runInContext(a){this.assertNotDestroyed();const c=hr(this),d=or(void 0);try{return a()}finally{hr(c),or(d)}}get(a,c=Kn,d=dt.Default){this.assertNotDestroyed();const f=hr(this),_=or(void 0);try{if(!(d&dt.SkipSelf)){let b=this.records.get(a);if(void 0===b){const D=function lx(o){return"function"==typeof o||"object"==typeof o&&o instanceof bn}(a)&&pn(a);b=D&&this.injectableDefInScope(D)?$d(vy(a),Hd):null,this.records.set(a,b)}if(null!=b)return this.hydrate(a,b)}return(d&dt.Self?yy():this.parent).get(a,c=d&dt.Optional&&c===Kn?null:c)}catch(w){if("NullInjectorError"===w.name){if((w[dr]=w[dr]||[]).unshift(ye(a)),f)throw w;return function ic(o,a,c,d){const f=o[dr];throw a[jl]&&f.unshift(a[jl]),o.message=function Mn(o,a,c,d=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.slice(2):o;let f=ye(a);if(Array.isArray(a))f=a.map(ye).join(" -> ");else if("object"==typeof a){let _=[];for(let w in a)if(a.hasOwnProperty(w)){let b=a[w];_.push(w+":"+("string"==typeof b?JSON.stringify(b):ye(b)))}f=`{${_.join(", ")}}`}return`${c}${d?"("+d+")":""}[${f}]: ${o.replace(Cr,"\n  ")}`}("\n"+o.message,f,c,d),o.ngTokenPath=f,o[dr]=null,o}(w,a,"R3InjectorError",this.source)}throw w}finally{or(_),hr(f)}}resolveInjectorInitializers(){const a=hr(this),c=or(void 0);try{const d=this.get(Pf.multi,kt,dt.Self);for(const f of d)f()}finally{hr(a),or(c)}}toString(){const a=[],c=this.records;for(const d of c.keys())a.push(ye(d));return`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new xe(205,!1)}processProvider(a){let c=tu(a=Y(a))?a:Y(a&&a.provide);const d=function wy(o){return _w(o)?$d(void 0,o.useValue):$d(Jg(o),Hd)}(a);if(tu(a)||!0!==a.multi)this.records.get(c);else{let f=this.records.get(c);f||(f=$d(void 0,Hd,!0),f.factory=()=>cf(f.multi),this.records.set(c,f)),c=a,f.multi.push(a)}this.records.set(c,d)}hydrate(a,c){return c.value===Hd&&(c.value=ax,c.value=c.factory()),"object"==typeof c.value&&c.value&&function pI(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(c.value)&&this._ngOnDestroyHooks.add(c.value),c.value}injectableDefInScope(a){if(!a.providedIn)return!1;const c=Y(a.providedIn);return"string"==typeof c?"any"===c||this.scopes.has(c):this.injectorDefTypes.has(c)}}function vy(o){const a=pn(o),c=null!==a?a.factory:Ks(o);if(null!==c)return c;if(o instanceof bn)throw new xe(204,!1);if(o instanceof Function)return function fI(o){const a=o.length;if(a>0)throw Va(a,"?"),new xe(204,!1);const c=function qt(o){const a=o&&(o[Zn]||o[sr]);if(a){const c=function In(o){if(o.hasOwnProperty("name"))return o.name;const a=(""+o).match(/^function\s*([^\s(]+)/);return null===a?"":a[1]}(o);return console.warn(`DEPRECATED: DI is instantiating a token "${c}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${c}" class.`),a}return null}(o);return null!==c?()=>c.factory(o):()=>new o}(o);throw new xe(204,!1)}function Jg(o,a,c){let d;if(tu(o)){const f=Y(o);return Ks(f)||vy(f)}if(_w(o))d=()=>Y(o.useValue);else if(function dI(o){return!(!o||!o.useFactory)}(o))d=()=>o.useFactory(...cf(o.deps||[]));else if(function yw(o){return!(!o||!o.useExisting)}(o))d=()=>hi(Y(o.useExisting));else{const f=Y(o&&(o.useClass||o.provide));if(!function Xg(o){return!!o.deps}(o))return Ks(f)||vy(f);d=()=>new f(...cf(o.deps))}return d}function $d(o,a,c=!1){return{factory:o,value:a,multi:c?[]:void 0}}function ux(o){return!!o.\u0275providers}function ww(o,a){for(const c of o)Array.isArray(c)?ww(c,a):ux(c)?ww(c.\u0275providers,a):a(c)}class gI{}class dx{resolveComponentFactory(a){throw function Cy(o){const a=Error(`No component factory found for ${ye(o)}. Did you add it to @NgModule.entryComponents?`);return a.ngComponent=o,a}(a)}}let em=(()=>{class o{}return o.NULL=new dx,o})();function hx(){return Of(ti(),Ne())}function Of(o,a){return new tm(wr(o,a))}let tm=(()=>{class o{constructor(c){this.nativeElement=c}}return o.__NG_ELEMENT_ID__=hx,o})();function _I(o){return o instanceof tm?o.nativeElement:o}class Cw{}let yI=(()=>{class o{}return o.__NG_ELEMENT_ID__=()=>function vI(){const o=Ne(),c=di(ti().index,o);return(Fi(c)?c:o)[11]}(),o})(),wI=(()=>{class o{}return o.\u0275prov=be({token:o,providedIn:"root",factory:()=>null}),o})();class Ew{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const CI=new Ew("14.3.0"),bw={};function Tw(o){return o.ngOriginalError}class nm{constructor(){this._console=console}handleError(a){const c=this._findOriginalError(a);this._console.error("ERROR",a),c&&this._console.error("ORIGINAL ERROR",c)}_findOriginalError(a){let c=a&&Tw(a);for(;c&&Tw(c);)c=Tw(c);return c||null}}function px(o){return o.ownerDocument.defaultView}function nu(o){return o instanceof Function?o():o}function im(o,a,c){let d=o.length;for(;;){const f=o.indexOf(a,c);if(-1===f)return f;if(0===f||o.charCodeAt(f-1)<=32){const _=a.length;if(f+_===d||o.charCodeAt(f+_)<=32)return f}c=f+1}}const xI="ng-template";function _x(o,a,c){let d=0;for(;d<o.length;){let f=o[d++];if(c&&"class"===f){if(f=o[d],-1!==im(f.toLowerCase(),a,0))return!0}else if(1===f){for(;d<o.length&&"string"==typeof(f=o[d++]);)if(f.toLowerCase()===a)return!0;return!1}}return!1}function MI(o){return 4===o.type&&o.value!==xI}function yx(o,a,c){return a===(4!==o.type||c?o.value:xI)}function PI(o,a,c){let d=4;const f=o.attrs||[],_=function Gd(o){for(let a=0;a<o.length;a++)if(Hu(o[a]))return a;return o.length}(f);let w=!1;for(let b=0;b<a.length;b++){const D=a[b];if("number"!=typeof D){if(!w)if(4&d){if(d=2|1&d,""!==D&&!yx(o,D,c)||""===D&&1===a.length){if(Ln(d))return!1;w=!0}}else{const x=8&d?D:a[++b];if(8&d&&null!==o.attrs){if(!_x(o.attrs,x,c)){if(Ln(d))return!1;w=!0}continue}const B=vx(8&d?"class":D,f,MI(o),c);if(-1===B){if(Ln(d))return!1;w=!0;continue}if(""!==x){let q;q=B>_?"":f[B+1].toLowerCase();const te=8&d?q:null;if(te&&-1!==im(te,x,0)||2&d&&x!==q){if(Ln(d))return!1;w=!0}}}}else{if(!w&&!Ln(d)&&!Ln(D))return!1;if(w&&Ln(D))continue;w=!1,d=D|1&d}}return Ln(d)||w}function Ln(o){return 0==(1&o)}function vx(o,a,c,d){if(null===a)return-1;let f=0;if(d||!c){let _=!1;for(;f<a.length;){const w=a[f];if(w===o)return f;if(3===w||6===w)_=!0;else{if(1===w||2===w){let b=a[++f];for(;"string"==typeof b;)b=a[++f];continue}if(4===w)break;if(0===w){f+=4;continue}}f+=_?1:2}return-1}return function wx(o,a){let c=o.indexOf(4);if(c>-1)for(c++;c<o.length;){const d=o[c];if("number"==typeof d)return-1;if(d===a)return c;c++}return-1}(a,o)}function Sw(o,a,c=!1){for(let d=0;d<a.length;d++)if(PI(o,a[d],c))return!0;return!1}function Cx(o,a){e:for(let c=0;c<a.length;c++){const d=a[c];if(o.length===d.length){for(let f=0;f<o.length;f++)if(o[f]!==d[f])continue e;return!0}}return!1}function xw(o,a){return o?":not("+a.trim()+")":a}function nR(o){let a=o[0],c=1,d=2,f="",_=!1;for(;c<o.length;){let w=o[c];if("string"==typeof w)if(2&d){const b=o[++c];f+="["+w+(b.length>0?'="'+b+'"':"")+"]"}else 8&d?f+="."+w:4&d&&(f+=" "+w);else""!==f&&!Ln(w)&&(a+=xw(_,f),f=""),d=w,_=_||!Ln(d);c++}return""!==f&&(a+=xw(_,f)),a}const $t={};function Mw(o){rm(Qt(),Ne(),gn()+o,!1)}function rm(o,a,c,d){if(!d)if(3==(3&a[2])){const _=o.preOrderCheckHooks;null!==_&&Ml(a,_,c)}else{const _=o.preOrderHooks;null!==_&&Oa(a,_,0,c)}Js(c)}function kI(o,a=null,c=null,d){const f=RI(o,a,c,d);return f.resolveInjectorInitializers(),f}function RI(o,a=null,c=null,d,f=new Set){const _=[c||kt,sx(o)];return d=d||("object"==typeof o?void 0:ye(o)),new Qg(_,a||yy(),d||null,f)}let yc=(()=>{class o{static create(c,d){if(Array.isArray(c))return kI({name:""},d,c,"");{const f=c.name??"";return kI({name:f},c.parent,c.providers,f)}}}return o.THROW_IF_NOT_FOUND=Kn,o.NULL=new lI,o.\u0275prov=be({token:o,providedIn:"any",factory:()=>hi(zd)}),o.__NG_ELEMENT_ID__=-1,o})();function tt(o,a=dt.Default){const c=Ne();return null===c?hi(o,a):Ra(ti(),c,Y(o),a)}function Ty(){throw new Error("invalid")}function Wd(o,a){return o<<17|a<<2}function ms(o){return o>>17&32767}function Lw(o){return 2|o}function ru(o){return(131068&o)>>2}function Vw(o,a){return-131069&o|a<<2}function Lf(o){return 1|o}function Ww(o,a){const c=o.contentQueries;if(null!==c)for(let d=0;d<c.length;d+=2){const f=c[d],_=c[d+1];if(-1!==_){const w=o.data[_];cr(f),w.contentQueries(2,a[_],_)}}}function um(o,a,c,d,f,_,w,b,D,x,N){const B=a.blueprint.slice();return B[0]=f,B[2]=76|d,(null!==N||o&&1024&o[2])&&(B[2]|=1024),To(B),B[3]=B[15]=o,B[8]=c,B[10]=w||o&&o[10],B[11]=b||o&&o[11],B[12]=D||o&&o[12]||null,B[9]=x||o&&o[9]||null,B[6]=_,B[20]=function X(){return K++}(),B[21]=N,B[16]=2==a.type?o[16]:B,B}function qd(o,a,c,d,f){let _=o.data[a];if(null===_)_=function cm(o,a,c,d,f){const _=Ru(),w=xa(),D=o.data[a]=function Rx(o,a,c,d,f,_){return{type:c,index:d,insertBeforeIndex:null,injectorIndex:a?a.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:_,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,w?_:_&&_.parent,c,a,d,f);return null===o.firstChild&&(o.firstChild=D),null!==_&&(w?null==_.child&&null!==D.parent&&(_.child=D):null===_.next&&(_.next=D)),D}(o,a,c,d,f),function Kh(){return Lt.lFrame.inI18n}()&&(_.flags|=64);else if(64&_.type){_.type=c,_.value=d,_.attrs=f;const w=function Go(){const o=Lt.lFrame,a=o.currentTNode;return o.isParent?a:a.parent}();_.injectorIndex=null===w?-1:w.injectorIndex}return Pr(_,!0),_}function Zd(o,a,c,d){if(0===c)return-1;const f=a.length;for(let _=0;_<c;_++)a.push(d),o.blueprint.push(d),o.data.push(null);return f}function qw(o,a,c){Al(a);try{const d=o.viewQuery;null!==d&&_m(1,d,c);const f=o.template;null!==f&&Ry(o,a,f,1,c),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&Ww(o,a),o.staticViewQueries&&_m(2,o.viewQuery,c);const _=o.components;null!==_&&function Ox(o,a){for(let c=0;c<a.length;c++)Hy(o,a[c])}(a,_)}catch(d){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),d}finally{a[2]&=-5,Pa()}}function Uf(o,a,c,d){const f=a[2];if(128!=(128&f)){Al(a);try{To(a),function as(o){return Lt.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==c&&Ry(o,a,c,2,d);const w=3==(3&f);if(w){const x=o.preOrderCheckHooks;null!==x&&Ml(a,x,null)}else{const x=o.preOrderHooks;null!==x&&Oa(a,x,0,null),ef(a,0)}if(function _s(o){for(let a=uc(o);null!==a;a=sy(a)){if(!a[2])continue;const c=a[9];for(let d=0;d<c.length;d++){const f=c[d],_=f[3];0==(512&f[2])&&Yi(_,1),f[2]|=512}}}(a),function sT(o){for(let a=uc(o);null!==a;a=sy(a))for(let c=10;c<a.length;c++){const d=a[c],f=d[1];$o(d)&&Uf(f,d,f.template,d[8])}}(a),null!==o.contentQueries&&Ww(o,a),w){const x=o.contentCheckHooks;null!==x&&Ml(a,x)}else{const x=o.contentHooks;null!==x&&Oa(a,x,1),ef(a,1)}!function Gw(o,a){const c=o.hostBindingOpCodes;if(null!==c)try{for(let d=0;d<c.length;d++){const f=c[d];if(f<0)Js(~f);else{const _=f,w=c[++d],b=c[++d];Y_(w,_),b(2,a[_])}}}finally{Js(-1)}}(o,a);const b=o.components;null!==b&&function QI(o,a){for(let c=0;c<a.length;c++)oT(o,a[c])}(a,b);const D=o.viewQuery;if(null!==D&&_m(2,D,d),w){const x=o.viewCheckHooks;null!==x&&Ml(a,x)}else{const x=o.viewHooks;null!==x&&Oa(a,x,2),ef(a,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),a[2]&=-41,512&a[2]&&(a[2]&=-513,Yi(a[3],-1))}finally{Pa()}}}function Ry(o,a,c,d,f){const _=gn(),w=2&d;try{Js(-1),w&&a.length>22&&rm(o,a,22,!1),c(d,f)}finally{Js(_)}}function Fy(o,a,c){if(Ta(a)){const f=a.directiveEnd;for(let _=a.directiveStart;_<f;_++){const w=o.data[_];w.contentQueries&&w.contentQueries(1,c[_],_)}}}function tr(o,a,c){!Zh()||(function Fx(o,a,c,d){const f=c.directiveStart,_=c.directiveEnd;o.firstCreatePass||ka(c,a),Dt(d,a);const w=c.initialInputs;for(let b=f;b<_;b++){const D=o.data[b],x=rs(D);x&&Vx(a,c,D);const N=Ll(a,o,b,c);Dt(N,a),null!==w&&rT(0,b-f,N,D,0,w),x&&(di(c.index,a)[8]=N)}}(o,a,c,wr(c,a)),128==(128&c.flags)&&function gm(o,a,c){const d=c.directiveStart,f=c.directiveEnd,_=c.index,w=function Ma(){return Lt.lFrame.currentDirectiveIndex}();try{Js(_);for(let b=d;b<f;b++){const D=o.data[b],x=a[b];od(b),(null!==D.hostBindings||0!==D.hostVars||null!==D.hostAttrs)&&Kw(D,x)}}finally{Js(-1),od(w)}}(o,a,c))}function fr(o,a,c=wr){const d=a.localNames;if(null!==d){let f=a.index+1;for(let _=0;_<d.length;_+=2){const w=d[_+1],b=-1===w?c(a,o):o[w];o[f++]=b}}}function dm(o){const a=o.tView;return null===a||a.incompleteFirstPass?o.tView=hm(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts):a}function hm(o,a,c,d,f,_,w,b,D,x){const N=22+d,B=N+f,q=function Nx(o,a){const c=[];for(let d=0;d<a;d++)c.push(d<o?null:$t);return c}(N,B),te="function"==typeof x?x():x;return q[1]={type:o,blueprint:q,template:c,queries:null,viewQuery:b,declTNode:a,data:q.slice().fill(null,N),bindingStartIndex:N,expandoStartIndex:B,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof _?_():_,pipeRegistry:"function"==typeof w?w():w,firstChild:null,schemas:D,consts:te,incompleteFirstPass:!1}}function Zw(o,a,c,d){const f=Gy(a);null===c?f.push(d):(f.push(c),o.firstCreatePass&&ym(o).push(d,f.length-1))}function JI(o,a,c){for(let d in o)if(o.hasOwnProperty(d)){const f=o[d];(c=null===c?{}:c).hasOwnProperty(d)?c[d].push(a,f):c[d]=[a,f]}return c}function XI(o,a){const d=a.directiveEnd,f=o.data,_=a.attrs,w=[];let b=null,D=null;for(let x=a.directiveStart;x<d;x++){const N=f[x],B=N.inputs,q=null===_||MI(a)?null:zy(B,_);w.push(q),b=JI(B,x,b),D=JI(N.outputs,x,D)}null!==b&&(b.hasOwnProperty("class")&&(a.flags|=16),b.hasOwnProperty("style")&&(a.flags|=32)),a.initialInputs=w,a.inputs=b,a.outputs=D}function Vr(o,a,c,d,f,_,w,b){const D=wr(a,c);let N,x=a.inputs;!b&&null!=x&&(N=x[d])?(Jw(o,c,N,d,f),Tu(a)&&Ly(c,a.index)):3&a.type&&(d=function fm(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(d),f=null!=w?w(f,a.value||"",d):f,_.setProperty(D,d,f))}function Ly(o,a){const c=di(a,o);16&c[2]||(c[2]|=32)}function pm(o,a,c,d){let f=!1;if(Zh()){const _=function nT(o,a,c){const d=o.directiveRegistry;let f=null;if(d)for(let _=0;_<d.length;_++){const w=d[_];Sw(c,w.selectors,!1)&&(f||(f=[]),Fl(ka(c,a),o,w.type),rs(w)?(Yw(o,c),f.unshift(w)):f.push(w))}return f}(o,a,c),w=null===d?null:{"":-1};if(null!==_){f=!0,iT(c,o.data.length,_.length);for(let N=0;N<_.length;N++){const B=_[N];B.providersResolver&&B.providersResolver(B)}let b=!1,D=!1,x=Zd(o,a,_.length,null);for(let N=0;N<_.length;N++){const B=_[N];c.mergedAttrs=Na(c.mergedAttrs,B.hostAttrs),Kd(o,c,a,x,B),Lx(x,B,w),null!==B.contentQueries&&(c.flags|=8),(null!==B.hostBindings||null!==B.hostAttrs||0!==B.hostVars)&&(c.flags|=128);const q=B.type.prototype;!b&&(q.ngOnChanges||q.ngOnInit||q.ngDoCheck)&&((o.preOrderHooks||(o.preOrderHooks=[])).push(c.index),b=!0),!D&&(q.ngOnChanges||q.ngDoCheck)&&((o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(c.index),D=!0),x++}XI(o,c)}w&&function Uy(o,a,c){if(a){const d=o.localNames=[];for(let f=0;f<a.length;f+=2){const _=c[a[f+1]];if(null==_)throw new xe(-301,!1);d.push(a[f],_)}}}(c,d,w)}return c.mergedAttrs=Na(c.mergedAttrs,c.attrs),f}function By(o,a,c,d,f,_){const w=_.hostBindings;if(w){let b=o.hostBindingOpCodes;null===b&&(b=o.hostBindingOpCodes=[]);const D=~a.index;(function tT(o){let a=o.length;for(;a>0;){const c=o[--a];if("number"==typeof c&&c<0)return c}return 0})(b)!=D&&b.push(D),b.push(d,f,w)}}function Kw(o,a){null!==o.hostBindings&&o.hostBindings(1,a)}function Yw(o,a){a.flags|=2,(o.components||(o.components=[])).push(a.index)}function Lx(o,a,c){if(c){if(a.exportAs)for(let d=0;d<a.exportAs.length;d++)c[a.exportAs[d]]=o;rs(a)&&(c[""]=o)}}function iT(o,a,c){o.flags|=1,o.directiveStart=a,o.directiveEnd=a+c,o.providerIndexes=a}function Kd(o,a,c,d,f){o.data[d]=f;const _=f.factory||(f.factory=Ks(f.type)),w=new Ol(_,rs(f),tt);o.blueprint[d]=w,c[d]=w,By(o,a,0,d,Zd(o,c,f.hostVars,$t),f)}function Vx(o,a,c){const d=wr(a,o),f=dm(c),_=o[10],w=Hf(o,um(o,f,null,c.onPush?32:16,d,a,_,_.createRenderer(d,c),null,null,null));o[a.index]=w}function Qa(o,a,c,d,f,_){const w=wr(o,a);!function ou(o,a,c,d,f,_,w){if(null==_)o.removeAttribute(a,f,c);else{const b=null==w?Ie(_):w(_,d||"",f);o.setAttribute(a,f,b,c)}}(a[11],w,_,o.value,c,d,f)}function rT(o,a,c,d,f,_){const w=_[a];if(null!==w){const b=d.setInput;for(let D=0;D<w.length;){const x=w[D++],N=w[D++],B=w[D++];null!==b?d.setInput(c,B,x,N):c[N]=B}}}function zy(o,a){let c=null,d=0;for(;d<a.length;){const f=a[d];if(0!==f)if(5!==f){if("number"==typeof f)break;o.hasOwnProperty(f)&&(null===c&&(c=[]),c.push(f,o[f],a[d+1])),d+=2}else d+=2;else d+=4}return c}function zf(o,a,c,d){return new Array(o,!0,!1,a,null,0,d,c,null,null)}function oT(o,a){const c=di(a,o);if($o(c)){const d=c[1];48&c[2]?Uf(d,c,d.template,c[8]):c[5]>0&&Yd(c)}}function Yd(o){for(let d=uc(o);null!==d;d=sy(d))for(let f=10;f<d.length;f++){const _=d[f];if($o(_))if(512&_[2]){const w=_[1];Uf(w,_,w.template,_[8])}else _[5]>0&&Yd(_)}const c=o[1].components;if(null!==c)for(let d=0;d<c.length;d++){const f=di(c[d],o);$o(f)&&f[5]>0&&Yd(f)}}function Hy(o,a){const c=di(a,o),d=c[1];(function aT(o,a){for(let c=a.length;c<o.blueprint.length;c++)a.push(o.blueprint[c])})(d,c),qw(d,c,c[8])}function Hf(o,a){return o[13]?o[14][4]=a:o[13]=a,o[14]=a,a}function jy(o){for(;o;){o[2]|=32;const a=Ad(o);if(Da(o)&&!a)return o;o=a}return null}function mm(o,a,c,d=!0){const f=a[10];f.begin&&f.begin();try{Uf(o,a,o.template,c)}catch(w){throw d&&Qw(a,w),w}finally{f.end&&f.end()}}function _m(o,a,c){cr(0),a(o,c)}function Gy(o){return o[7]||(o[7]=[])}function ym(o){return o.cleanup||(o.cleanup=[])}function Qw(o,a){const c=o[9],d=c?c.get(nm,null):null;d&&d.handleError(a)}function Jw(o,a,c,d,f){for(let _=0;_<c.length;){const w=c[_++],b=c[_++],D=a[w],x=o.data[w];null!==x.setInput?x.setInput(D,f,d,b):D[b]=f}}function Qd(o,a,c){let d=c?o.styles:null,f=c?o.classes:null,_=0;if(null!==a)for(let w=0;w<a.length;w++){const b=a[w];"number"==typeof b?_=b:1==_?f=_e(f,b):2==_&&(d=_e(d,b+": "+a[++w]+";"))}c?o.styles=d:o.stylesWithoutHost=d,c?o.classes=f:o.classesWithoutHost=f}function $f(o,a,c,d,f=!1){for(;null!==c;){const _=a[c.index];if(null!==_&&d.push(ci(_)),vr(_))for(let b=10;b<_.length;b++){const D=_[b],x=D[1].firstChild;null!==x&&$f(D[1],D,x,d)}const w=c.type;if(8&w)$f(o,a,c.child,d);else if(32&w){const b=lc(c,a);let D;for(;D=b();)d.push(D)}else if(16&w){const b=Vg(a,c);if(Array.isArray(b))d.push(...b);else{const D=Ad(a[16]);$f(D[1],D,b,d,!0)}}c=f?c.projectionNext:c.next}return d}class Gf{constructor(a,c){this._lView=a,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const a=this._lView,c=a[1];return $f(c,a,c.firstChild,[])}get context(){return this._lView[8]}set context(a){this._lView[8]=a}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[3];if(vr(a)){const c=a[8],d=c?c.indexOf(this):-1;d>-1&&(Yl(a,d),vd(c,d))}this._attachedToViewContainer=!1}Ql(this._lView[1],this._lView)}onDestroy(a){Zw(this._lView[1],this._lView,null,a)}markForCheck(){jy(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){mm(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new xe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function rI(o,a){Od(o,a,a[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new xe(902,!1);this._appRef=a}}class uT extends Gf{constructor(a){super(a),this._view=a}detectChanges(){const a=this._view;mm(a[1],a,a[8],!1)}checkNoChanges(){}get context(){return null}}class Wy extends em{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const c=he(a);return new wc(c,this.ngModule)}}function cT(o){const a=[];for(let c in o)o.hasOwnProperty(c)&&a.push({propName:o[c],templateName:c});return a}class dT{constructor(a,c){this.injector=a,this.parentInjector=c}get(a,c,d){const f=this.injector.get(a,bw,d);return f!==bw||c===bw?f:this.parentInjector.get(a,c,d)}}class wc extends gI{constructor(a,c){super(),this.componentDef=a,this.ngModule=c,this.componentType=a.type,this.selector=function iR(o){return o.map(nR).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!c}get inputs(){return cT(this.componentDef.inputs)}get outputs(){return cT(this.componentDef.outputs)}create(a,c,d,f){let _=(f=f||this.ngModule)instanceof jd?f:f?.injector;_&&null!==this.componentDef.getStandaloneInjector&&(_=this.componentDef.getStandaloneInjector(_)||_);const w=_?new dT(a,_):a,b=w.get(Cw,null);if(null===b)throw new xe(407,!1);const D=w.get(wI,null),x=b.createRenderer(null,this.componentDef),N=this.componentDef.selectors[0][0]||"div",B=d?function kx(o,a,c){return o.selectRootElement(a,c===vt.ShadowDom)}(x,d,this.componentDef.encapsulation):Og(x,N,function vm(o){const a=o.toLowerCase();return"svg"===a?"svg":"math"===a?"math":null}(N)),q=this.componentDef.onPush?288:272,te=hm(0,null,null,1,0,null,null,null,null,null),Me=um(null,te,null,q,null,null,b,x,D,w,null);let He,Xe;Al(Me);try{const bt=function Ux(o,a,c,d,f,_){const w=c[1];c[22]=o;const D=qd(w,22,2,"#host",null),x=D.mergedAttrs=a.hostAttrs;null!==x&&(Qd(D,x,!0),null!==o&&(zu(f,o,x),null!==D.classes&&Gg(f,o,D.classes),null!==D.styles&&$g(f,o,D.styles)));const N=d.createRenderer(o,a),B=um(c,dm(a),null,a.onPush?32:16,c[22],D,d,N,_||null,null,null);return w.firstCreatePass&&(Fl(ka(D,c),w,a.type),Yw(w,D),iT(D,c.length,1)),Hf(c,B),c[22]=B}(B,this.componentDef,Me,b,x);if(B)if(d)zu(x,B,["ng-version",CI.full]);else{const{attrs:Ft,classes:Fe}=function Ex(o){const a=[],c=[];let d=1,f=2;for(;d<o.length;){let _=o[d];if("string"==typeof _)2===f?""!==_&&a.push(_,o[++d]):8===f&&c.push(_);else{if(!Ln(f))break;f=_}d++}return{attrs:a,classes:c}}(this.componentDef.selectors[0]);Ft&&zu(x,B,Ft),Fe&&Fe.length>0&&Gg(x,B,Fe.join(" "))}if(Xe=Il(te,22),void 0!==c){const Ft=Xe.projection=[];for(let Fe=0;Fe<this.ngContentSelectors.length;Fe++){const Bt=c[Fe];Ft.push(null!=Bt?Array.from(Bt):null)}}He=function hT(o,a,c,d){const f=c[1],_=function Vy(o,a,c){const d=ti();o.firstCreatePass&&(c.providersResolver&&c.providersResolver(c),Kd(o,d,a,Zd(o,a,1,null),c),XI(o,d));const f=Ll(a,o,d.directiveStart,d);Dt(f,a);const _=wr(d,a);return _&&Dt(_,a),f}(f,c,a);if(o[8]=c[8]=_,null!==d)for(const b of d)b(_,a);if(a.contentQueries){const b=ti();a.contentQueries(1,_,b.directiveStart)}const w=ti();return!f.firstCreatePass||null===a.hostBindings&&null===a.hostAttrs||(Js(w.index),By(c[1],w,0,w.directiveStart,w.directiveEnd,a),Kw(a,_)),_}(bt,this.componentDef,Me,[fT]),qw(te,Me,null)}finally{Pa()}return new Xw(this.componentType,He,Of(Xe,Me),Me,Xe)}}class Xw extends class cx{}{constructor(a,c,d,f,_){super(),this.location=d,this._rootLView=f,this._tNode=_,this.instance=c,this.hostView=this.changeDetectorRef=new uT(f),this.componentType=a}setInput(a,c){const d=this._tNode.inputs;let f;if(null!==d&&(f=d[a])){const _=this._rootLView;Jw(_[1],_,f,a,c),Ly(_,this._tNode.index)}}get injector(){return new Os(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}function fT(){const o=ti();Zo(Ne()[1],o)}function au(o){let a=function pT(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),c=!0;const d=[o];for(;a;){let f;if(rs(o))f=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new xe(903,!1);f=a.\u0275dir}if(f){if(c){d.push(f);const w=o;w.inputs=qf(o.inputs),w.declaredInputs=qf(o.declaredInputs),w.outputs=qf(o.outputs);const b=f.hostBindings;b&&mi(o,b);const D=f.viewQuery,x=f.contentQueries;if(D&&qy(o,D),x&&gT(o,x),de(o.inputs,f.inputs),de(o.declaredInputs,f.declaredInputs),de(o.outputs,f.outputs),rs(f)&&f.data.animation){const N=o.data;N.animation=(N.animation||[]).concat(f.data.animation)}}const _=f.features;if(_)for(let w=0;w<_.length;w++){const b=_[w];b&&b.ngInherit&&b(o),b===au&&(c=!1)}}a=Object.getPrototypeOf(a)}!function lu(o){let a=0,c=null;for(let d=o.length-1;d>=0;d--){const f=o[d];f.hostVars=a+=f.hostVars,f.hostAttrs=Na(f.hostAttrs,c=Na(c,f.hostAttrs))}}(d)}function qf(o){return o===Xn?{}:o===kt?[]:o}function qy(o,a){const c=o.viewQuery;o.viewQuery=c?(d,f)=>{a(d,f),c(d,f)}:a}function gT(o,a){const c=o.contentQueries;o.contentQueries=c?(d,f,_)=>{a(d,f,_),c(d,f,_)}:a}function mi(o,a){const c=o.hostBindings;o.hostBindings=c?(d,f)=>{a(d,f),c(d,f)}:a}let Ky=null;function Cc(){if(!Ky){const o=En.Symbol;if(o&&o.iterator)Ky=o.iterator;else{const a=Object.getOwnPropertyNames(Map.prototype);for(let c=0;c<a.length;++c){const d=a[c];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(Ky=d)}}}return Ky}function bm(o){return!!Jd(o)&&(Array.isArray(o)||!(o instanceof Map)&&Cc()in o)}function Jd(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function ca(o,a,c){return o[a]=c}function Br(o,a,c){return!Object.is(o[a],c)&&(o[a]=c,!0)}function ko(o,a,c,d){const f=Br(o,a,c);return Br(o,a+1,d)||f}function Qy(o,a,c,d){const f=Ne();return Br(f,Qs(),a)&&(Qt(),Qa($n(),f,o,a,c,d)),Qy}function Xd(o,a,c,d){return Br(o,Qs(),c)?a+Ie(c)+d:$t}function eh(o,a,c,d,f,_){const b=ko(o,function Or(){return Lt.lFrame.bindingIndex}(),c,f);return Nr(2),b?a+Ie(c)+d+Ie(f)+_:$t}function tC(o,a,c,d,f,_,w,b){const D=Ne(),x=Qt(),N=o+22,B=x.firstCreatePass?function Li(o,a,c,d,f,_,w,b,D){const x=a.consts,N=qd(a,o,4,w||null,Mr(x,b));pm(a,c,N,Mr(x,D)),Zo(a,N);const B=N.tViews=hm(2,N,d,f,_,a.directiveRegistry,a.pipeRegistry,null,a.schemas,x);return null!==a.queries&&(a.queries.template(a,N),B.queries=a.queries.embeddedTView(N)),N}(N,x,D,a,c,d,f,_,w):x.data[N];Pr(B,!1);const q=D[11].createComment("");Po(x,D,q,B),Dt(q,D),Hf(D,D[N]=zf(q,D,q,B)),Zs(B)&&tr(x,D,B),null!=w&&fr(D,B,b)}function yT(o){return function Aa(o,a){return o[a]}(function ni(){return Lt.lFrame.contextLView}(),22+o)}function nC(o,a,c){const d=Ne();return Br(d,Qs(),a)&&Vr(Qt(),$n(),d,o,a,d[11],c,!1),nC}function Xy(o,a,c,d,f){const w=f?"class":"style";Jw(o,c,a.inputs[w],w,d)}function Dm(o,a,c,d){const f=Ne(),_=Qt(),w=22+o,b=f[11],D=f[w]=Og(b,a,function Vu(){return Lt.lFrame.currentNamespace}()),x=_.firstCreatePass?function vT(o,a,c,d,f,_,w){const b=a.consts,x=qd(a,o,2,f,Mr(b,_));return pm(a,c,x,Mr(b,w)),null!==x.attrs&&Qd(x,x.attrs,!1),null!==x.mergedAttrs&&Qd(x,x.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,x),x}(w,_,f,0,a,c,d):_.data[w];Pr(x,!0);const N=x.mergedAttrs;null!==N&&zu(b,D,N);const B=x.classes;null!==B&&Gg(b,D,B);const q=x.styles;return null!==q&&$g(b,D,q),64!=(64&x.flags)&&Po(_,f,D,x),0===function Tl(){return Lt.lFrame.elementDepthCount}()&&Dt(D,f),function Wh(){Lt.lFrame.elementDepthCount++}(),Zs(x)&&(tr(_,f,x),Fy(_,x,f)),null!==d&&fr(f,x),Dm}function ih(){let o=ti();xa()?rd():(o=o.parent,Pr(o,!1));const a=o;!function qh(){Lt.lFrame.elementDepthCount--}();const c=Qt();return c.firstCreatePass&&(Zo(c,o),Ta(o)&&c.queries.elementEnd(o)),null!=a.classesWithoutHost&&function tf(o){return 0!=(16&o.flags)}(a)&&Xy(c,a,Ne(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function hg(o){return 0!=(32&o.flags)}(a)&&Xy(c,a,Ne(),a.stylesWithoutHost,!1),ih}function ev(o,a,c,d){return Dm(o,a,c,d),ih(),ev}function Sm(o,a,c){const d=Ne(),f=Qt(),_=o+22,w=f.firstCreatePass?function Ja(o,a,c,d,f){const _=a.consts,w=Mr(_,d),b=qd(a,o,8,"ng-container",w);return null!==w&&Qd(b,w,!0),pm(a,c,b,Mr(_,f)),null!==a.queries&&a.queries.elementStart(a,b),b}(_,f,d,a,c):f.data[_];Pr(w,!0);const b=d[_]=d[11].createComment("");return Po(f,d,b,w),Dt(b,d),Zs(w)&&(tr(f,d,w),Fy(f,w,d)),null!=c&&fr(d,w),Sm}function tv(){let o=ti();const a=Qt();return xa()?rd():(o=o.parent,Pr(o,!1)),a.firstCreatePass&&(Zo(a,o),Ta(o)&&a.queries.elementEnd(o)),tv}function nv(o,a,c){return Sm(o,a,c),tv(),nv}function iv(){return Ne()}function rh(o){return!!o&&"function"==typeof o.then}function iC(o){return!!o&&"function"==typeof o.subscribe}const rv=iC;function tp(o,a,c,d){const f=Ne(),_=Qt(),w=ti();return function wT(o,a,c,d,f,_,w,b){const D=Zs(d),N=o.firstCreatePass&&ym(o),B=a[8],q=Gy(a);let te=!0;if(3&d.type||b){const Xe=wr(d,a),bt=b?b(Xe):Xe,Ft=q.length,Fe=b?yn=>b(ci(yn[d.index])):d.index;let Bt=null;if(!b&&D&&(Bt=function sv(o,a,c,d){const f=o.cleanup;if(null!=f)for(let _=0;_<f.length-1;_+=2){const w=f[_];if(w===c&&f[_+1]===d){const b=a[7],D=f[_+2];return b.length>D?b[D]:null}"string"==typeof w&&(_+=2)}return null}(o,a,f,d.index)),null!==Bt)(Bt.__ngLastListenerFn__||Bt).__ngNextListenerFn__=_,Bt.__ngLastListenerFn__=_,te=!1;else{_=np(d,a,B,_,!1);const yn=c.listen(bt,f,_);q.push(_,yn),N&&N.push(f,Fe,Ft,Ft+1)}}else _=np(d,a,B,_,!1);const Me=d.outputs;let He;if(te&&null!==Me&&(He=Me[f])){const Xe=He.length;if(Xe)for(let bt=0;bt<Xe;bt+=2){const ai=a[He[bt]][He[bt+1]].subscribe(_),Uc=q.length;q.push(_,ai),N&&N.push(f,d.index,Uc,-(Uc+1))}}}(_,f,f[11],w,o,a,0,d),tp}function sC(o,a,c,d){try{return!1!==c(d)}catch(f){return Qw(o,f),!1}}function np(o,a,c,d,f){return function _(w){if(w===Function)return d;jy(2&o.flags?di(o.index,a):a);let D=sC(a,0,d,w),x=_.__ngNextListenerFn__;for(;x;)D=sC(a,0,x,w)&&D,x=x.__ngNextListenerFn__;return f&&!1===D&&(w.preventDefault(),w.returnValue=!1),D}}function oC(o=1){return function Lu(o){return(Lt.lFrame.contextLView=function Q_(o,a){for(;o>0;)a=a[15],o--;return a}(o,Lt.lFrame.contextLView))[8]}(o)}function CT(o,a){let c=null;const d=function Aw(o){const a=o.attrs;if(null!=a){const c=a.indexOf(5);if(0==(1&c))return a[c+1]}return null}(o);for(let f=0;f<a.length;f++){const _=a[f];if("*"!==_){if(null===d?Sw(o,_,!0):Cx(d,_))return f}else c=f}return c}function ov(o){const a=Ne()[16][6];if(!a.projection){const d=a.projection=Va(o?o.length:1,null),f=d.slice();let _=a.child;for(;null!==_;){const w=o?CT(_,o):0;null!==w&&(f[w]?f[w].projectionNext=_:d[w]=_,f[w]=_),_=_.next}}}function av(o,a=0,c){const d=Ne(),f=Qt(),_=qd(f,22+o,16,null,c||null);null===_.projection&&(_.projection=a),rd(),64!=(64&_.flags)&&function pw(o,a,c){zg(a[11],0,a,c,Jl(o,c,a),ly(c.parent||a[6],c,a))}(f,d,_)}function lv(o,a,c){return sh(o,"",a,"",c),lv}function sh(o,a,c,d,f){const _=Ne(),w=Xd(_,a,c,d);return w!==$t&&Vr(Qt(),$n(),_,o,w,_[11],f,!1),sh}function oh(o,a,c,d,f){const _=o[c+1],w=null===a;let b=d?ms(_):ru(_),D=!1;for(;0!==b&&(!1===D||w);){const N=o[b+1];Gx(o[b],a)&&(D=!0,o[b+1]=d?Lf(N):Lw(N)),b=d?ms(N):ru(N)}D&&(o[c+1]=d?Lw(_):Lf(_))}function Gx(o,a){return null===o||null==a||(Array.isArray(o)?o[1]:o)===a||!(!Array.isArray(o)||"string"!=typeof a)&&Ba(o,a)>=0}const Vn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function uv(o){return o.substring(Vn.key,Vn.keyEnd)}function cv(o,a){const c=Vn.textEnd;return c===a?-1:(a=Vn.keyEnd=function pC(o,a,c){for(;a<c&&o.charCodeAt(a)>32;)a++;return a}(o,Vn.key=a,c),da(o,a,c))}function da(o,a,c){for(;a<c&&o.charCodeAt(a)<=32;)a++;return a}function ip(o,a,c){return ha(o,a,c,!1),ip}function ah(o,a){return ha(o,a,null,!0),ah}function tl(o,a){for(let c=function Wx(o){return function dv(o){Vn.key=0,Vn.keyEnd=0,Vn.value=0,Vn.valueEnd=0,Vn.textEnd=o.length}(o),cv(o,da(o,0,Vn.textEnd))}(a);c>=0;c=cv(a,c))kr(o,uv(a),!0)}function ha(o,a,c,d){const f=Ne(),_=Qt(),w=Nr(2);_.firstUpdatePass&&ST(_,o,w,d),a!==$t&&Br(f,w,a)&&uu(_,_.data[gn()],f,f[11],o,f[w+1]=function Be(o,a){return null==o||("string"==typeof a?o+=a:"object"==typeof o&&(o=ye(xi(o)))),o}(a,c),d,w)}function co(o,a,c,d){const f=Qt(),_=Nr(2);f.firstUpdatePass&&ST(f,null,_,d);const w=Ne();if(c!==$t&&Br(w,_,c)){const b=f.data[gn()];if(Vi(b,d)&&!DT(f,_)){let D=d?b.classesWithoutHost:b.stylesWithoutHost;null!==D&&(c=_e(D,c||"")),Xy(f,b,w,c,d)}else!function sp(o,a,c,d,f,_,w,b){f===$t&&(f=kt);let D=0,x=0,N=0<f.length?f[0]:null,B=0<_.length?_[0]:null;for(;null!==N||null!==B;){const q=D<f.length?f[D+1]:void 0,te=x<_.length?_[x+1]:void 0;let He,Me=null;N===B?(D+=2,x+=2,q!==te&&(Me=B,He=te)):null===B||null!==N&&N<B?(D+=2,Me=N):(x+=2,Me=B,He=te),null!==Me&&uu(o,a,c,d,Me,He,w,b),N=D<f.length?f[D]:null,B=x<_.length?_[x]:null}}(f,b,w,w[11],w[_+1],w[_+1]=function xT(o,a,c){if(null==c||""===c)return kt;const d=[],f=xi(c);if(Array.isArray(f))for(let _=0;_<f.length;_++)o(d,f[_],!0);else if("object"==typeof f)for(const _ in f)f.hasOwnProperty(_)&&o(d,_,f[_]);else"string"==typeof f&&a(d,f);return d}(o,a,c),d,_)}}function DT(o,a){return a>=o.expandoStartIndex}function ST(o,a,c,d){const f=o.data;if(null===f[c+1]){const _=f[gn()],w=DT(o,c);Vi(_,d)&&null===a&&!w&&(a=!1),a=function AT(o,a,c,d){const f=function Dl(o){const a=Lt.lFrame.currentDirectiveIndex;return-1===a?null:o[a]}(o);let _=d?a.residualClasses:a.residualStyles;if(null===f)0===(d?a.classBindings:a.styleBindings)&&(c=nl(c=mC(null,o,a,c,d),a.attrs,d),_=null);else{const w=a.directiveStylingLast;if(-1===w||o[w]!==f)if(c=mC(f,o,a,c,d),null===_){let D=function qx(o,a,c){const d=c?a.classBindings:a.styleBindings;if(0!==ru(d))return o[ms(d)]}(o,a,d);void 0!==D&&Array.isArray(D)&&(D=mC(null,o,a,D[1],d),D=nl(D,a.attrs,d),function hv(o,a,c,d){o[ms(c?a.classBindings:a.styleBindings)]=d}(o,a,d,D))}else _=function Zx(o,a,c){let d;const f=a.directiveEnd;for(let _=1+a.directiveStylingLast;_<f;_++)d=nl(d,o[_].hostAttrs,c);return nl(d,a.attrs,c)}(o,a,d)}return void 0!==_&&(d?a.residualClasses=_:a.residualStyles=_),c}(f,_,a,d),function ET(o,a,c,d,f,_){let w=_?a.classBindings:a.styleBindings,b=ms(w),D=ru(w);o[d]=c;let N,x=!1;if(Array.isArray(c)){const B=c;N=B[1],(null===N||Ba(B,N)>0)&&(x=!0)}else N=c;if(f)if(0!==D){const q=ms(o[b+1]);o[d+1]=Wd(q,b),0!==q&&(o[q+1]=Vw(o[q+1],d)),o[b+1]=function Fw(o,a){return 131071&o|a<<17}(o[b+1],d)}else o[d+1]=Wd(b,0),0!==b&&(o[b+1]=Vw(o[b+1],d)),b=d;else o[d+1]=Wd(D,0),0===b?b=d:o[D+1]=Vw(o[D+1],d),D=d;x&&(o[d+1]=Lw(o[d+1])),oh(o,N,d,!0),oh(o,N,d,!1),function bT(o,a,c,d,f){const _=f?o.residualClasses:o.residualStyles;null!=_&&"string"==typeof a&&Ba(_,a)>=0&&(c[d+1]=Lf(c[d+1]))}(a,N,o,d,_),w=Wd(b,D),_?a.classBindings=w:a.styleBindings=w}(f,_,a,c,w,d)}}function mC(o,a,c,d,f){let _=null;const w=c.directiveEnd;let b=c.directiveStylingLast;for(-1===b?b=c.directiveStart:b++;b<w&&(_=a[b],d=nl(d,_.hostAttrs,f),_!==o);)b++;return null!==o&&(c.directiveStylingLast=b),d}function nl(o,a,c){const d=c?1:2;let f=-1;if(null!==a)for(let _=0;_<a.length;_++){const w=a[_];"number"==typeof w?f=w:f===d&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),kr(o,w,!!c||a[++_]))}return void 0===o?null:o}function uu(o,a,c,d,f,_,w,b){if(!(3&a.type))return;const D=o.data,x=D[b+1];pv(function Fr(o){return 1==(1&o)}(x)?fv(D,a,c,f,ru(x),w):void 0)||(pv(_)||function UI(o){return 2==(2&o)}(x)&&(_=fv(D,null,c,f,b,w)),function jg(o,a,c,d,f){if(a)f?o.addClass(c,d):o.removeClass(c,d);else{let _=-1===d.indexOf("-")?void 0:fs.DashCase;null==f?o.removeStyle(c,d,_):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),_|=fs.Important),o.setStyle(c,d,f,_))}}(d,w,$r(gn(),c),f,_))}function fv(o,a,c,d,f,_){const w=null===a;let b;for(;f>0;){const D=o[f],x=Array.isArray(D),N=x?D[1]:D,B=null===N;let q=c[f+1];q===$t&&(q=B?kt:void 0);let te=B?Ju(q,d):N===d?q:void 0;if(x&&!pv(te)&&(te=Ju(D,d)),pv(te)&&(b=te,w))return b;const Me=o[f+1];f=w?ms(Me):ru(Me)}if(null!==a){let D=_?a.residualClasses:a.residualStyles;null!=D&&(b=Ju(D,d))}return b}function pv(o){return void 0!==o}function Vi(o,a){return 0!=(o.flags&(a?16:32))}function ho(o,a=""){const c=Ne(),d=Qt(),f=o+22,_=d.firstCreatePass?qd(d,f,1,a,null):d.data[f],w=c[f]=function xd(o,a){return o.createText(a)}(c[11],a);Po(d,c,w,_),Pr(_,!1)}function xm(o){return ht("",o,""),xm}function ht(o,a,c){const d=Ne(),f=Xd(d,o,a,c);return f!==$t&&function ua(o,a,c){const d=$r(a,o);!function mf(o,a,c){o.setValue(a,c)}(o[11],d,c)}(d,gn(),f),ht}function OT(o,a,c){co(kr,tl,Xd(Ne(),o,a,c),!0)}function NT(o,a,c,d,f){co(kr,tl,eh(Ne(),o,a,c,d,f),!0)}const cu=void 0;var UT=["en",[["a","p"],["AM","PM"],cu],[["AM","PM"],cu,cu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],cu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],cu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",cu,"{1} 'at' {0}",cu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function BT(o){const c=Math.floor(Math.abs(o)),d=o.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===d?1:5}];let fo={};function ae(o){const a=function eM(o){return o.toLowerCase().replace(/_/g,"-")}(o);let c=HT(a);if(c)return c;const d=a.split("-")[0];if(c=HT(d),c)return c;if("en"===d)return UT;throw new xe(701,!1)}function Vo(o){return ae(o)[Pt.PluralCase]}function HT(o){return o in fo||(fo[o]=En.ng&&En.ng.common&&En.ng.common.locales&&En.ng.common.locales[o]),fo[o]}var Pt=(()=>((Pt=Pt||{})[Pt.LocaleId=0]="LocaleId",Pt[Pt.DayPeriodsFormat=1]="DayPeriodsFormat",Pt[Pt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Pt[Pt.DaysFormat=3]="DaysFormat",Pt[Pt.DaysStandalone=4]="DaysStandalone",Pt[Pt.MonthsFormat=5]="MonthsFormat",Pt[Pt.MonthsStandalone=6]="MonthsStandalone",Pt[Pt.Eras=7]="Eras",Pt[Pt.FirstDayOfWeek=8]="FirstDayOfWeek",Pt[Pt.WeekendRange=9]="WeekendRange",Pt[Pt.DateFormat=10]="DateFormat",Pt[Pt.TimeFormat=11]="TimeFormat",Pt[Pt.DateTimeFormat=12]="DateTimeFormat",Pt[Pt.NumberSymbols=13]="NumberSymbols",Pt[Pt.NumberFormats=14]="NumberFormats",Pt[Pt.CurrencyCode=15]="CurrencyCode",Pt[Pt.CurrencySymbol=16]="CurrencySymbol",Pt[Pt.CurrencyName=17]="CurrencyName",Pt[Pt.Currencies=18]="Currencies",Pt[Pt.Directionality=19]="Directionality",Pt[Pt.PluralCase=20]="PluralCase",Pt[Pt.ExtraData=21]="ExtraData",Pt))();const Sc="en-US";let CC=Sc;function sn(o,a,c,d,f){if(o=Y(o),Array.isArray(o))for(let _=0;_<o.length;_++)sn(o[_],a,c,d,f);else{const _=Qt(),w=Ne();let b=tu(o)?o:Y(o.provide),D=Jg(o);const x=ti(),N=1048575&x.providerIndexes,B=x.directiveStart,q=x.providerIndexes>>20;if(tu(o)||!o.multi){const te=new Ol(D,f,tt),Me=Um(b,a,f?N:N+q,B);-1===Me?(Fl(ka(x,w),_,b),Sn(_,o,a.length),a.push(b),x.directiveStart++,x.directiveEnd++,f&&(x.providerIndexes+=1048576),c.push(te),w.push(te)):(c[Me]=te,w[Me]=te)}else{const te=Um(b,a,N+q,B),Me=Um(b,a,N,N+q),He=te>=0&&c[te],Xe=Me>=0&&c[Me];if(f&&!Xe||!f&&!He){Fl(ka(x,w),_,b);const bt=function oD(o,a,c,d,f){const _=new Ol(o,c,tt);return _.multi=[],_.index=a,_.componentProviders=0,fh(_,f,d&&!c),_}(f?sD:PC,c.length,f,d,D);!f&&Xe&&(c[Me].providerFactory=bt),Sn(_,o,a.length,0),a.push(b),x.directiveStart++,x.directiveEnd++,f&&(x.providerIndexes+=1048576),c.push(bt),w.push(bt)}else Sn(_,o,te>-1?te:Me,fh(c[f?Me:te],D,!f&&d));!f&&d&&Xe&&c[Me].componentProviders++}}}function Sn(o,a,c,d){const f=tu(a),_=function hI(o){return!!o.useClass}(a);if(f||_){const D=(_?Y(a.useClass):a).prototype.ngOnDestroy;if(D){const x=o.destroyHooks||(o.destroyHooks=[]);if(!f&&a.multi){const N=x.indexOf(c);-1===N?x.push(c,[d,D]):x[N+1].push(d,D)}else x.push(c,D)}}}function fh(o,a,c){return c&&o.componentProviders++,o.multi.push(a)-1}function Um(o,a,c,d){for(let f=c;f<d;f++)if(a[f]===o)return f;return-1}function PC(o,a,c,d){return zm(this.multi,[])}function sD(o,a,c,d){const f=this.multi;let _;if(this.providerFactory){const w=this.providerFactory.componentProviders,b=Ll(c,c[1],this.providerFactory.index,d);_=b.slice(0,w),zm(f,_);for(let D=w;D<b.length;D++)_.push(b[D])}else _=[],zm(f,_);return _}function zm(o,a){for(let c=0;c<o.length;c++)a.push((0,o[c])());return a}function OC(o,a=[]){return c=>{c.providersResolver=(d,f)=>function rD(o,a,c){const d=Qt();if(d.firstCreatePass){const f=rs(o);sn(c,d.data,d.blueprint,f,!0),sn(a,d.data,d.blueprint,f,!1)}}(d,f?f(o):o,a)}}class ph{}class aD{}function vM(o,a){return new NC(o,a??null)}class NC extends ph{constructor(a,c){super(),this._parent=c,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Wy(this);const d=Zt(a);this._bootstrapComponents=nu(d.bootstrap),this._r3Injector=RI(a,c,[{provide:ph,useValue:this},{provide:em,useValue:this.componentFactoryResolver}],ye(a),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(a)}get injector(){return this._r3Injector}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class kC extends aD{constructor(a){super(),this.moduleType=a}create(a){return new NC(this.moduleType,a)}}class lD extends ph{constructor(a,c,d){super(),this.componentFactoryResolver=new Wy(this),this.instance=null;const f=new Qg([...a,{provide:ph,useValue:this},{provide:em,useValue:this.componentFactoryResolver}],c||yy(),d,new Set(["environment"]));this.injector=f,f.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(a){this.injector.onDestroy(a)}}function RC(o,a,c=null){return new lD(o,a,c).injector}let wM=(()=>{class o{constructor(c){this._injector=c,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(c){if(!c.standalone)return null;if(!this.cachedInjectors.has(c.id)){const d=uI(0,c.type),f=d.length>0?RC([d],this._injector,`Standalone[${c.type.name}]`):null;this.cachedInjectors.set(c.id,f)}return this.cachedInjectors.get(c.id)}ngOnDestroy(){try{for(const c of this.cachedInjectors.values())null!==c&&c.destroy()}finally{this.cachedInjectors.clear()}}}return o.\u0275prov=be({token:o,providedIn:"environment",factory:()=>new o(hi(jd))}),o})();function uD(o){o.getStandaloneInjector=a=>a.get(wM).getOrCreateStandaloneInjector(o)}function fp(o,a,c){const d=ur()+o,f=Ne();return f[d]===$t?ca(f,d,c?a.call(c):a()):function Zf(o,a){return o[a]}(f,d)}function VC(o,a,c,d){return function mp(o,a,c,d,f,_){const w=a+c;return Br(o,w,f)?ca(o,w+1,_?d.call(_,f):d(f)):gp(o,w+1)}(Ne(),ur(),o,a,c,d)}function xv(o,a,c,d,f){return function UC(o,a,c,d,f,_,w){const b=a+c;return ko(o,b,f,_)?ca(o,b+2,w?d.call(w,f,_):d(f,_)):gp(o,b+2)}(Ne(),ur(),o,a,c,d,f)}function pp(o,a,c,d,f,_){return function ga(o,a,c,d,f,_,w,b){const D=a+c;return function Yy(o,a,c,d,f){const _=ko(o,a,c,d);return Br(o,a+2,f)||_}(o,D,f,_,w)?ca(o,D+3,b?d.call(b,f,_,w):d(f,_,w)):gp(o,D+3)}(Ne(),ur(),o,a,c,d,f,_)}function BC(o,a,c,d,f,_,w){return function zC(o,a,c,d,f,_,w,b,D){const x=a+c;return function Ro(o,a,c,d,f,_){const w=ko(o,a,c,d);return ko(o,a+2,f,_)||w}(o,x,f,_,w,b)?ca(o,x+4,D?d.call(D,f,_,w,b):d(f,_,w,b)):gp(o,x+4)}(Ne(),ur(),o,a,c,d,f,_,w)}function gp(o,a){const c=o[a];return c===$t?void 0:c}function jC(o){return a=>{setTimeout(o,void 0,a)}}const ma=class SM extends l.x{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,c,d){let f=a,_=c||(()=>null),w=d;if(a&&"object"==typeof a){const D=a;f=D.next?.bind(D),_=D.error?.bind(D),w=D.complete?.bind(D)}this.__isAsync&&(_=jC(_),f&&(f=jC(f)),w&&(w=jC(w)));const b=super.subscribe({next:f,error:_,complete:w});return a instanceof ee.w0&&a.add(b),b}};function yp(){return this._results[Cc()]()}class gu{constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=Cc(),d=gu.prototype;d[c]||(d[c]=yp)}get changes(){return this._changes||(this._changes=new ma)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,c){return this._results.reduce(a,c)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,c){const d=this;d.dirty=!1;const f=wi(a);(this._changesDetected=!function Eg(o,a,c){if(o.length!==a.length)return!1;for(let d=0;d<o.length;d++){let f=o[d],_=a[d];if(c&&(f=c(f),_=c(_)),_!==f)return!1}return!0}(d._results,f,c))&&(d._results=f,d.length=f.length,d.last=f[this.length-1],d.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let vp=(()=>{class o{}return o.__NG_ELEMENT_ID__=wp,o})();const mh=vp,_D=class extends mh{constructor(a,c,d){super(),this._declarationLView=a,this._declarationTContainer=c,this.elementRef=d}createEmbeddedView(a,c){const d=this._declarationTContainer.tViews,f=um(this._declarationLView,d,a,16,null,d.declTNode,null,null,null,null,c||null);f[17]=this._declarationLView[this._declarationTContainer.index];const w=this._declarationLView[19];return null!==w&&(f[19]=w.createEmbeddedView(d)),qw(d,f,a),new Gf(f)}};function wp(){return Gm(ti(),Ne())}function Gm(o,a){return 4&o.type?new _D(a,o,Of(o,a)):null}let Wm=(()=>{class o{}return o.__NG_ELEMENT_ID__=qm,o})();function qm(){return Zm(ti(),Ne())}const AM=Wm,yD=class extends AM{constructor(a,c,d){super(),this._lContainer=a,this._hostTNode=c,this._hostLView=d}get element(){return Of(this._hostTNode,this._hostLView)}get injector(){return new Os(this._hostTNode,this._hostLView)}get parentInjector(){const a=Qo(this._hostTNode,this._hostLView);if(fd(a)){const c=xs(a,this._hostLView),d=Nl(a);return new Os(c[1].data[d+8],c)}return new Os(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const c=yi(this._lContainer);return null!==c&&c[a]||null}get length(){return this._lContainer.length-10}createEmbeddedView(a,c,d){let f,_;"number"==typeof d?f=d:null!=d&&(f=d.index,_=d.injector);const w=a.createEmbeddedView(c||{},_);return this.insert(w,f),w}createComponent(a,c,d,f,_){const w=a&&!function Wr(o){return"function"==typeof o}(a);let b;if(w)b=c;else{const B=c||{};b=B.index,d=B.injector,f=B.projectableNodes,_=B.environmentInjector||B.ngModuleRef}const D=w?a:new wc(he(a)),x=d||this.parentInjector;if(!_&&null==D.ngModule){const q=(w?x:this.parentInjector).get(jd,null);q&&(_=q)}const N=D.create(x,f,void 0,_);return this.insert(N.hostView,b),N}insert(a,c){const d=a._lView,f=d[1];if(function nd(o){return vr(o[3])}(d)){const N=this.indexOf(a);if(-1!==N)this.detach(N);else{const B=d[3],q=new yD(B,B[6],B[3]);q.detach(q.indexOf(a))}}const _=this._adjustIndex(c),w=this._lContainer;!function Ng(o,a,c,d){const f=10+d,_=c.length;d>0&&(c[f-1][4]=a),d<_-10?(a[4]=c[f],yd(c,10+d,a)):(c.push(a),a[4]=null),a[3]=c;const w=a[17];null!==w&&c!==w&&function fw(o,a){const c=o[9];a[16]!==a[3][3][16]&&(o[2]=!0),null===c?o[9]=[a]:c.push(a)}(w,a);const b=a[19];null!==b&&b.insertView(o),a[2]|=64}(f,d,w,_);const b=Ef(_,w),D=d[11],x=vf(D,w[7]);return null!==x&&function Md(o,a,c,d,f,_){d[0]=f,d[6]=a,Od(o,d,c,1,f,_)}(f,w[6],D,d,x,b),a.attachToViewContainerRef(),yd(Cp(w),_,a),a}move(a,c){return this.insert(a,c)}indexOf(a){const c=yi(this._lContainer);return null!==c?c.indexOf(a):-1}remove(a){const c=this._adjustIndex(a,-1),d=Yl(this._lContainer,c);d&&(vd(Cp(this._lContainer),c),Ql(d[1],d))}detach(a){const c=this._adjustIndex(a,-1),d=Yl(this._lContainer,c);return d&&null!=vd(Cp(this._lContainer),c)?new Gf(d):null}_adjustIndex(a,c=0){return a??this.length+c}};function yi(o){return o[8]}function Cp(o){return o[8]||(o[8]=[])}function Zm(o,a){let c;const d=a[o.index];if(vr(d))c=d;else{let f;if(8&o.type)f=ci(d);else{const _=a[11];f=_.createComment("");const w=wr(o,a);aa(_,vf(_,w),f,function Fg(o,a){return o.nextSibling(a)}(_,w),!1)}a[o.index]=c=zf(d,a,f,o),Hf(a,c)}return new yD(c,o,a)}class $C{constructor(a){this.queryList=a,this.matches=null}clone(){return new $C(this.queryList)}setDirty(){this.queryList.setDirty()}}class Pv{constructor(a=[]){this.queries=a}createEmbeddedView(a){const c=a.queries;if(null!==c){const d=null!==a.contentQueries?a.contentQueries[0]:c.length,f=[];for(let _=0;_<d;_++){const w=c.getByIndex(_);f.push(this.queries[w.indexInDeclarationView].clone())}return new Pv(f)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let c=0;c<this.queries.length;c++)null!==Ym(a,c).matches&&this.queries[c].setDirty()}}class _h{constructor(a,c,d=null){this.predicate=a,this.flags=c,this.read=d}}class _a{constructor(a=[]){this.queries=a}elementStart(a,c){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(a,c)}elementEnd(a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(a)}embeddedTView(a){let c=null;for(let d=0;d<this.length;d++){const f=null!==c?c.length:0,_=this.getByIndex(d).embeddedTView(a,f);_&&(_.indexInDeclarationView=d,null!==c?c.push(_):c=[_])}return null!==c?new _a(c):null}template(a,c){for(let d=0;d<this.queries.length;d++)this.queries[d].template(a,c)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class Ov{constructor(a,c=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(a,c){this.isApplyingToNode(c)&&this.matchTNode(a,c)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,c){this.elementStart(a,c)}embeddedTView(a,c){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,c),new Ov(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let d=a.parent;for(;null!==d&&8&d.type&&d.index!==c;)d=d.parent;return c===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(a,c){const d=this.metadata.predicate;if(Array.isArray(d))for(let f=0;f<d.length;f++){const _=d[f];this.matchTNodeWithReadOption(a,c,wD(c,_)),this.matchTNodeWithReadOption(a,c,Ps(c,a,_,!1,!1))}else d===vp?4&c.type&&this.matchTNodeWithReadOption(a,c,-1):this.matchTNodeWithReadOption(a,c,Ps(c,a,d,!1,!1))}matchTNodeWithReadOption(a,c,d){if(null!==d){const f=this.metadata.read;if(null!==f)if(f===tm||f===Wm||f===vp&&4&c.type)this.addMatch(c.index,-2);else{const _=Ps(c,a,f,!1,!1);null!==_&&this.addMatch(c.index,_)}else this.addMatch(c.index,d)}}addMatch(a,c){null===this.matches?this.matches=[a,c]:this.matches.push(a,c)}}function wD(o,a){const c=o.localNames;if(null!==c)for(let d=0;d<c.length;d+=2)if(c[d]===a)return c[d+1];return null}function Ep(o,a,c,d){return-1===c?function CD(o,a){return 11&o.type?Of(o,a):4&o.type?Gm(o,a):null}(a,o):-2===c?function GC(o,a,c){return c===tm?Of(a,o):c===vp?Gm(a,o):c===Wm?Zm(a,o):void 0}(o,a,d):Ll(o,o[1],c,a)}function Nv(o,a,c,d){const f=a[19].queries[d];if(null===f.matches){const _=o.data,w=c.matches,b=[];for(let D=0;D<w.length;D+=2){const x=w[D];b.push(x<0?null:Ep(a,_[x],w[D+1],c.metadata.read))}f.matches=b}return f.matches}function Km(o,a,c,d){const f=o.queries.getByIndex(c),_=f.matches;if(null!==_){const w=Nv(o,a,f,c);for(let b=0;b<_.length;b+=2){const D=_[b];if(D>0)d.push(w[b/2]);else{const x=_[b+1],N=a[-D];for(let B=10;B<N.length;B++){const q=N[B];q[17]===q[3]&&Km(q[1],q,x,d)}if(null!==N[9]){const B=N[9];for(let q=0;q<B.length;q++){const te=B[q];Km(te[1],te,x,d)}}}}}return d}function kv(o){const a=Ne(),c=Qt(),d=Fu();cr(d+1);const f=Ym(c,d);if(o.dirty&&function K_(o){return 4==(4&o[2])}(a)===(2==(2&f.metadata.flags))){if(null===f.matches)o.reset([]);else{const _=f.crossesNgTemplate?Km(c,a,d,[]):Nv(c,a,f,d);o.reset(_,_I),o.notifyOnChanges()}return!0}return!1}function ED(o,a,c){const d=Qt();d.firstCreatePass&&(qC(d,new _h(o,a,c),-1),2==(2&a)&&(d.staticViewQueries=!0)),WC(d,Ne(),a)}function bD(o,a,c,d){const f=Qt();if(f.firstCreatePass){const _=ti();qC(f,new _h(a,c,d),_.index),function ZC(o,a){const c=o.contentQueries||(o.contentQueries=[]);a!==(c.length?c[c.length-1]:-1)&&c.push(o.queries.length-1,a)}(f,o),2==(2&c)&&(f.staticContentQueries=!0)}WC(f,Ne(),c)}function Wi(){return function _n(o,a){return o[19].queries[a].queryList}(Ne(),Fu())}function WC(o,a,c){const d=new gu(4==(4&c));Zw(o,a,d,d.destroy),null===a[19]&&(a[19]=new Pv),a[19].queries.push(new $C(d))}function qC(o,a,c){null===o.queries&&(o.queries=new _a),o.queries.track(new Ov(a,c))}function Ym(o,a){return o.queries.getByIndex(a)}function KC(o,a){return Gm(o,a)}function Jm(...o){}const Wv=new bn("Application Initializer");let Xm=(()=>{class o{constructor(c){this.appInits=c,this.resolve=Jm,this.reject=Jm,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,f)=>{this.resolve=d,this.reject=f})}runInitializers(){if(this.initialized)return;const c=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const _=this.appInits[f]();if(rh(_))c.push(_);else if(rv(_)){const w=new Promise((b,D)=>{_.subscribe({complete:b,error:D})});c.push(w)}}Promise.all(c).then(()=>{d()}).catch(f=>{this.reject(f)}),0===c.length&&d(),this.initialized=!0}}return o.\u0275fac=function(c){return new(c||o)(hi(Wv,8))},o.\u0275prov=be({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const rE=new bn("AppId",{providedIn:"root",factory:function RD(){return`${qv()}${qv()}${qv()}`}});function qv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const e_=new bn("Platform Initializer"),t_=new bn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),kc=new bn("appBootstrapListener"),FD=new bn("AnimationModuleType");let $M=(()=>{class o{log(c){console.log(c)}warn(c){console.warn(c)}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=be({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();const Zv=new bn("LocaleId",{providedIn:"root",factory:()=>mt(Zv,dt.Optional|dt.SkipSelf)||function GM(){return typeof $localize<"u"&&$localize.locale||Sc}()}),n_=new bn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class qM{constructor(a,c){this.ngModuleFactory=a,this.componentFactories=c}}let LD=(()=>{class o{compileModuleSync(c){return new kC(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const d=this.compileModuleSync(c),_=nu(Zt(c).declarations).reduce((w,b)=>{const D=he(b);return D&&w.push(new wc(D)),w},[]);return new qM(d,_)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=be({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const Yv=(()=>Promise.resolve(0))();function aE(o){typeof Zone>"u"?Yv.then(()=>{o&&o.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",o)}class ws{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ma(!1),this.onMicrotaskEmpty=new ma(!1),this.onStable=new ma(!1),this.onError=new ma(!1),typeof Zone>"u")throw new xe(908,!1);Zone.assertZonePatched();const f=this;if(f._nesting=0,f._outer=f._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const _=Zone.AsyncStackTaggingZoneSpec;f._inner=f._inner.fork(new _("Angular"))}Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!d&&c,f.shouldCoalesceRunChangeDetection=d,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function lE(){let o=En.requestAnimationFrame,a=En.cancelAnimationFrame;if(typeof Zone<"u"&&o&&a){const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c);const d=a[Zone.__symbol__("OriginalDelegate")];d&&(a=d)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function Jv(o){const a=()=>{!function i_(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(En,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,Ch(o),o.isCheckStableRunning=!0,Qv(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),Ch(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,d,f,_,w,b)=>{try{return uE(o),c.invokeTask(f,_,w,b)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===_.type||o.shouldCoalesceRunChangeDetection)&&a(),cE(o)}},onInvoke:(c,d,f,_,w,b,D)=>{try{return uE(o),c.invoke(f,_,w,b,D)}finally{o.shouldCoalesceRunChangeDetection&&a(),cE(o)}},onHasTask:(c,d,f,_)=>{c.hasTask(f,_),d===f&&("microTask"==_.change?(o._hasPendingMicrotasks=_.microTask,Ch(o),Qv(o)):"macroTask"==_.change&&(o.hasPendingMacrotasks=_.macroTask))},onHandleError:(c,d,f,_)=>(c.handleError(f,_),o.runOutsideAngular(()=>o.onError.emit(_)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ws.isInAngularZone())throw new xe(909,!1)}static assertNotInAngularZone(){if(ws.isInAngularZone())throw new xe(909,!1)}run(a,c,d){return this._inner.run(a,c,d)}runTask(a,c,d,f){const _=this._inner,w=_.scheduleEventTask("NgZoneEvent: "+f,a,KM,Jm,Jm);try{return _.runTask(w,c,d)}finally{_.cancelTask(w)}}runGuarded(a,c,d){return this._inner.runGuarded(a,c,d)}runOutsideAngular(a){return this._outer.run(a)}}const KM={};function Qv(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function Ch(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function uE(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function cE(o){o._nesting--,Qv(o)}class Jr{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ma,this.onMicrotaskEmpty=new ma,this.onStable=new ma,this.onError=new ma}run(a,c,d){return a.apply(c,d)}runGuarded(a,c,d){return a.apply(c,d)}runOutsideAngular(a){return a()}runTask(a,c,d,f){return a.apply(c,d)}}const dE=new bn(""),r_=new bn("");let Fc,Xv=(()=>{class o{constructor(c,d,f){this._ngZone=c,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Fc||(function Rc(o){Fc=o}(f),f.addToWindow(d)),this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ws.assertNotInAngularZone(),aE(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())aE(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(c)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,d,f){let _=-1;d&&d>0&&(_=setTimeout(()=>{this._callbacks=this._callbacks.filter(w=>w.timeoutId!==_),c(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:c,timeoutId:_,updateCb:f})}whenStable(c,d,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,d,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(c){this.registry.registerApplication(c,this)}unregisterApplication(c){this.registry.unregisterApplication(c)}findProviders(c,d,f){return[]}}return o.\u0275fac=function(c){return new(c||o)(hi(ws),hi(hE),hi(r_))},o.\u0275prov=be({token:o,factory:o.\u0275fac}),o})(),hE=(()=>{class o{constructor(){this._applications=new Map}registerApplication(c,d){this._applications.set(c,d)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,d=!0){return Fc?.findTestabilityInTree(this,c,d)??null}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=be({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})(),yu=null;const Lc=new bn("AllowMultipleToken"),fE=new bn("PlatformDestroyListeners");class YM{constructor(a,c){this.name=a,this.token=c}}function s_(o,a,c=[]){const d=`Platform: ${a}`,f=new bn(d);return(_=[])=>{let w=gE();if(!w||w.injector.get(Lc,!1)){const b=[...c,..._,{provide:f,useValue:!0}];o?o(b):function HD(o){if(yu&&!yu.get(Lc,!1))throw new xe(400,!1);yu=o;const a=o.get(mE);(function pE(o){const a=o.get(e_,null);a&&a.forEach(c=>c())})(o)}(function $D(o=[],a){return yc.create({name:a,providers:[{provide:Yg,useValue:"platform"},{provide:fE,useValue:new Set([()=>yu=null])},...o]})}(b,d))}return function jD(o){const a=gE();if(!a)throw new xe(401,!1);return a}()}}function gE(){return yu?.get(mE)??null}let mE=(()=>{class o{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,d){const f=function Mp(o,a){let c;return c="noop"===o?new Jr:("zone.js"===o?void 0:o)||new ws(a),c}(d?.ngZone,function Vc(o){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!o||!o.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!o||!o.ngZoneRunCoalescing)||!1}}(d)),_=[{provide:ws,useValue:f}];return f.run(()=>{const w=yc.create({providers:_,parent:this.injector,name:c.moduleType.name}),b=c.create(w),D=b.injector.get(nm,null);if(!D)throw new xe(402,!1);return f.runOutsideAngular(()=>{const x=f.onError.subscribe({next:N=>{D.handleError(N)}});b.onDestroy(()=>{o_(this._modules,b),x.unsubscribe()})}),function _E(o,a,c){try{const d=c();return rh(d)?d.catch(f=>{throw a.runOutsideAngular(()=>o.handleError(f)),f}):d}catch(d){throw a.runOutsideAngular(()=>o.handleError(d)),d}}(D,f,()=>{const x=b.injector.get(Xm);return x.runInitializers(),x.donePromise.then(()=>(function Ur(o){ne(o,"Expected localeId to be defined"),"string"==typeof o&&(CC=o.toLowerCase().replace(/_/g,"-"))}(b.injector.get(Zv,Sc)||Sc),this._moduleDoBootstrap(b),b))})})}bootstrapModule(c,d=[]){const f=yE({},d);return function UD(o,a,c){const d=new kC(c);return Promise.resolve(d)}(0,0,c).then(_=>this.bootstrapModuleFactory(_,f))}_moduleDoBootstrap(c){const d=c.injector.get(e0);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(f=>d.bootstrap(f));else{if(!c.instance.ngDoBootstrap)throw new xe(403,!1);c.instance.ngDoBootstrap(d)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new xe(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const c=this._injector.get(fE,null);c&&(c.forEach(d=>d()),c.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(c){return new(c||o)(hi(yc))},o.\u0275prov=be({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();function yE(o,a){return Array.isArray(a)?a.reduce(yE,o):{...o,...a}}let e0=(()=>{class o{constructor(c,d,f){this._zone=c,this._injector=d,this._exceptionHandler=f,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const _=new L.y(b=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{b.next(this._stable),b.complete()})}),w=new L.y(b=>{let D;this._zone.runOutsideAngular(()=>{D=this._zone.onStable.subscribe(()=>{ws.assertNotInAngularZone(),aE(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,b.next(!0))})})});const x=this._zone.onUnstable.subscribe(()=>{ws.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{b.next(!1)}))});return()=>{D.unsubscribe(),x.unsubscribe()}});this.isStable=(0,oe.T)(_,w.pipe((0,le.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(c,d){const f=c instanceof gI;if(!this._injector.get(Xm).done)throw!f&&Ut(c),new xe(405,false);let w;w=f?c:this._injector.get(em).resolveComponentFactory(c),this.componentTypes.push(w.componentType);const b=function zD(o){return o.isBoundToModule}(w)?void 0:this._injector.get(ph),x=w.create(yc.NULL,[],d||w.selector,b),N=x.location.nativeElement,B=x.injector.get(dE,null);return B?.registerApplication(N),x.onDestroy(()=>{this.detachView(x.hostView),o_(this.components,x),B?.unregisterApplication(N)}),this._loadComponent(x),x}tick(){if(this._runningTick)throw new xe(101,!1);try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(c))}finally{this._runningTick=!1}}attachView(c){const d=c;this._views.push(d),d.attachToAppRef(this)}detachView(c){const d=c;o_(this._views,d),d.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c),this._injector.get(kc,[]).concat(this._bootstrapListeners).forEach(f=>f(c))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(c=>c()),this._views.slice().forEach(c=>c.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(c){return this._destroyListeners.push(c),()=>o_(this._destroyListeners,c)}destroy(){if(this._destroyed)throw new xe(406,!1);const c=this._injector;c.destroy&&!c.destroyed&&c.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return o.\u0275fac=function(c){return new(c||o)(hi(ws),hi(jd),hi(nm))},o.\u0275prov=be({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function o_(o,a){const c=o.indexOf(a);c>-1&&o.splice(c,1)}let t0=!0,mr=!1;function eP(){return mr=!0,t0}function tP(){if(mr)throw new Error("Cannot enable prod mode after platform setup.");t0=!1}let nP=(()=>{class o{}return o.__NG_ELEMENT_ID__=r0,o})();function r0(o){return function s0(o,a,c){if(Tu(o)&&!c){const d=di(o.index,a);return new Gf(d,d)}return 47&o.type?new Gf(a[16],a):null}(ti(),Ne(),16==(16&o))}class IE{constructor(){}supports(a){return bm(a)}create(a){return new XD(a)}}const JD=(o,a)=>a;class XD{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||JD}forEachItem(a){let c;for(c=this._itHead;null!==c;c=c._next)a(c)}forEachOperation(a){let c=this._itHead,d=this._removalsHead,f=0,_=null;for(;c||d;){const w=!d||c&&c.currentIndex<c0(d,f,_)?c:d,b=c0(w,f,_),D=w.currentIndex;if(w===d)f--,d=d._nextRemoved;else if(c=c._next,null==w.previousIndex)f++;else{_||(_=[]);const x=b-f,N=D-f;if(x!=N){for(let q=0;q<x;q++){const te=q<_.length?_[q]:_[q]=0,Me=te+q;N<=Me&&Me<x&&(_[q]=te+1)}_[w.previousIndex]=N-x}}b!==D&&a(w,b,D)}}forEachPreviousItem(a){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)a(c)}forEachAddedItem(a){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)a(c)}forEachMovedItem(a){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)a(c)}forEachRemovedItem(a){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)a(c)}forEachIdentityChange(a){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)a(c)}diff(a){if(null==a&&(a=[]),!bm(a))throw new xe(900,!1);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let f,_,w,c=this._itHead,d=!1;if(Array.isArray(a)){this.length=a.length;for(let b=0;b<this.length;b++)_=a[b],w=this._trackByFn(b,_),null!==c&&Object.is(c.trackById,w)?(d&&(c=this._verifyReinsertion(c,_,w,b)),Object.is(c.item,_)||this._addIdentityChange(c,_)):(c=this._mismatch(c,_,w,b),d=!0),c=c._next}else f=0,function Hx(o,a){if(Array.isArray(o))for(let c=0;c<o.length;c++)a(o[c]);else{const c=o[Cc()]();let d;for(;!(d=c.next()).done;)a(d.value)}}(a,b=>{w=this._trackByFn(f,b),null!==c&&Object.is(c.trackById,w)?(d&&(c=this._verifyReinsertion(c,b,w,f)),Object.is(c.item,b)||this._addIdentityChange(c,b)):(c=this._mismatch(c,b,w,f),d=!0),c=c._next,f++}),this.length=f;return this._truncate(c),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,c,d,f){let _;return null===a?_=this._itTail:(_=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(a.item,c)||this._addIdentityChange(a,c),this._reinsertAfter(a,_,f)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(d,f))?(Object.is(a.item,c)||this._addIdentityChange(a,c),this._moveAfter(a,_,f)):a=this._addAfter(new rP(c,d),_,f),a}_verifyReinsertion(a,c,d,f){let _=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==_?a=this._reinsertAfter(_,a._prev,f):a.currentIndex!=f&&(a.currentIndex=f,this._addToMoves(a,f)),a}_truncate(a){for(;null!==a;){const c=a._next;this._addToRemovals(this._unlink(a)),a=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,c,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const f=a._prevRemoved,_=a._nextRemoved;return null===f?this._removalsHead=_:f._nextRemoved=_,null===_?this._removalsTail=f:_._prevRemoved=f,this._insertAfter(a,c,d),this._addToMoves(a,d),a}_moveAfter(a,c,d){return this._unlink(a),this._insertAfter(a,c,d),this._addToMoves(a,d),a}_addAfter(a,c,d){return this._insertAfter(a,c,d),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,c,d){const f=null===c?this._itHead:c._next;return a._next=f,a._prev=c,null===f?this._itTail=a:f._prev=a,null===c?this._itHead=a:c._next=a,null===this._linkedRecords&&(this._linkedRecords=new eS),this._linkedRecords.put(a),a.currentIndex=d,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const c=a._prev,d=a._next;return null===c?this._itHead=d:c._next=d,null===d?this._itTail=c:d._prev=c,a}_addToMoves(a,c){return a.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new eS),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,c){return a.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class rP{constructor(a,c){this.item=a,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class TE{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,c){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===c||c<=d.currentIndex)&&Object.is(d.trackById,a))return d;return null}remove(a){const c=a._prevDup,d=a._nextDup;return null===c?this._head=d:c._nextDup=d,null===d?this._tail=c:d._prevDup=c,null===this._head}}class eS{constructor(){this.map=new Map}put(a){const c=a.trackById;let d=this.map.get(c);d||(d=new TE,this.map.set(c,d)),d.add(a)}get(a,c){const f=this.map.get(a);return f?f.get(a,c):null}remove(a){const c=a.trackById;return this.map.get(c).remove(a)&&this.map.delete(c),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function c0(o,a,c){const d=o.previousIndex;if(null===d)return d;let f=0;return c&&d<c.length&&(f=c[d]),d+a+f}class DE{constructor(){}supports(a){return a instanceof Map||Jd(a)}create(){return new tS}}class tS{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let c;for(c=this._mapHead;null!==c;c=c._next)a(c)}forEachPreviousItem(a){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)a(c)}forEachChangedItem(a){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)a(c)}forEachAddedItem(a){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)a(c)}forEachRemovedItem(a){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)a(c)}diff(a){if(a){if(!(a instanceof Map||Jd(a)))throw new xe(900,!1)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(a,(d,f)=>{if(c&&c.key===f)this._maybeAddToChanges(c,d),this._appendAfter=c,c=c._next;else{const _=this._getOrCreateRecordForKey(f,d);c=this._insertBeforeOrAppend(c,_)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let d=c;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,c){if(a){const d=a._prev;return c._next=a,c._prev=d,a._prev=c,d&&(d._next=c),a===this._mapHead&&(this._mapHead=c),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(a,c){if(this._records.has(a)){const f=this._records.get(a);this._maybeAddToChanges(f,c);const _=f._prev,w=f._next;return _&&(_._next=w),w&&(w._prev=_),f._next=null,f._prev=null,f}const d=new SE(a);return this._records.set(a,d),d.currentValue=c,this._addToAdditions(d),d}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,c){Object.is(c,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=c,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,c){a instanceof Map?a.forEach(c):Object.keys(a).forEach(d=>c(a[d],d))}}class SE{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function c_(){return new bh([new IE])}let bh=(()=>{class o{constructor(c){this.factories=c}static create(c,d){if(null!=d){const f=d.factories.slice();c=c.concat(f)}return new o(c)}static extend(c){return{provide:o,useFactory:d=>o.create(c,d||c_()),deps:[[o,new ra,new So]]}}find(c){const d=this.factories.find(f=>f.supports(c));if(null!=d)return d;throw new xe(901,!1)}}return o.\u0275prov=be({token:o,providedIn:"root",factory:c_}),o})();function d0(){return new d_([new DE])}let d_=(()=>{class o{constructor(c){this.factories=c}static create(c,d){if(d){const f=d.factories.slice();c=c.concat(f)}return new o(c)}static extend(c){return{provide:o,useFactory:d=>o.create(c,d||d0()),deps:[[o,new ra,new So]]}}find(c){const d=this.factories.find(f=>f.supports(c));if(d)return d;throw new xe(901,!1)}}return o.\u0275prov=be({token:o,providedIn:"root",factory:d0}),o})();const h0=s_(null,"core",[]);let ME=(()=>{class o{constructor(c){}}return o.\u0275fac=function(c){return new(c||o)(hi(e0))},o.\u0275mod=It({type:o}),o.\u0275inj=Nt({}),o})();function oP(o){return"boolean"==typeof o?o:null!=o&&"false"!==o}},6101:(ut,De,R)=>{R.d(De,{Z:()=>xe});var l=R(2090),ee=R(4859),L=R(9752);R(1877);class le{constructor(Ie,me){this._delegate=Ie,this.firebase=me,(0,L._addComponent)(Ie,new ee.wA("app-compat",()=>this,"PUBLIC")),this.container=Ie.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ie){this._delegate.automaticDataCollectionEnabled=Ie}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ie=>{this._delegate.checkDestroyed(),Ie()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,L.deleteApp)(this._delegate)))}_getService(Ie,me=L._DEFAULT_ENTRY_NAME){var gt;this._delegate.checkDestroyed();const Tt=this._delegate.container.getProvider(Ie);return!Tt.isInitialized()&&"EXPLICIT"===(null===(gt=Tt.getComponent())||void 0===gt?void 0:gt.instantiationMode)&&Tt.initialize(),Tt.getImmediate({identifier:me})}_removeServiceInstance(Ie,me=L._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ie).clearInstance(me)}_addComponent(Ie){(0,L._addComponent)(this._delegate,Ie)}_addOrOverwriteComponent(Ie){(0,L._addOrOverwriteComponent)(this._delegate,Ie)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const de=new l.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."});function _e(){const at=function ye(at){const Ie={},me={__esModule:!0,initializeApp:function Ve(ze,pe={}){const Z=L.initializeApp(ze,pe);if((0,l.r3)(Ie,Z.name))return Ie[Z.name];const $e=new at(Z,me);return Ie[Z.name]=$e,$e},app:Tt,registerVersion:L.registerVersion,setLogLevel:L.setLogLevel,onLog:L.onLog,apps:null,SDK_VERSION:L.SDK_VERSION,INTERNAL:{registerComponent:function ve(ze){const pe=ze.name,Z=pe.replace("-compat","");if(L._registerComponent(ze)&&"PUBLIC"===ze.type){const $e=(Ke=Tt())=>{if("function"!=typeof Ke[Z])throw de.create("invalid-app-argument",{appName:pe});return Ke[Z]()};void 0!==ze.serviceProps&&(0,l.ZB)($e,ze.serviceProps),me[Z]=$e,at.prototype[Z]=function(...Ke){return this._getService.bind(this,pe).apply(this,ze.multipleInstances?Ke:[])}}return"PUBLIC"===ze.type?me[Z]:null},removeApp:function gt(ze){delete Ie[ze]},useAsService:function je(ze,pe){return"serverAuth"===pe?null:pe},modularAPIs:L}};function Tt(ze){if(!(0,l.r3)(Ie,ze=ze||L._DEFAULT_ENTRY_NAME))throw de.create("no-app",{appName:ze});return Ie[ze]}return me.default=me,Object.defineProperty(me,"apps",{get:function Ae(){return Object.keys(Ie).map(ze=>Ie[ze])}}),Tt.App=at,me}(le);return at.INTERNAL=Object.assign(Object.assign({},at.INTERNAL),{createFirebaseNamespace:_e,extendNamespace:function Ie(me){(0,l.ZB)(at,me)},createSubscribe:l.ne,ErrorFactory:l.LL,deepExtend:l.ZB}),at}const j=_e();(0,l.jU)()&&void 0!==self.firebase&&self;const xe=j},9752:(ut,De,R)=>{R.r(De),R.d(De,{FirebaseError:()=>oe.ZR,SDK_VERSION:()=>Un,_DEFAULT_ENTRY_NAME:()=>ne,_addComponent:()=>Pe,_addOrOverwriteComponent:()=>be,_apps:()=>we,_clearComponents:()=>St,_components:()=>Te,_getProvider:()=>Nt,_registerComponent:()=>lt,_removeServiceInstance:()=>pn,deleteApp:()=>Ar,getApp:()=>ui,getApps:()=>sr,initializeApp:()=>Zn,onLog:()=>Hr,registerVersion:()=>Jn,setLogLevel:()=>or});var l=R(5861),ee=R(4859),L=R(1877),oe=R(2090);R(8766);const j=new L.Yd("@firebase/app"),ne="[DEFAULT]",re={"@firebase/app":"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},we=new Map,Te=new Map;function Pe(Ce,$){try{Ce.container.addComponent($)}catch(Ee){j.debug(`Component ${$.name} failed to register with FirebaseApp ${Ce.name}`,Ee)}}function be(Ce,$){Ce.container.addOrOverwriteComponent($)}function lt(Ce){const $=Ce.name;if(Te.has($))return j.debug(`There were multiple attempts to register component ${$}.`),!1;Te.set($,Ce);for(const Ee of we.values())Pe(Ee,Ce);return!0}function Nt(Ce,$){const Ee=Ce.container.getProvider("heartbeat").getImmediate({optional:!0});return Ee&&Ee.triggerHeartbeat(),Ce.container.getProvider($)}function pn(Ce,$,Ee=ne){Nt(Ce,$).clearInstance(Ee)}function St(){Te.clear()}const qt=new oe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class In{constructor($,Ee,We){this._isDeleted=!1,this._options=Object.assign({},$),this._config=Object.assign({},Ee),this._name=Ee.name,this._automaticDataCollectionEnabled=Ee.automaticDataCollectionEnabled,this._container=We,this.container.addComponent(new ee.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled($){this.checkDestroyed(),this._automaticDataCollectionEnabled=$}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted($){this._isDeleted=$}checkDestroyed(){if(this.isDeleted)throw qt.create("app-deleted",{appName:this._name})}}const Un="9.23.0";function Zn(Ce,$={}){let Ee=Ce;"object"!=typeof $&&($={name:$});const We=Object.assign({name:ne,automaticDataCollectionEnabled:!1},$),Je=We.name;if("string"!=typeof Je||!Je)throw qt.create("bad-app-name",{appName:String(Je)});if(Ee||(Ee=(0,oe.aH)()),!Ee)throw qt.create("no-options");const It=we.get(Je);if(It){if((0,oe.vZ)(Ee,It.options)&&(0,oe.vZ)(We,It.config))return It;throw qt.create("duplicate-app",{appName:Je})}const nn=new ee.H0(Je);for(const z of Te.values())nn.addComponent(z);const H=new In(Ee,We,nn);return we.set(Je,H),H}function ui(Ce=ne){const $=we.get(Ce);if(!$&&Ce===ne&&(0,oe.aH)())return Zn();if(!$)throw qt.create("no-app",{appName:Ce});return $}function sr(){return Array.from(we.values())}function Ar(Ce){return dt.apply(this,arguments)}function dt(){return(dt=(0,l.Z)(function*(Ce){const $=Ce.name;we.has($)&&(we.delete($),yield Promise.all(Ce.container.getProviders().map(Ee=>Ee.delete())),Ce.isDeleted=!0)})).apply(this,arguments)}function Jn(Ce,$,Ee){var We;let Je=null!==(We=re[Ce])&&void 0!==We?We:Ce;Ee&&(Je+=`-${Ee}`);const It=Je.match(/\s|\//),nn=$.match(/\s|\//);if(It||nn){const H=[`Unable to register library "${Je}" with version "${$}":`];return It&&H.push(`library name "${Je}" contains illegal characters (whitespace or "/")`),It&&nn&&H.push("and"),nn&&H.push(`version name "${$}" contains illegal characters (whitespace or "/")`),void j.warn(H.join(" "))}lt(new ee.wA(`${Je}-version`,()=>({library:Je,version:$}),"VERSION"))}function Hr(Ce,$){if(null!==Ce&&"function"!=typeof Ce)throw qt.create("invalid-log-argument");(0,L.Am)(Ce,$)}function or(Ce){(0,L.Ub)(Ce)}},8140:(ut,De,R)=>{R.d(De,{C6:()=>l.getApps,Mq:()=>l.getApp});var l=R(9752)},1274:(ut,De,R)=>{R.d(De,{Z:()=>l.Z});var l=R(6101)},8463:(ut,De,R)=>{R.r(De);var l=R(5861),ee=R(6101),L=R(2090),oe=R(9752),le=R(7582),fe=R(1877);R(4859);function Oe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const at=Oe,Ie=new L.LL("auth","Firebase",Oe()),gt=new fe.Yd("@firebase/auth");function Ve(v,...p){gt.logLevel<=fe.in.ERROR&&gt.error(`Auth (${oe.SDK_VERSION}): ${v}`,...p)}function Ae(v,...p){throw pe(v,...p)}function ve(v,...p){return pe(v,...p)}function je(v,p,m){const C=Object.assign(Object.assign({},at()),{[p]:m});return new L.LL("auth","Firebase",C).create(p,{appName:v.name})}function ze(v,p,m){if(!(p instanceof m))throw m.name!==p.constructor.name&&Ae(v,"argument-error"),je(v,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function pe(v,...p){if("string"!=typeof v){const m=p[0],C=[...p.slice(1)];return C[0]&&(C[0].appName=v.name),v._errorFactory.create(m,...C)}return Ie.create(v,...p)}function Z(v,p,...m){if(!v)throw pe(p,...m)}function $e(v){const p="INTERNAL ASSERTION FAILED: "+v;throw Ve(p),new Error(p)}function Ke(v,p){v||$e(p)}function Ot(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function xn(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class Di{constructor(p,m){this.shortDelay=p,this.longDelay=m,Ke(m>p,"Short delay should be less than long delay!"),this.isMobile=(0,L.uI)()||(0,L.b$)()}get(){return function rr(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function it(){return"http:"===xn()||"https:"===xn()}()||(0,L.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ne(v,p){Ke(v.emulator,"Emulator should always be set here");const{url:m}=v.emulator;return p?`${m}${p.startsWith("/")?p.slice(1):p}`:m}class re{static initialize(p,m,C){this.fetchImpl=p,m&&(this.headersImpl=m),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void $e("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void $e("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void $e("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const we={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Te=new Di(3e4,6e4);function Pe(v,p){return v.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:v.tenantId}):p}function be(v,p,m,C){return lt.apply(this,arguments)}function lt(){return(lt=(0,l.Z)(function*(v,p,m,C,A={}){return Nt(v,A,(0,l.Z)(function*(){let O={},G={};C&&("GET"===p?G=C:O={body:JSON.stringify(C)});const ie=(0,L.xO)(Object.assign({key:v.config.apiKey},G)).slice(1),Le=yield v._getAdditionalHeaders();return Le["Content-Type"]="application/json",v.languageCode&&(Le["X-Firebase-Locale"]=v.languageCode),re.fetch()(qt(v,v.config.apiHost,m,ie),Object.assign({method:p,headers:Le,referrerPolicy:"no-referrer"},O))}))})).apply(this,arguments)}function Nt(v,p,m){return pn.apply(this,arguments)}function pn(){return(pn=(0,l.Z)(function*(v,p,m){v._canInitEmulator=!1;const C=Object.assign(Object.assign({},we),p);try{const A=new In(v),O=yield Promise.race([m(),A.promise]);A.clearNetworkTimeout();const G=yield O.json();if("needConfirmation"in G)throw Un(v,"account-exists-with-different-credential",G);if(O.ok&&!("errorMessage"in G))return G;{const ie=O.ok?G.errorMessage:G.error.message,[Le,Ze]=ie.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Le)throw Un(v,"credential-already-in-use",G);if("EMAIL_EXISTS"===Le)throw Un(v,"email-already-in-use",G);if("USER_DISABLED"===Le)throw Un(v,"user-disabled",G);const ct=C[Le]||Le.toLowerCase().replace(/[_\s]+/g,"-");if(Ze)throw je(v,ct,Ze);Ae(v,ct)}}catch(A){if(A instanceof L.ZR)throw A;Ae(v,"network-request-failed",{message:String(A)})}})).apply(this,arguments)}function St(v,p,m,C){return tn.apply(this,arguments)}function tn(){return(tn=(0,l.Z)(function*(v,p,m,C,A={}){const O=yield be(v,p,m,C,A);return"mfaPendingCredential"in O&&Ae(v,"multi-factor-auth-required",{_serverResponse:O}),O})).apply(this,arguments)}function qt(v,p,m,C){const A=`${p}${m}?${C}`;return v.config.emulator?ne(v.config,A):`${v.config.apiScheme}://${A}`}class In{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((m,C)=>{this.timer=setTimeout(()=>C(ve(this.auth,"network-request-failed")),Te.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Un(v,p,m){const C={appName:v.name};m.email&&(C.email=m.email),m.phoneNumber&&(C.phoneNumber=m.phoneNumber);const A=ve(v,p,C);return A.customData._tokenResponse=m,A}function ui(){return(ui=(0,l.Z)(function*(v,p){return be(v,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function sr(v,p){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,l.Z)(function*(v,p){return be(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function dt(v,p){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,l.Z)(function*(v,p){return be(v,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function Hr(v){if(v)try{const p=new Date(Number(v));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function Ds(){return(Ds=(0,l.Z)(function*(v,p=!1){const m=(0,L.m9)(v),C=yield m.getIdToken(p),A=zn(C);Z(A&&A.exp&&A.auth_time&&A.iat,m.auth,"internal-error");const O="object"==typeof A.firebase?A.firebase:void 0,G=O?.sign_in_provider;return{claims:A,token:C,authTime:Hr(Cn(A.auth_time)),issuedAtTime:Hr(Cn(A.iat)),expirationTime:Hr(Cn(A.exp)),signInProvider:G||null,signInSecondFactor:O?.sign_in_second_factor||null}})).apply(this,arguments)}function Cn(v){return 1e3*Number(v)}function zn(v){const[p,m,C]=v.split(".");if(void 0===p||void 0===m||void 0===C)return Ve("JWT malformed, contained fewer than 3 sections"),null;try{const A=(0,L.tV)(m);return A?JSON.parse(A):(Ve("Failed to decode base64 JWT payload"),null)}catch(A){return Ve("Caught error parsing JWT payload as JSON",A?.toString()),null}}function ft(v,p){return vt.apply(this,arguments)}function vt(){return(vt=(0,l.Z)(function*(v,p,m=!1){if(m)return p;try{return yield p}catch(C){throw C instanceof L.ZR&&En(C)&&v.auth.currentUser===v&&(yield v.auth.signOut()),C}})).apply(this,arguments)}function En({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}class ar{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var m;if(p){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const A=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,A)}}schedule(p=!1){var m=this;if(!this.isRunning)return;const C=this.getInterval(p);this.timerId=setTimeout((0,l.Z)(function*(){yield m.iteration()}),C)}iteration(){var p=this;return(0,l.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m?.code&&p.schedule(!0))}p.schedule()})()}}class Ni{constructor(p,m){this.createdAt=p,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=Hr(this.lastLoginAt),this.creationTime=Hr(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Xn(v){return kt.apply(this,arguments)}function kt(){return(kt=(0,l.Z)(function*(v){var p;const m=v.auth,C=yield v.getIdToken(),A=yield ft(v,dt(m,{idToken:C}));Z(A?.users.length,m,"internal-error");const O=A.users[0];v._notifyReloadListener(O);const G=null!==(p=O.providerUserInfo)&&void 0!==p&&p.length?ln(O.providerUserInfo):[],ie=Gs(v.providerData,G),ct=!!v.isAnonymous&&!(v.email&&O.passwordHash||ie?.length),pt={uid:O.localId,displayName:O.displayName||null,photoURL:O.photoUrl||null,email:O.email||null,emailVerified:O.emailVerified||!1,phoneNumber:O.phoneNumber||null,tenantId:O.tenantId||null,providerData:ie,metadata:new Ni(O.createdAt,O.lastLoginAt),isAnonymous:ct};Object.assign(v,pt)})).apply(this,arguments)}function an(){return(an=(0,l.Z)(function*(v){const p=(0,L.m9)(v);yield Xn(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function Gs(v,p){return[...v.filter(C=>!p.some(A=>A.providerId===C.providerId)),...p]}function ln(v){return v.map(p=>{var{providerId:m}=p,C=(0,le._T)(p,["providerId"]);return{providerId:m,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}function ki(){return(ki=(0,l.Z)(function*(v,p){const m=yield Nt(v,{},(0,l.Z)(function*(){const C=(0,L.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:A,apiKey:O}=v.config,G=qt(v,A,"/v1/token",`key=${O}`),ie=yield v._getAdditionalHeaders();return ie["Content-Type"]="application/x-www-form-urlencoded",re.fetch()(G,{method:"POST",headers:ie,body:C})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class Ce{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){Z(p.idToken,"internal-error"),Z(typeof p.idToken<"u","internal-error"),Z(typeof p.refreshToken<"u","internal-error");const m="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function fn(v){const p=zn(v);return Z(p,"internal-error"),Z(typeof p.exp<"u","internal-error"),Z(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,m)}getToken(p,m=!1){var C=this;return(0,l.Z)(function*(){return Z(!C.accessToken||C.refreshToken,p,"user-token-expired"),m||!C.accessToken||C.isExpired?C.refreshToken?(yield C.refresh(p,C.refreshToken),C.accessToken):null:C.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,m){var C=this;return(0,l.Z)(function*(){const{accessToken:A,refreshToken:O,expiresIn:G}=yield function ei(v,p){return ki.apply(this,arguments)}(p,m);C.updateTokensAndExpiration(A,O,Number(G))})()}updateTokensAndExpiration(p,m,C){this.refreshToken=m||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(p,m){const{refreshToken:C,accessToken:A,expirationTime:O}=m,G=new Ce;return C&&(Z("string"==typeof C,"internal-error",{appName:p}),G.refreshToken=C),A&&(Z("string"==typeof A,"internal-error",{appName:p}),G.accessToken=A),O&&(Z("number"==typeof O,"internal-error",{appName:p}),G.expirationTime=O),G}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new Ce,this.toJSON())}_performRefresh(){return $e("not implemented")}}function $(v,p){Z("string"==typeof v||typeof v>"u","internal-error",{appName:p})}class Ee{constructor(p){var{uid:m,auth:C,stsTokenManager:A}=p,O=(0,le._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ar(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=C,this.stsTokenManager=A,this.accessToken=A.accessToken,this.displayName=O.displayName||null,this.email=O.email||null,this.emailVerified=O.emailVerified||!1,this.phoneNumber=O.phoneNumber||null,this.photoURL=O.photoURL||null,this.isAnonymous=O.isAnonymous||!1,this.tenantId=O.tenantId||null,this.providerData=O.providerData?[...O.providerData]:[],this.metadata=new Ni(O.createdAt||void 0,O.lastLoginAt||void 0)}getIdToken(p){var m=this;return(0,l.Z)(function*(){const C=yield ft(m,m.stsTokenManager.getToken(m.auth,p));return Z(C,m.auth,"internal-error"),m.accessToken!==C&&(m.accessToken=C,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),C})()}getIdTokenResult(p){return function yo(v){return Ds.apply(this,arguments)}(this,p)}reload(){return function is(v){return an.apply(this,arguments)}(this)}_assign(p){this!==p&&(Z(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(m=>Object.assign({},m)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){const m=new Ee(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}));return m.metadata._copy(this.metadata),m}_onReload(p){Z(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,m=!1){var C=this;return(0,l.Z)(function*(){let A=!1;p.idToken&&p.idToken!==C.stsTokenManager.accessToken&&(C.stsTokenManager.updateFromServerResponse(p),A=!0),m&&(yield Xn(C)),yield C.auth._persistUserIfCurrent(C),A&&C.auth._notifyListenersIfCurrent(C)})()}delete(){var p=this;return(0,l.Z)(function*(){const m=yield p.getIdToken();return yield ft(p,function Zn(v,p){return ui.apply(this,arguments)}(p.auth,{idToken:m})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,m){var C,A,O,G,ie,Le,Ze,ct;const pt=null!==(C=m.displayName)&&void 0!==C?C:void 0,Yn=null!==(A=m.email)&&void 0!==A?A:void 0,gs=null!==(O=m.phoneNumber)&&void 0!==O?O:void 0,Ld=null!==(G=m.photoURL)&&void 0!==G?G:void 0,Ls=null!==(ie=m.tenantId)&&void 0!==ie?ie:void 0,Vd=null!==(Le=m._redirectEventId)&&void 0!==Le?Le:void 0,gc=null!==(Ze=m.createdAt)&&void 0!==Ze?Ze:void 0,_y=null!==(ct=m.lastLoginAt)&&void 0!==ct?ct:void 0,{uid:Wg,emailVerified:qg,isAnonymous:mc,providerData:_c,stsTokenManager:Zg}=m;Z(Wg&&Zg,p,"internal-error");const Wa=Ce.fromJSON(this.name,Zg);Z("string"==typeof Wg,p,"internal-error"),$(pt,p.name),$(Yn,p.name),Z("boolean"==typeof qg,p,"internal-error"),Z("boolean"==typeof mc,p,"internal-error"),$(gs,p.name),$(Ld,p.name),$(Ls,p.name),$(Vd,p.name),$(gc,p.name),$(_y,p.name);const eu=new Ee({uid:Wg,auth:p,email:Yn,emailVerified:qg,displayName:pt,isAnonymous:mc,photoURL:Ld,phoneNumber:gs,tenantId:Ls,stsTokenManager:Wa,createdAt:gc,lastLoginAt:_y});return _c&&Array.isArray(_c)&&(eu.providerData=_c.map(Mi=>Object.assign({},Mi))),Vd&&(eu._redirectEventId=Vd),eu}static _fromIdTokenResponse(p,m,C=!1){return(0,l.Z)(function*(){const A=new Ce;A.updateFromServerResponse(m);const O=new Ee({uid:m.localId,auth:p,stsTokenManager:A,isAnonymous:C});return yield Xn(O),O})()}}const We=new Map;function Je(v){Ke(v instanceof Function,"Expected a class definition");let p=We.get(v);return p?(Ke(p instanceof v,"Instance stored in cache mismatched with class"),p):(p=new v,We.set(v,p),p)}function H(v,p,m){return`firebase:${v}:${p}:${m}`}function se(v=(0,L.z$)()){const p=v.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function Zt(v=(0,L.z$)()){return/android/i.test(v)}function Et(v=(0,L.z$)()){return/iphone|ipad|ipod/i.test(v)||/macintosh/i.test(v)&&/mobile/i.test(v)}function Hn(v=(0,L.z$)()){return Et(v)||Zt(v)||function Ue(v=(0,L.z$)()){return/webos/i.test(v)}(v)||function Tn(v=(0,L.z$)()){return/blackberry/i.test(v)}(v)||/windows phone/i.test(v)||function Ut(v=(0,L.z$)()){return/iemobile/i.test(v)}(v)}function rn(v){return(0,L.m9)(v)}class Zs{constructor(p,m){this.providerId=p,this.signInMethod=m}toJSON(){return $e("not implemented")}_getIdTokenResponse(p){return $e("not implemented")}_linkToIdToken(p,m){return $e("not implemented")}_getReauthenticationResolver(p){return $e("not implemented")}}function Rh(v,p){return Yc.apply(this,arguments)}function Yc(){return(Yc=(0,l.Z)(function*(v,p){return be(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Qc(v,p){return Lh.apply(this,arguments)}function Lh(){return(Lh=(0,l.Z)(function*(v,p){return be(v,"POST","/v1/accounts:sendOobCode",Pe(v,p))})).apply(this,arguments)}function ng(v,p){return Vh.apply(this,arguments)}function Vh(){return(Vh=(0,l.Z)(function*(v,p){return Qc(v,p)})).apply(this,arguments)}function q_(v,p){return Uh.apply(this,arguments)}function Uh(){return(Uh=(0,l.Z)(function*(v,p){return Qc(v,p)})).apply(this,arguments)}function ss(v,p){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,l.Z)(function*(v,p){return St(v,"POST","/v1/accounts:signInWithIdp",Pe(v,p))})).apply(this,arguments)}class jr extends Zs{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const m=new jr(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(m.idToken=p.idToken),p.accessToken&&(m.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(m.nonce=p.nonce),p.pendingToken&&(m.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(m.accessToken=p.oauthToken,m.secret=p.oauthTokenSecret):Ae("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:C,signInMethod:A}=m,O=(0,le._T)(m,["providerId","signInMethod"]);if(!C||!A)return null;const G=new jr(C,A);return G.idToken=O.idToken||void 0,G.accessToken=O.accessToken||void 0,G.secret=O.secret,G.nonce=O.nonce,G.pendingToken=O.pendingToken||null,G}_getIdTokenResponse(p){return ss(p,this.buildRequest())}_linkToIdToken(p,m){const C=this.buildRequest();return C.idToken=m,ss(p,C)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,ss(p,m)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),p.postBody=(0,L.xO)(m)}return p}}function jh(v,p){return bl.apply(this,arguments)}function bl(){return(bl=(0,l.Z)(function*(v,p){return be(v,"POST","/v1/accounts:sendVerificationCode",Pe(v,p))})).apply(this,arguments)}function xu(){return(xu=(0,l.Z)(function*(v,p){return St(v,"POST","/v1/accounts:signInWithPhoneNumber",Pe(v,p))})).apply(this,arguments)}function Io(){return(Io=(0,l.Z)(function*(v,p){const m=yield St(v,"POST","/v1/accounts:signInWithPhoneNumber",Pe(v,p));if(m.temporaryProof)throw Un(v,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const Mu={USER_NOT_FOUND:"user-not-found"};function ji(){return(ji=(0,l.Z)(function*(v,p){return St(v,"POST","/v1/accounts:signInWithPhoneNumber",Pe(v,Object.assign(Object.assign({},p),{operation:"REAUTH"})),Mu)})).apply(this,arguments)}class lr extends Zs{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,m){return new lr({verificationId:p,verificationCode:m})}static _fromTokenResponse(p,m){return new lr({phoneNumber:p,temporaryProof:m})}_getIdTokenResponse(p){return function ed(v,p){return xu.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,m){return function og(v,p){return Io.apply(this,arguments)}(p,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function ag(v,p){return ji.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:m,verificationId:C,verificationCode:A}=this.params;return p&&m?{temporaryProof:p,phoneNumber:m}:{sessionInfo:C,code:A}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:m,verificationCode:C,phoneNumber:A,temporaryProof:O}=p;return C||m||A||O?new lr({verificationId:m,verificationCode:C,phoneNumber:A,temporaryProof:O}):null}}class Ys{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class Ou extends Ys{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class $r extends Ou{static credentialFromJSON(p){const m="string"==typeof p?JSON.parse(p):p;return Z("providerId"in m&&"signInMethod"in m,"argument-error"),jr._fromParams(m)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return Z(p.idToken||p.accessToken,"argument-error"),jr._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return $r.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return $r.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:m,oauthAccessToken:C,oauthTokenSecret:A,pendingToken:O,nonce:G,providerId:ie}=p;if(!C&&!A&&!m&&!O||!ie)return null;try{return new $r(ie)._credential({idToken:m,accessToken:C,nonce:G,pendingToken:O})}catch{return null}}}let wr=(()=>{class v extends Ou{constructor(){super("facebook.com")}static credential(m){return jr._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch{return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),td=(()=>{class v extends Ou{constructor(){super("google.com"),this.addScope("profile")}static credential(m,C){return jr._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:C})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:C,oauthAccessToken:A}=m;if(!C&&!A)return null;try{return v.credential(C,A)}catch{return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),Il=(()=>{class v extends Ou{constructor(){super("github.com")}static credential(m){return jr._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch{return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class di extends Zs{constructor(p,m){super(p,p),this.pendingToken=m}_getIdTokenResponse(p){return ss(p,this.buildRequest())}_linkToIdToken(p,m){const C=this.buildRequest();return C.idToken=m,ss(p,C)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,ss(p,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:C,signInMethod:A,pendingToken:O}=m;return C&&A&&O&&C===A?new di(C,O):null}static _create(p,m){return new di(p,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}let nd=(()=>{class v extends Ou{constructor(){super("twitter.com")}static credential(m,C){return jr._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:C})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:C,oauthTokenSecret:A}=m;if(!C||!A)return null;try{return v.credential(C,A)}catch{return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();class Yi{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,m,C,A=!1){return(0,l.Z)(function*(){const O=yield Ee._fromIdTokenResponse(p,C,A),G=Lt(C);return new Yi({user:O,providerId:G,_tokenResponse:C,operationType:m})})()}static _forOperation(p,m,C){return(0,l.Z)(function*(){yield p._updateTokensIfNecessary(C,!0);const A=Lt(C);return new Yi({user:p,providerId:A,_tokenResponse:C,operationType:m})})()}}function Lt(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}class Tl extends L.ZR{constructor(p,m,C,A){var O;super(m.code,m.message),this.operationType=C,this.user=A,Object.setPrototypeOf(this,Tl.prototype),this.customData={appName:p.name,tenantId:null!==(O=p.tenantId)&&void 0!==O?O:void 0,_serverResponse:m.customData._serverResponse,operationType:C}}static _fromErrorAndOperation(p,m,C,A){return new Tl(p,m,C,A)}}function Wh(v,p,m,C){return("reauthenticate"===p?m._getReauthenticationResolver(v):m._getIdTokenResponse(v)).catch(O=>{throw"auth/multi-factor-auth-required"===O.code?Tl._fromErrorAndOperation(v,O,p,C):O})}function qh(v){return new Set(v.map(({providerId:p})=>p).filter(p=>!!p))}function os(){return(os=(0,l.Z)(function*(v,p){const m=(0,L.m9)(v);yield Qt(!0,m,p);const{providerUserInfo:C}=yield sr(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[p]}),A=qh(C||[]);return m.providerData=m.providerData.filter(O=>A.has(O.providerId)),A.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function Nu(v,p){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,l.Z)(function*(v,p,m=!1){const C=yield ft(v,p._linkToIdToken(v.auth,yield v.getIdToken()),m);return Yi._forOperation(v,"link",C)})).apply(this,arguments)}function Qt(v,p,m){return ku.apply(this,arguments)}function ku(){return(ku=(0,l.Z)(function*(v,p,m){yield Xn(p);const A=!1===v?"provider-already-linked":"no-such-provider";Z(qh(p.providerData).has(m)===v,p.auth,A)})).apply(this,arguments)}function id(v,p){return ti.apply(this,arguments)}function ti(){return(ti=(0,l.Z)(function*(v,p,m=!1){const{auth:C}=v,A="reauthenticate";try{const O=yield ft(v,Wh(C,A,p,v),m);Z(O.idToken,C,"internal-error");const G=zn(O.idToken);Z(G,C,"internal-error");const{sub:ie}=G;return Z(v.uid===ie,C,"user-mismatch"),Yi._forOperation(v,A,O)}catch(O){throw"auth/user-not-found"===O?.code&&Ae(C,"user-mismatch"),O}})).apply(this,arguments)}function Go(){return(Go=(0,l.Z)(function*(v,p,m=!1){const C="signIn",A=yield Wh(v,C,p),O=yield Yi._fromIdTokenResponse(v,C,A);return m||(yield v._updateCurrentUser(O.user)),O})).apply(this,arguments)}function rd(v,p){return sd.apply(this,arguments)}function sd(){return(sd=(0,l.Z)(function*(v,p){const m=(0,L.m9)(v);return yield Qt(!1,m,p.providerId),Nu(m,p)})).apply(this,arguments)}function ni(v,p){return lg.apply(this,arguments)}function lg(){return(lg=(0,l.Z)(function*(v,p){return id((0,L.m9)(v),p)})).apply(this,arguments)}class Qs{constructor(p,m){this.factorId=p,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(p,m){return"phoneInfo"in m?Nr._fromServerResponse(p,m):"totpInfo"in m?Kh._fromServerResponse(p,m):Ae(p,"internal-error")}}class Nr extends Qs{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,m){return new Nr(m)}}class Kh extends Qs{constructor(p){super("totp",p)}static _fromServerResponse(p,m){return new Kh(m)}}function Wo(v,p,m){var C;Z((null===(C=m.url)||void 0===C?void 0:C.length)>0,v,"invalid-continue-uri"),Z(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),p.continueUrl=m.url,p.dynamicLinkDomain=m.dynamicLinkDomain,p.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(Z(m.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),p.iOSBundleId=m.iOS.bundleId),m.android&&(Z(m.android.packageName.length>0,v,"missing-android-pkg-name"),p.androidInstallApp=m.android.installApp,p.androidMinimumVersionCode=m.android.minimumVersion,p.androidPackageName=m.android.packageName)}function Vu(){return(Vu=(0,l.Z)(function*(v,p){const m=(0,L.m9)(v),A={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};p&&Wo(m.auth,A,p);const{email:O}=yield ng(m.auth,A);O!==v.email&&(yield v.reload())})).apply(this,arguments)}function Zo(){return(Zo=(0,l.Z)(function*(v,p,m){const C=(0,L.m9)(v),O={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:p};m&&Wo(C.auth,O,m);const{email:G}=yield q_(C.auth,O);G!==v.email&&(yield v.reload())})).apply(this,arguments)}function Ml(v,p){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,l.Z)(function*(v,p){return be(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Pl(){return(Pl=(0,l.Z)(function*(v,{displayName:p,photoURL:m}){if(void 0===p&&void 0===m)return;const C=(0,L.m9)(v),O={idToken:yield C.getIdToken(),displayName:p,photoUrl:m,returnSecureToken:!0},G=yield ft(C,Ml(C.auth,O));C.displayName=G.displayName||null,C.photoURL=G.photoUrl||null;const ie=C.providerData.find(({providerId:Le})=>"password"===Le);ie&&(ie.displayName=C.displayName,ie.photoURL=C.photoURL),yield C._updateTokensIfNecessary(G)})).apply(this,arguments)}function Ol(v,p,m){return Bu.apply(this,arguments)}function Bu(){return(Bu=(0,l.Z)(function*(v,p,m){const{auth:C}=v,O={idToken:yield v.getIdToken(),returnSecureToken:!0};p&&(O.email=p),m&&(O.password=m);const G=yield ft(v,Rh(C,O));yield v._updateTokensIfNecessary(G,!0)})).apply(this,arguments)}class ls{constructor(p,m,C={}){this.isNewUser=p,this.providerId=m,this.profile=C}}class dd extends ls{constructor(p,m,C,A){super(p,m,C),this.username=A}}class tf extends ls{constructor(p,m){super(p,"facebook.com",m)}}class hg extends dd{constructor(p,m){super(p,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class hd extends ls{constructor(p,m){super(p,"google.com",m)}}class Uu extends dd{constructor(p,m,C){super(p,"twitter.com",m,C)}}function zu(v){const{user:p,_tokenResponse:m}=v;return p.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function dg(v){var p,m;if(!v)return null;const{providerId:C}=v,A=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},O=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!C&&v?.idToken){const G=null===(m=null===(p=zn(v.idToken))||void 0===p?void 0:p.firebase)||void 0===m?void 0:m.sign_in_provider;if(G)return new ls(O,"anonymous"!==G&&"custom"!==G?G:null)}if(!C)return null;switch(C){case"facebook.com":return new tf(O,A);case"github.com":return new hg(O,A);case"google.com":return new hd(O,A);case"twitter.com":return new Uu(O,A,v.screenName||null);case"custom":case"anonymous":return new ls(O,null);default:return new ls(O,C,A)}}(m)}class Ko{constructor(p,m,C){this.type=p,this.credential=m,this.auth=C}static _fromIdtoken(p,m){return new Ko("enroll",p,m)}static _fromMfaPendingCredential(p){return new Ko("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var m,C;if(p?.multiFactorSession){if(null!==(m=p.multiFactorSession)&&void 0!==m&&m.pendingCredential)return Ko._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(C=p.multiFactorSession)&&void 0!==C&&C.idToken)return Ko._fromIdtoken(p.multiFactorSession.idToken)}return null}}class Ms{constructor(p,m,C){this.session=p,this.hints=m,this.signInResolver=C}static _fromError(p,m){const C=rn(p),A=m.customData._serverResponse,O=(A.mfaInfo||[]).map(ie=>Qs._fromServerResponse(C,ie));Z(A.mfaPendingCredential,C,"internal-error");const G=Ko._fromMfaPendingCredential(A.mfaPendingCredential);return new Ms(G,O,function(){var ie=(0,l.Z)(function*(Le){const Ze=yield Le._process(C,G);delete A.mfaInfo,delete A.mfaPendingCredential;const ct=Object.assign(Object.assign({},A),{idToken:Ze.idToken,refreshToken:Ze.refreshToken});switch(m.operationType){case"signIn":const pt=yield Yi._fromIdTokenResponse(C,m.operationType,ct);return yield C._updateCurrentUser(pt.user),pt;case"reauthenticate":return Z(m.user,C,"internal-error"),Yi._forOperation(m.user,m.operationType,ct);default:Ae(C,"internal-error")}});return function(Le){return ie.apply(this,arguments)}}())}resolveSignIn(p){var m=this;return(0,l.Z)(function*(){return m.signInResolver(p)})()}}function Rl(v,p){return be(v,"POST","/v2/accounts/mfaEnrollment:start",Pe(v,p))}class Yo{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(C=>Qs._fromServerResponse(p.auth,C)))})}static _fromUser(p){return new Yo(p)}getSession(){var p=this;return(0,l.Z)(function*(){return Ko._fromIdtoken(yield p.user.getIdToken(),p.user.auth)})()}enroll(p,m){var C=this;return(0,l.Z)(function*(){const A=p,O=yield C.getSession(),G=yield ft(C.user,A._process(C.user.auth,O,m));return yield C.user._updateTokensIfNecessary(G),C.user.reload()})()}unenroll(p){var m=this;return(0,l.Z)(function*(){const C="string"==typeof p?p:p.uid,A=yield m.user.getIdToken();try{const O=yield ft(m.user,function gd(v,p){return be(v,"POST","/v2/accounts/mfaEnrollment:withdraw",Pe(v,p))}(m.user.auth,{idToken:A,mfaEnrollmentId:C}));m.enrolledFactors=m.enrolledFactors.filter(({uid:G})=>G!==C),yield m.user._updateTokensIfNecessary(O),yield m.user.reload()}catch(O){throw O}})()}}const Qo=new WeakMap;class $u{constructor(p,m){this.storageRetriever=p,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem("__sak","1"),this.storage.removeItem("__sak"),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,m){return this.storage.setItem(p,JSON.stringify(m)),Promise.resolve()}_get(p){const m=this.storage.getItem(p);return Promise.resolve(m?JSON.parse(m):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ps=(()=>{class v extends $u{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,C)=>this.onStorageEvent(m,C),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function gg(){const v=(0,L.z$)();return se(v)||Et(v)}()&&function Ws(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Hn(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const C of Object.keys(this.listeners)){const A=this.storage.getItem(C),O=this.localCache[C];A!==O&&m(C,O,A)}}onStorageEvent(m,C=!1){if(!m.key)return void this.forAllChangedKeys((ie,Le,Ze)=>{this.notifyListeners(ie,Ze)});const A=m.key;if(C?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ie=this.storage.getItem(A);if(m.newValue!==ie)null!==m.newValue?this.storage.setItem(A,m.newValue):this.storage.removeItem(A);else if(this.localCache[A]===m.newValue&&!C)return}const O=()=>{const ie=this.storage.getItem(A);!C&&this.localCache[A]===ie||this.notifyListeners(A,ie)},G=this.storage.getItem(A);!function yr(){return(0,L.w1)()&&10===document.documentMode}()||G===m.newValue||m.newValue===m.oldValue?O():setTimeout(O,10)}notifyListeners(m,C){this.localCache[m]=C;const A=this.listeners[m];if(A)for(const O of Array.from(A))O(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,C,A)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:C,newValue:A}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(C)}_removeListener(m,C){this.listeners[m]&&(this.listeners[m].delete(C),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,C){var A=()=>super._set,O=this;return(0,l.Z)(function*(){yield A().call(O,m,C),O.localCache[m]=JSON.stringify(C)})()}_get(m){var C=()=>super._get,A=this;return(0,l.Z)(function*(){const O=yield C().call(A,m);return A.localCache[m]=JSON.stringify(O),O})()}_remove(m){var C=()=>super._remove,A=this;return(0,l.Z)(function*(){yield C().call(A,m),delete A.localCache[m]})()}}return v.type="LOCAL",v})(),Xo=(()=>{class v extends $u{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,C){}_removeListener(m,C){}}return v.type="SESSION",v})();function Os(v="",p=10){let m="";for(let C=0;C<p;C++)m+=Math.floor(10*Math.random());return v+m}function Gn(){return window}function Si(v,p){return be(v,"POST","/v2/accounts/mfaSignIn:start",Pe(v,p))}const Qu="recaptcha";class wd{constructor(p,m){this.verificationId=p,this.onConfirmation=m}confirm(p){const m=lr._fromVerification(this.verificationId,p);return this.onConfirmation(m)}}function Do(){return(Do=(0,l.Z)(function*(v,p,m){const C=(0,L.m9)(v);yield Qt(!1,C,"phone");const A=yield ec(C.auth,p,(0,L.m9)(m));return new wd(A,O=>rd(C,O))})).apply(this,arguments)}function zl(){return(zl=(0,l.Z)(function*(v,p,m){const C=(0,L.m9)(v),A=yield ec(C.auth,p,(0,L.m9)(m));return new wd(A,O=>ni(C,O))})).apply(this,arguments)}function ec(v,p,m){return wn.apply(this,arguments)}function wn(){return(wn=(0,l.Z)(function*(v,p,m){var C;const A=yield m.verify();try{let O;if(Z("string"==typeof A,v,"argument-error"),Z(m.type===Qu,v,"argument-error"),O="string"==typeof p?{phoneNumber:p}:p,"session"in O){const G=O.session;if("phoneNumber"in O)return Z("enroll"===G.type,v,"internal-error"),(yield Rl(v,{idToken:G.credential,phoneEnrollmentInfo:{phoneNumber:O.phoneNumber,recaptchaToken:A}})).phoneSessionInfo.sessionInfo;{Z("signin"===G.type,v,"internal-error");const ie=(null===(C=O.multiFactorHint)||void 0===C?void 0:C.uid)||O.multiFactorUid;return Z(ie,v,"missing-multi-factor-info"),(yield Si(v,{mfaPendingCredential:G.credential,mfaEnrollmentId:ie,phoneSignInInfo:{recaptchaToken:A}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:G}=yield jh(v,{phoneNumber:O.phoneNumber,recaptchaToken:A});return G}}finally{m._reset()}})).apply(this,arguments)}function wt(){return(wt=(0,l.Z)(function*(v,p){yield Nu((0,L.m9)(v),p)})).apply(this,arguments)}let Kn=(()=>{class v{constructor(m){this.providerId=v.PROVIDER_ID,this.auth=rn(m)}verifyPhoneNumber(m,C){return ec(this.auth,m,(0,L.m9)(C))}static credential(m,C){return lr._fromVerification(m,C)}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:C,temporaryProof:A}=m;return C&&A?lr._fromTokenResponse(C,A):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function ri(v,p){return p?Je(p):(Z(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class dr extends Zs{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return ss(p,this._buildIdpRequest())}_linkToIdToken(p,m){return ss(p,this._buildIdpRequest(m))}_getReauthenticationResolver(p){return ss(p,this._buildIdpRequest())}_buildIdpRequest(p){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(m.idToken=p),m}}function Hl(v){return function Ru(v,p){return Go.apply(this,arguments)}(v.auth,new dr(v),v.bypassAuthState)}function Cr(v){const{auth:p,user:m}=v;return Z(m,p,"internal-error"),id(m,new dr(v),v.bypassAuthState)}function tc(v){return jl.apply(this,arguments)}function jl(){return(jl=(0,l.Z)(function*(v){const{auth:p,user:m}=v;return Z(m,p,"internal-error"),Nu(m,new dr(v),v.bypassAuthState)})).apply(this,arguments)}class ta{constructor(p,m,C,A,O=!1){this.auth=p,this.resolver=C,this.user=A,this.bypassAuthState=O,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var p=this;return new Promise(function(){var m=(0,l.Z)(function*(C,A){p.pendingPromise={resolve:C,reject:A};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(O){p.reject(O)}});return function(C,A){return m.apply(this,arguments)}}())}onAuthEvent(p){var m=this;return(0,l.Z)(function*(){const{urlResponse:C,sessionId:A,postBody:O,tenantId:G,error:ie,type:Le}=p;if(ie)return void m.reject(ie);const Ze={auth:m.auth,requestUri:C,sessionId:A,tenantId:G||void 0,postBody:O||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(Le)(Ze))}catch(ct){m.reject(ct)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return Hl;case"linkViaPopup":case"linkViaRedirect":return tc;case"reauthViaPopup":case"reauthViaRedirect":return Cr;default:Ae(this.auth,"internal-error")}}resolve(p){Ke(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){Ke(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const hr=new Di(2e3,1e4);function mt(){return(mt=(0,l.Z)(function*(v,p,m){const C=(0,L.m9)(v);ze(C.auth,p,Ys);const A=ri(C.auth,m);return new $l(C.auth,"reauthViaPopup",p,A,C).executeNotNull()})).apply(this,arguments)}function ia(){return(ia=(0,l.Z)(function*(v,p,m){const C=(0,L.m9)(v);ze(C.auth,p,Ys);const A=ri(C.auth,m);return new $l(C.auth,"linkViaPopup",p,A,C).executeNotNull()})).apply(this,arguments)}let $l=(()=>{class v extends ta{constructor(m,C,A,O,G){super(m,C,O,G),this.provider=A,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var m=this;return(0,l.Z)(function*(){const C=yield m.execute();return Z(C,m.auth,"internal-error"),C})()}onExecution(){var m=this;return(0,l.Z)(function*(){Ke(1===m.filter.length,"Popup operations only handle one event");const C=Os();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],C),m.authWindow.associatedEvent=C,m.resolver._originValidation(m.auth).catch(A=>{m.reject(A)}),m.resolver._isIframeWebStorageSupported(m.auth,A=>{A||m.reject(ve(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(ve(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const m=()=>{var C,A;this.pollId=null!==(A=null===(C=this.authWindow)||void 0===C?void 0:C.window)&&void 0!==A&&A.closed?window.setTimeout(()=>{this.pollId=null,this.reject(ve(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(m,hr.get())};m()}}return v.currentPopupAction=null,v})();const Mn=new Map;class df extends ta{constructor(p,m,C=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,C),this.eventId=null}execute(){var p=()=>super.execute,m=this;return(0,l.Z)(function*(){let C=Mn.get(m.auth._key());if(!C){try{const O=(yield function So(v,p){return Ed.apply(this,arguments)}(m.resolver,m.auth))?yield p().call(m):null;C=()=>Promise.resolve(O)}catch(A){C=()=>Promise.reject(A)}Mn.set(m.auth._key(),C)}return m.bypassAuthState||Mn.set(m.auth._key(),()=>Promise.resolve(null)),C()})()}onAuthEvent(p){var m=()=>super.onAuthEvent,C=this;return(0,l.Z)(function*(){if("signInViaRedirect"===p.type)return m().call(C,p);if("unknown"!==p.type){if(p.eventId){const A=yield C.auth._redirectUserForId(p.eventId);if(A)return C.user=A,m().call(C,p);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,l.Z)(function*(){})()}cleanUp(){}}function Ed(){return(Ed=(0,l.Z)(function*(v,p){const m=Gl(p),C=cs(v);if(!(yield C._isAvailable()))return!1;const A="true"===(yield C._get(m));return yield C._remove(m),A})).apply(this,arguments)}function ra(v,p){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,l.Z)(function*(v,p){return cs(v)._set(Gl(p),"true")})).apply(this,arguments)}function io(v,p){Mn.set(v._key(),p)}function cs(v){return Je(v._redirectPersistence)}function Gl(v){return H("pendingRedirect",v.config.apiKey,v.name)}function fi(){return(fi=(0,l.Z)(function*(v,p,m){const C=(0,L.m9)(v);ze(C.auth,p,Ys),yield C.auth._initializationPromise;const A=ri(C.auth,m);yield ra(A,C.auth);const O=yield Ao(C);return A._openRedirect(C.auth,p,"reauthViaRedirect",O)})).apply(this,arguments)}function Ci(){return(Ci=(0,l.Z)(function*(v,p,m){const C=(0,L.m9)(v);ze(C.auth,p,Ys),yield C.auth._initializationPromise;const A=ri(C.auth,m);yield Qt(!1,C,p.providerId),yield ra(A,C.auth);const O=yield Ao(C);return A._openRedirect(C.auth,p,"linkViaRedirect",O)})).apply(this,arguments)}function Ji(v,p){return pi.apply(this,arguments)}function pi(){return(pi=(0,l.Z)(function*(v,p,m=!1){const C=rn(v),A=ri(C,p),G=yield new df(C,A,m).execute();return G&&!m&&(delete G.user._redirectEventId,yield C._persistUserIfCurrent(G.user),yield C._setRedirectUser(null,p)),G})).apply(this,arguments)}function Ao(v){return za.apply(this,arguments)}function za(){return(za=(0,l.Z)(function*(v){const p=Os(`${v.uid}:::`);return v._redirectEventId=p,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),p})).apply(this,arguments)}class hs{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let m=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(p,C)&&(m=!0,this.sendToConsumer(p,C),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function ks(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ai(v);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=p,m=!0)),m}sendToConsumer(p,m){var C;if(p.error&&!Ai(p)){const A=(null===(C=p.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";m.onError(ve(this.auth,A))}else m.onAuthEvent(p)}isEventForConsumer(p,m){const C=null===m.eventId||!!p.eventId&&p.eventId===m.eventId;return m.filter.includes(p.type)&&C}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Kr(p))}saveEventToCache(p){this.cachedEventUids.add(Kr(p)),this.lastProcessedEventTime=Date.now()}}function Kr(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(p=>p).join("-")}function Ai({type:v,error:p}){return"unknown"===v&&"auth/no-auth-event"===p?.code}function Dg(v){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,l.Z)(function*(v,p={}){return be(v,"GET","/v1/projects",p)})).apply(this,arguments)}const Sg=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ag=/^https?/;function oa(){return(oa=(0,l.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:p}=yield Dg(v);for(const m of p)try{if(Td(m))return}catch{}Ae(v,"unauthorized-domain")})).apply(this,arguments)}function Td(v){const p=Ot(),{protocol:m,hostname:C}=new URL(p);if(v.startsWith("chrome-extension://")){const G=new URL(v);return""===G.hostname&&""===C?"chrome-extension:"===m&&v.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===m&&G.hostname===C}if(!Ag.test(m))return!1;if(Sg.test(v))return C===v;const A=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+A+"|"+A+")$","i").test(C)}const Jt=new Di(3e4,6e4);function ql(){const v=Gn().___jsl;if(v?.H)for(const p of Object.keys(v.H))if(v.H[p].r=v.H[p].r||[],v.H[p].L=v.H[p].L||[],v.H[p].r=[...v.H[p].L],v.CP)for(let m=0;m<v.CP.length;m++)v.CP[m]=null}let ro=null;function xo(v){return ro=ro||function Ha(v){return new Promise((p,m)=>{var C,A,O;function G(){ql(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{ql(),m(ve(v,"network-request-failed"))},timeout:Jt.get()})}if(null!==(A=null===(C=Gn().gapi)||void 0===C?void 0:C.iframes)&&void 0!==A&&A.Iframe)p(gapi.iframes.getContext());else{if(null===(O=Gn().gapi)||void 0===O||!O.load){const ie=function Eo(v){return`__${v}${Math.floor(1e6*Math.random())}`}("iframefcb");return Gn()[ie]=()=>{gapi.load?G():m(ve(v,"network-request-failed"))},function qs(v){return new Promise((p,m)=>{const C=document.createElement("script");C.setAttribute("src",v),C.onload=p,C.onerror=A=>{const O=ve("internal-error");O.customData=A,m(O)},C.type="text/javascript",C.charset="UTF-8",function Ri(){var v,p;return null!==(p=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==p?p:document}().appendChild(C)})}(`https://apis.google.com/js/api.js?onload=${ie}`).catch(Le=>m(Le))}G()}}).catch(p=>{throw ro=null,p})}(v),ro}const ff=new Di(5e3,15e3),Dd={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fs=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function cw(v){const p=v.config;Z(p.authDomain,v,"auth-domain-config-required");const m=p.emulator?ne(p,"emulator/auth/iframe"):`https://${v.config.authDomain}/__/auth/iframe`,C={apiKey:p.apiKey,appName:v.name,v:oe.SDK_VERSION},A=fs.get(v.config.apiHost);A&&(C.eid=A);const O=v._getFrameworks();return O.length&&(C.fw=O.join(",")),`${m}?${(0,L.xO)(C).slice(1)}`}function T(){return T=(0,l.Z)(function*(v){const p=yield xo(v),m=Gn().gapi;return Z(m,v,"internal-error"),p.open({where:document.body,url:cw(v),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Dd,dontclear:!0},C=>new Promise(function(){var A=(0,l.Z)(function*(O,G){yield C.restyle({setHideOnLeave:!1});const ie=ve(v,"network-request-failed"),Le=Gn().setTimeout(()=>{G(ie)},ff.get());function Ze(){Gn().clearTimeout(Le),O(C)}C.ping(Ze).then(Ze,()=>{G(ie)})});return function(O,G){return A.apply(this,arguments)}}()))}),T.apply(this,arguments)}const M={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Qe{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function qe(v,p,m,C=500,A=600){const O=Math.max((window.screen.availHeight-A)/2,0).toString(),G=Math.max((window.screen.availWidth-C)/2,0).toString();let ie="";const Le=Object.assign(Object.assign({},M),{width:C.toString(),height:A.toString(),top:O,left:G}),Ze=(0,L.z$)().toLowerCase();m&&(ie=function et(v=(0,L.z$)()){return/crios\//i.test(v)}(Ze)?"_blank":m),function he(v=(0,L.z$)()){return/firefox\//i.test(v)}(Ze)&&(p=p||"http://localhost",Le.scrollbars="yes");const ct=Object.entries(Le).reduce((Yn,[gs,Ld])=>`${Yn}${gs}=${Ld},`,"");if(function kn(v=(0,L.z$)()){var p;return Et(v)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(Ze)&&"_self"!==ie)return function _t(v,p){const m=document.createElement("a");m.href=v,m.target=p;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(C)}(p||"",ie),new Qe(null);const pt=window.open(p||"",ie,ct);Z(pt,v,"popup-blocked");try{pt.focus()}catch{}return new Qe(pt)}const Xi=encodeURIComponent("fac");function Dn(v,p,m,C,A,O){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,l.Z)(function*(v,p,m,C,A,O){Z(v.config.authDomain,v,"auth-domain-config-required"),Z(v.config.apiKey,v,"invalid-api-key");const G={apiKey:v.config.apiKey,appName:v.name,authType:m,redirectUrl:C,v:oe.SDK_VERSION,eventId:A};if(p instanceof Ys){p.setDefaultLanguage(v.languageCode),G.providerId=p.providerId||"",(0,L.xb)(p.getCustomParameters())||(G.customParameters=JSON.stringify(p.getCustomParameters()));for(const[ct,pt]of Object.entries(O||{}))G[ct]=pt}if(p instanceof Ou){const ct=p.getScopes().filter(pt=>""!==pt);ct.length>0&&(G.scopes=ct.join(","))}v.tenantId&&(G.tid=v.tenantId);const ie=G;for(const ct of Object.keys(ie))void 0===ie[ct]&&delete ie[ct];const Le=yield v._getAppCheckToken(),Ze=Le?`#${Xi}=${encodeURIComponent(Le)}`:"";return`${ps(v)}?${(0,L.xO)(ie).slice(1)}${Ze}`})).apply(this,arguments)}function ps({config:v}){return v.emulator?ne(v,"emulator/auth/handler"):`https://${v.authDomain}/__/auth/handler`}const Mo="webStorageSupport";function $a(){return window}function xd(){return(xd=(0,l.Z)(function*(v,p,m){var C;const{BuildInfo:A}=$a();Ke(p.sessionId,"AuthEvent did not contain a session ID");const O=yield hw(p.sessionId),G={};return Et()?G.ibi=A.packageName:Zt()?G.apn=A.packageName:Ae(v,"operation-not-supported-in-this-environment"),A.displayName&&(G.appDisplayName=A.displayName),G.sessionId=O,Dn(v,m,p.type,void 0,null!==(C=p.eventId)&&void 0!==C?C:void 0,G)})).apply(this,arguments)}function dc(){return(dc=(0,l.Z)(function*(v){const{BuildInfo:p}=$a(),m={};Et()?m.iosBundleId=p.packageName:Zt()?m.androidPackageName=p.packageName:Ae(v,"operation-not-supported-in-this-environment"),yield Dg(v,m)})).apply(this,arguments)}function Md(){return(Md=(0,l.Z)(function*(v,p,m){const{cordova:C}=$a();let A=()=>{};try{yield new Promise((O,G)=>{let ie=null;function Le(){var pt;O();const Yn=null===(pt=C.plugins.browsertab)||void 0===pt?void 0:pt.close;"function"==typeof Yn&&Yn(),"function"==typeof m?.close&&m.close()}function Ze(){ie||(ie=window.setTimeout(()=>{G(ve(v,"redirect-cancelled-by-user"))},2e3))}function ct(){"visible"===document?.visibilityState&&Ze()}p.addPassiveListener(Le),document.addEventListener("resume",Ze,!1),Zt()&&document.addEventListener("visibilitychange",ct,!1),A=()=>{p.removePassiveListener(Le),document.removeEventListener("resume",Ze,!1),document.removeEventListener("visibilitychange",ct,!1),ie&&window.clearTimeout(ie)}})}finally{A()}})).apply(this,arguments)}function hw(v){return Ng.apply(this,arguments)}function Ng(){return(Ng=(0,l.Z)(function*(v){const p=fw(v),m=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(m)).map(A=>A.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function fw(v){if(Ke(/[0-9a-zA-Z]+/.test(v),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(v);const p=new ArrayBuffer(v.length),m=new Uint8Array(p);for(let C=0;C<v.length;C++)m[C]=v.charCodeAt(C);return m}class Yl extends hs{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(p)),super.onEvent(p)}initialized(){var p=this;return(0,l.Z)(function*(){yield p.initPromise})()}}function kg(v){return yf.apply(this,arguments)}function yf(){return(yf=(0,l.Z)(function*(v){const p=yield aa()._get(Pd(v));return p&&(yield aa()._remove(Pd(v))),p})).apply(this,arguments)}function oy(){const v=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<20;m++){const C=Math.floor(Math.random()*p.length);v.push(p.charAt(C))}return v.join("")}function aa(){return Je(Ps)}function Pd(v){return H("authEvent",v.config.apiKey,v.name)}function Xl(v){if(!v?.includes("?"))return{};const[p,...m]=v.split("?");return(0,L.zd)(m.join("?"))}function wf(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ve("no-auth-event")}}function ao(){var v;return(null===(v=self?.location)||void 0===v?void 0:v.protocol)||null}function $g(){return function Ef(v=(0,L.z$)()){return!("file:"!==ao()&&"ionic:"!==ao()&&"capacitor:"!==ao()||!v.toLowerCase().match(/iphone|ipad|ipod|android/))}()&&typeof document<"u"}function fc(){return(fc=(0,l.Z)(function*(){return!!$g()&&new Promise(v=>{const p=setTimeout(()=>{v(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(p),v(!0)})})})).apply(this,arguments)}const If="persistence";function lo(v){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,l.Z)(function*(v){yield v._initializationPromise;const p=Tf(),m=H(If,v.config.apiKey,v.name);p&&p.setItem(m,v._getPersistence())})).apply(this,arguments)}function Tf(){var v;try{return(null===(v=function bf(){return typeof window<"u"?window:null}())||void 0===v?void 0:v.sessionStorage)||null}catch{return null}}const Df=Z;class er{constructor(){this.browserResolver=Je(class $i{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Xo,this._completeRedirectFn=Ji,this._overrideRedirectResult=io}_openPopup(p,m,C,A){var O=this;return(0,l.Z)(function*(){var G;Ke(null===(G=O.eventManagers[p._key()])||void 0===G?void 0:G.manager,"_initialize() not called before _openPopup()");const ie=yield Dn(p,m,C,Ot(),A);return qe(p,ie,Os())})()}_openRedirect(p,m,C,A){var O=this;return(0,l.Z)(function*(){return yield O._originValidation(p),function md(v){Gn().location.href=v}(yield Dn(p,m,C,Ot(),A)),new Promise(()=>{})})()}_initialize(p){const m=p._key();if(this.eventManagers[m]){const{manager:A,promise:O}=this.eventManagers[m];return A?Promise.resolve(A):(Ke(O,"If manager is not set, promise should be"),O)}const C=this.initAndGetManager(p);return this.eventManagers[m]={promise:C},C.catch(()=>{delete this.eventManagers[m]}),C}initAndGetManager(p){var m=this;return(0,l.Z)(function*(){const C=yield function E(v){return T.apply(this,arguments)}(p),A=new hs(p);return C.register("authEvent",O=>(Z(O?.authEvent,p,"invalid-auth-event"),{status:A.onEvent(O.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[p._key()]={manager:A},m.iframes[p._key()]=C,A})()}_isIframeWebStorageSupported(p,m){this.iframes[p._key()].send(Mo,{type:Mo},A=>{var O;const G=null===(O=A?.[0])||void 0===O?void 0:O[Mo];void 0!==G&&m(!!G),Ae(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Id(v){return oa.apply(this,arguments)}(p)),this.originValidationPromises[m]}get _shouldInitProactively(){return Hn()||se()||Et()}}),this.cordovaResolver=Je(class Fg{constructor(){this._redirectPersistence=Xo,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ji,this._overrideRedirectResult=io}_initialize(p){var m=this;return(0,l.Z)(function*(){const C=p._key();let A=m.eventManagers.get(C);return A||(A=new Yl(p),m.eventManagers.set(C,A),m.attachCallbackListeners(p,A)),A})()}_openPopup(p){Ae(p,"operation-not-supported-in-this-environment")}_openRedirect(p,m,C,A){var O=this;return(0,l.Z)(function*(){!function rI(v){var p,m,C,A,O,G,ie,Le,Ze,ct;const pt=$a();Z("function"==typeof(null===(p=pt?.universalLinks)||void 0===p?void 0:p.subscribe),v,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Z(typeof(null===(m=pt?.BuildInfo)||void 0===m?void 0:m.packageName)<"u",v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Z("function"==typeof(null===(O=null===(A=null===(C=pt?.cordova)||void 0===C?void 0:C.plugins)||void 0===A?void 0:A.browsertab)||void 0===O?void 0:O.openUrl),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Z("function"==typeof(null===(Le=null===(ie=null===(G=pt?.cordova)||void 0===G?void 0:G.plugins)||void 0===ie?void 0:ie.browsertab)||void 0===Le?void 0:Le.isAvailable),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Z("function"==typeof(null===(ct=null===(Ze=pt?.cordova)||void 0===Ze?void 0:Ze.InAppBrowser)||void 0===ct?void 0:ct.open),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const G=yield O._initialize(p);yield G.initialized(),G.resetRedirect(),function Ig(){Mn.clear()}(),yield O._originValidation(p);const ie=function Ql(v,p,m=null){return{type:p,eventId:m,urlResponse:null,sessionId:oy(),postBody:null,tenantId:v.tenantId,error:ve(v,"no-auth-event")}}(p,C,A);yield function _f(v,p){return aa()._set(Pd(v),p)}(p,ie);const Le=yield function cc(v,p,m){return xd.apply(this,arguments)}(p,ie,m),Ze=yield function Og(v){const{cordova:p}=$a();return new Promise(m=>{p.plugins.browsertab.isAvailable(C=>{let A=null;C?p.plugins.browsertab.openUrl(v):A=p.InAppBrowser.open(v,function Rt(v=(0,L.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}()?"_blank":"_system","location=yes"),m(A)})})}(Le);return function Kl(v,p,m){return Md.apply(this,arguments)}(p,G,Ze)})()}_isIframeWebStorageSupported(p,m){throw new Error("Method not implemented.")}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function mf(v){return dc.apply(this,arguments)}(p)),this.originValidationPromises[m]}attachCallbackListeners(p,m){const{universalLinks:C,handleOpenURL:A,BuildInfo:O}=$a(),G=setTimeout((0,l.Z)(function*(){yield kg(p),m.onEvent(wf())}),500),ie=function(){var ct=(0,l.Z)(function*(pt){clearTimeout(G);const Yn=yield kg(p);let gs=null;Yn&&pt?.url&&(gs=function Jl(v,p){var m,C;const A=function Rg(v){const p=Xl(v),m=p.link?decodeURIComponent(p.link):void 0,C=Xl(m).link,A=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return Xl(A).link||A||C||m||v}(p);if(A.includes("/__/auth/callback")){const O=Xl(A),G=O.firebaseError?function ay(v){try{return JSON.parse(v)}catch{return null}}(decodeURIComponent(O.firebaseError)):null,ie=null===(C=null===(m=G?.code)||void 0===m?void 0:m.split("auth/"))||void 0===C?void 0:C[1],Le=ie?ve(ie):null;return Le?{type:v.type,eventId:v.eventId,tenantId:v.tenantId,error:Le,urlResponse:null,sessionId:null,postBody:null}:{type:v.type,eventId:v.eventId,tenantId:v.tenantId,sessionId:v.sessionId,urlResponse:A,postBody:null}}return null}(Yn,pt.url)),m.onEvent(gs||wf())});return function(Yn){return ct.apply(this,arguments)}}();typeof C<"u"&&"function"==typeof C.subscribe&&C.subscribe(null,ie);const Le=A,Ze=`${O.packageName.toLowerCase()}://`;$a().handleOpenURL=function(){var ct=(0,l.Z)(function*(pt){if(pt.toLowerCase().startsWith(Ze)&&ie({url:pt}),"function"==typeof Le)try{Le(pt)}catch(Yn){console.error(Yn)}});return function(pt){return ct.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Xo,this._completeRedirectFn=Ji,this._overrideRedirectResult=io}_initialize(p){var m=this;return(0,l.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,m,C,A){var O=this;return(0,l.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._openPopup(p,m,C,A)})()}_openRedirect(p,m,C,A){var O=this;return(0,l.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._openRedirect(p,m,C,A)})()}_isIframeWebStorageSupported(p,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,m)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return $g()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Df(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,l.Z)(function*(){if(p.underlyingResolver)return;const m=yield function Gg(){return fc.apply(this,arguments)}();p.underlyingResolver=m?p.cordovaResolver:p.browserResolver})()}}function Sf(v){return v.unwrap()}function Nd(v){return Af(v)}function Af(v){const{_tokenResponse:p}=v instanceof L.ZR?v.customData:v;if(!p)return null;if(!(v instanceof L.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return Kn.credentialFromResult(v);const m=p.providerId;if(!m||"password"===m)return null;let C;switch(m){case"google.com":C=td;break;case"facebook.com":C=wr;break;case"github.com":C=Il;break;case"twitter.com":C=nd;break;default:const{oauthIdToken:A,oauthAccessToken:O,oauthTokenSecret:G,pendingToken:ie,nonce:Le}=p;return O||G||A||ie?ie?m.startsWith("saml.")?di._create(m,ie):jr._fromParams({providerId:m,signInMethod:m,pendingToken:ie,idToken:A,accessToken:O}):new $r(m).credential({idToken:A,accessToken:O,rawNonce:Le}):null}return v instanceof L.ZR?C.credentialFromError(v):C.credentialFromResult(v)}function Rr(v,p){return p.catch(m=>{throw m instanceof L.ZR&&function Ga(v,p){var m;const C=null===(m=p.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===p?.code)p.resolver=new gw(v,function ju(v,p){var m;const C=(0,L.m9)(v),A=p;return Z(p.customData.operationType,C,"argument-error"),Z(null===(m=A.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,C,"argument-error"),Ms._fromError(C,A)}(v,p));else if(C){const A=Af(p),O=p;A&&(O.credential=A,O.tenantId=C.tenantId||void 0,O.email=C.email||void 0,O.phoneNumber=C.phoneNumber||void 0)}}(v,m),m}).then(m=>{const A=m.user;return{operationType:m.operationType,credential:Nd(m),additionalUserInfo:zu(m),user:xi.getOrCreate(A)}})}function kd(v,p){return Rd.apply(this,arguments)}function Rd(){return(Rd=(0,l.Z)(function*(v,p){const m=yield p;return{verificationId:m.verificationId,confirm:C=>Rr(v,m.confirm(C))}})).apply(this,arguments)}class gw{constructor(p,m){this.resolver=m,this.auth=function dy(v){return v.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return Rr(Sf(this.auth),this.resolver.resolveSignIn(p))}}class xi{constructor(p){this._delegate=p,this.multiFactor=function Fl(v){const p=(0,L.m9)(v);return Qo.has(p)||Qo.set(p,Yo._fromUser(p)),Qo.get(p)}(p)}static getOrCreate(p){return xi.USER_MAP.has(p)||xi.USER_MAP.set(p,new xi(p)),xi.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var m=this;return(0,l.Z)(function*(){return Rr(m.auth,rd(m._delegate,p))})()}linkWithPhoneNumber(p,m){var C=this;return(0,l.Z)(function*(){return kd(C.auth,function ty(v,p,m){return Do.apply(this,arguments)}(C._delegate,p,m))})()}linkWithPopup(p){var m=this;return(0,l.Z)(function*(){return Rr(m.auth,function cf(v,p,m){return ia.apply(this,arguments)}(m._delegate,p,er))})()}linkWithRedirect(p){var m=this;return(0,l.Z)(function*(){return yield lo(rn(m.auth)),function rc(v,p,m){return function Tg(v,p,m){return Ci.apply(this,arguments)}(v,p,m)}(m._delegate,p,er)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var m=this;return(0,l.Z)(function*(){return Rr(m.auth,ni(m._delegate,p))})()}reauthenticateWithPhoneNumber(p,m){return kd(this.auth,function Cd(v,p,m){return zl.apply(this,arguments)}(this._delegate,p,m))}reauthenticateWithPopup(p){return Rr(this.auth,function na(v,p,m){return mt.apply(this,arguments)}(this._delegate,p,er))}reauthenticateWithRedirect(p){var m=this;return(0,l.Z)(function*(){return yield lo(rn(m.auth)),function ds(v,p,m){return function bd(v,p,m){return fi.apply(this,arguments)}(v,p,m)}(m._delegate,p,er)})()}sendEmailVerification(p){return function Xh(v,p){return Vu.apply(this,arguments)}(this._delegate,p)}unlink(p){var m=this;return(0,l.Z)(function*(){return yield function Zh(v,p){return os.apply(this,arguments)}(m._delegate,p),m})()}updateEmail(p){return function cg(v,p){return Ol((0,L.m9)(v),p,null)}(this._delegate,p)}updatePassword(p){return function Xs(v,p){return Ol((0,L.m9)(v),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function qr(v,p){return wt.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function ef(v,p){return Pl.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,m){return function cd(v,p,m){return Zo.apply(this,arguments)}(this._delegate,p,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}xi.USER_MAP=new WeakMap;class Mf{constructor(){this.providerId="phone",this._delegate=new Kn(Sf(ee.Z.auth()))}static credential(p,m){return Kn.credential(p,m)}verifyPhoneNumber(p,m){return this._delegate.verifyPhoneNumber(p,m)}unwrap(){return this._delegate}}Mf.PHONE_SIGN_IN_METHOD=Kn.PHONE_SIGN_IN_METHOD,Mf.PROVIDER_ID=Kn.PROVIDER_ID},9681:(ut,De,R)=>{R.d(De,{Jn:()=>Un,KN:()=>Jn,Xd:()=>lt,qX:()=>Nt});var l=R(5861),ee=R(4859),L=R(1877),oe=R(2090),le=R(8766);class fe{constructor($){this.container=$}getPlatformInfoString(){return this.container.getProviders().map(Ee=>{if(function de(Ce){return"VERSION"===Ce.getComponent()?.type}(Ee)){const We=Ee.getImmediate();return`${We.library}/${We.version}`}return null}).filter(Ee=>Ee).join(" ")}}const ye="@firebase/app",j=new L.Yd("@firebase/app"),re={[ye]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},we=new Map,Te=new Map;function Pe(Ce,$){try{Ce.container.addComponent($)}catch(Ee){j.debug(`Component ${$.name} failed to register with FirebaseApp ${Ce.name}`,Ee)}}function lt(Ce){const $=Ce.name;if(Te.has($))return j.debug(`There were multiple attempts to register component ${$}.`),!1;Te.set($,Ce);for(const Ee of we.values())Pe(Ee,Ce);return!0}function Nt(Ce,$){const Ee=Ce.container.getProvider("heartbeat").getImmediate({optional:!0});return Ee&&Ee.triggerHeartbeat(),Ce.container.getProvider($)}const qt=new oe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."}),Un="10.5.0";function Jn(Ce,$,Ee){var We;let Je=null!==(We=re[Ce])&&void 0!==We?We:Ce;Ee&&(Je+=`-${Ee}`);const It=Je.match(/\s|\//),nn=$.match(/\s|\//);if(It||nn){const H=[`Unable to register library "${Je}" with version "${$}":`];return It&&H.push(`library name "${Je}" contains illegal characters (whitespace or "/")`),It&&nn&&H.push("and"),nn&&H.push(`version name "${$}" contains illegal characters (whitespace or "/")`),void j.warn(H.join(" "))}lt(new ee.wA(`${Je}-version`,()=>({library:Je,version:$}),"VERSION"))}const Cn="firebase-heartbeat-store";let zn=null;function fn(){return zn||(zn=(0,le.X3)("firebase-heartbeat-database",1,{upgrade:(Ce,$)=>{0===$&&Ce.createObjectStore(Cn)}}).catch(Ce=>{throw qt.create("idb-open",{originalErrorMessage:Ce.message})})),zn}function vt(){return(vt=(0,l.Z)(function*(Ce){try{return yield(yield fn()).transaction(Cn).objectStore(Cn).get(Ni(Ce))}catch($){if($ instanceof oe.ZR)j.warn($.message);else{const Ee=qt.create("idb-get",{originalErrorMessage:$?.message});j.warn(Ee.message)}}})).apply(this,arguments)}function En(Ce,$){return ar.apply(this,arguments)}function ar(){return(ar=(0,l.Z)(function*(Ce,$){try{const We=(yield fn()).transaction(Cn,"readwrite");yield We.objectStore(Cn).put($,Ni(Ce)),yield We.done}catch(Ee){if(Ee instanceof oe.ZR)j.warn(Ee.message);else{const We=qt.create("idb-set",{originalErrorMessage:Ee?.message});j.warn(We.message)}}})).apply(this,arguments)}function Ni(Ce){return`${Ce.name}!${Ce.options.appId}`}class is{constructor($){this.container=$,this._heartbeatsCache=null;const Ee=this.container.getProvider("app").getImmediate();this._storage=new ln(Ee),this._heartbeatsCachePromise=this._storage.read().then(We=>(this._heartbeatsCache=We,We))}triggerHeartbeat(){var $=this;return(0,l.Z)(function*(){const We=$.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Je=an();if(null===$._heartbeatsCache&&($._heartbeatsCache=yield $._heartbeatsCachePromise),$._heartbeatsCache.lastSentHeartbeatDate!==Je&&!$._heartbeatsCache.heartbeats.some(It=>It.date===Je))return $._heartbeatsCache.heartbeats.push({date:Je,agent:We}),$._heartbeatsCache.heartbeats=$._heartbeatsCache.heartbeats.filter(It=>{const nn=new Date(It.date).valueOf();return Date.now()-nn<=2592e6}),$._storage.overwrite($._heartbeatsCache)})()}getHeartbeatsHeader(){var $=this;return(0,l.Z)(function*(){if(null===$._heartbeatsCache&&(yield $._heartbeatsCachePromise),null===$._heartbeatsCache||0===$._heartbeatsCache.heartbeats.length)return"";const Ee=an(),{heartbeatsToSend:We,unsentEntries:Je}=function Gs(Ce,$=1024){const Ee=[];let We=Ce.slice();for(const Je of Ce){const It=Ee.find(nn=>nn.agent===Je.agent);if(It){if(It.dates.push(Je.date),ei(Ee)>$){It.dates.pop();break}}else if(Ee.push({agent:Je.agent,dates:[Je.date]}),ei(Ee)>$){Ee.pop();break}We=We.slice(1)}return{heartbeatsToSend:Ee,unsentEntries:We}}($._heartbeatsCache.heartbeats),It=(0,oe.L)(JSON.stringify({version:2,heartbeats:We}));return $._heartbeatsCache.lastSentHeartbeatDate=Ee,Je.length>0?($._heartbeatsCache.heartbeats=Je,yield $._storage.overwrite($._heartbeatsCache)):($._heartbeatsCache.heartbeats=[],$._storage.overwrite($._heartbeatsCache)),It})()}}function an(){return(new Date).toISOString().substring(0,10)}class ln{constructor($){this.app=$,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,l.Z)(function*(){return!!(0,oe.hl)()&&(0,oe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var $=this;return(0,l.Z)(function*(){return(yield $._canUseIndexedDBPromise)&&(yield function ft(Ce){return vt.apply(this,arguments)}($.app))||{heartbeats:[]}})()}overwrite($){var Ee=this;return(0,l.Z)(function*(){var We;if(yield Ee._canUseIndexedDBPromise){const It=yield Ee.read();return En(Ee.app,{lastSentHeartbeatDate:null!==(We=$.lastSentHeartbeatDate)&&void 0!==We?We:It.lastSentHeartbeatDate,heartbeats:$.heartbeats})}})()}add($){var Ee=this;return(0,l.Z)(function*(){var We;if(yield Ee._canUseIndexedDBPromise){const It=yield Ee.read();return En(Ee.app,{lastSentHeartbeatDate:null!==(We=$.lastSentHeartbeatDate)&&void 0!==We?We:It.lastSentHeartbeatDate,heartbeats:[...It.heartbeats,...$.heartbeats]})}})()}}function ei(Ce){return(0,oe.L)(JSON.stringify({version:2,heartbeats:Ce})).length}!function ki(Ce){lt(new ee.wA("platform-logger",$=>new fe($),"PRIVATE")),lt(new ee.wA("heartbeat",$=>new is($),"PRIVATE")),Jn(ye,"0.9.20",Ce),Jn(ye,"0.9.20","esm2017"),Jn("fire-js","")}("")},4859:(ut,De,R)=>{R.d(De,{H0:()=>ye,wA:()=>L,zt:()=>le});var l=R(5861),ee=R(2090);class L{constructor(j,W,Y){this.name=j,this.instanceFactory=W,this.type=Y,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(j){return this.instantiationMode=j,this}setMultipleInstances(j){return this.multipleInstances=j,this}setServiceProps(j){return this.serviceProps=j,this}setInstanceCreatedCallback(j){return this.onInstanceCreated=j,this}}const oe="[DEFAULT]";class le{constructor(j,W){this.name=j,this.container=W,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(j){const W=this.normalizeInstanceIdentifier(j);if(!this.instancesDeferred.has(W)){const Y=new ee.BH;if(this.instancesDeferred.set(W,Y),this.isInitialized(W)||this.shouldAutoInitialize())try{const Ge=this.getOrInitializeService({instanceIdentifier:W});Ge&&Y.resolve(Ge)}catch{}}return this.instancesDeferred.get(W).promise}getImmediate(j){var W;const Y=this.normalizeInstanceIdentifier(j?.identifier),Ge=null!==(W=j?.optional)&&void 0!==W&&W;if(!this.isInitialized(Y)&&!this.shouldAutoInitialize()){if(Ge)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Y})}catch(Oe){if(Ge)return null;throw Oe}}getComponent(){return this.component}setComponent(j){if(j.name!==this.name)throw Error(`Mismatching Component ${j.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=j,this.shouldAutoInitialize()){if(function de(_e){return"EAGER"===_e.instantiationMode}(j))try{this.getOrInitializeService({instanceIdentifier:oe})}catch{}for(const[W,Y]of this.instancesDeferred.entries()){const Ge=this.normalizeInstanceIdentifier(W);try{const Oe=this.getOrInitializeService({instanceIdentifier:Ge});Y.resolve(Oe)}catch{}}}}clearInstance(j=oe){this.instancesDeferred.delete(j),this.instancesOptions.delete(j),this.instances.delete(j)}delete(){var j=this;return(0,l.Z)(function*(){const W=Array.from(j.instances.values());yield Promise.all([...W.filter(Y=>"INTERNAL"in Y).map(Y=>Y.INTERNAL.delete()),...W.filter(Y=>"_delete"in Y).map(Y=>Y._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(j=oe){return this.instances.has(j)}getOptions(j=oe){return this.instancesOptions.get(j)||{}}initialize(j={}){const{options:W={}}=j,Y=this.normalizeInstanceIdentifier(j.instanceIdentifier);if(this.isInitialized(Y))throw Error(`${this.name}(${Y}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ge=this.getOrInitializeService({instanceIdentifier:Y,options:W});for(const[Oe,xe]of this.instancesDeferred.entries())Y===this.normalizeInstanceIdentifier(Oe)&&xe.resolve(Ge);return Ge}onInit(j,W){var Y;const Ge=this.normalizeInstanceIdentifier(W),Oe=null!==(Y=this.onInitCallbacks.get(Ge))&&void 0!==Y?Y:new Set;Oe.add(j),this.onInitCallbacks.set(Ge,Oe);const xe=this.instances.get(Ge);return xe&&j(xe,Ge),()=>{Oe.delete(j)}}invokeOnInitCallbacks(j,W){const Y=this.onInitCallbacks.get(W);if(Y)for(const Ge of Y)try{Ge(j,W)}catch{}}getOrInitializeService({instanceIdentifier:j,options:W={}}){let Y=this.instances.get(j);if(!Y&&this.component&&(Y=this.component.instanceFactory(this.container,{instanceIdentifier:(_e=j,_e===oe?void 0:_e),options:W}),this.instances.set(j,Y),this.instancesOptions.set(j,W),this.invokeOnInitCallbacks(Y,j),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,j,Y)}catch{}var _e;return Y||null}normalizeInstanceIdentifier(j=oe){return this.component?this.component.multipleInstances?j:oe:j}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ye{constructor(j){this.name=j,this.providers=new Map}addComponent(j){const W=this.getProvider(j.name);if(W.isComponentSet())throw new Error(`Component ${j.name} has already been registered with ${this.name}`);W.setComponent(j)}addOrOverwriteComponent(j){this.getProvider(j.name).isComponentSet()&&this.providers.delete(j.name),this.addComponent(j)}getProvider(j){if(this.providers.has(j))return this.providers.get(j);const W=new le(j,this);return this.providers.set(j,W),W}getProviders(){return Array.from(this.providers.values())}}},1877:(ut,De,R)=>{R.d(De,{Am:()=>_e,Ub:()=>ye,Yd:()=>de,in:()=>ee});const l=[];var ee=(()=>{return(j=ee||(ee={}))[j.DEBUG=0]="DEBUG",j[j.VERBOSE=1]="VERBOSE",j[j.INFO=2]="INFO",j[j.WARN=3]="WARN",j[j.ERROR=4]="ERROR",j[j.SILENT=5]="SILENT",ee;var j})();const L={debug:ee.DEBUG,verbose:ee.VERBOSE,info:ee.INFO,warn:ee.WARN,error:ee.ERROR,silent:ee.SILENT},oe=ee.INFO,le={[ee.DEBUG]:"log",[ee.VERBOSE]:"log",[ee.INFO]:"info",[ee.WARN]:"warn",[ee.ERROR]:"error"},fe=(j,W,...Y)=>{if(W<j.logLevel)return;const Ge=(new Date).toISOString(),Oe=le[W];if(!Oe)throw new Error(`Attempted to log a message with an invalid logType (value: ${W})`);console[Oe](`[${Ge}]  ${j.name}:`,...Y)};class de{constructor(W){this.name=W,this._logLevel=oe,this._logHandler=fe,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel(W){if(!(W in ee))throw new TypeError(`Invalid value "${W}" assigned to \`logLevel\``);this._logLevel=W}setLogLevel(W){this._logLevel="string"==typeof W?L[W]:W}get logHandler(){return this._logHandler}set logHandler(W){if("function"!=typeof W)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=W}get userLogHandler(){return this._userLogHandler}set userLogHandler(W){this._userLogHandler=W}debug(...W){this._userLogHandler&&this._userLogHandler(this,ee.DEBUG,...W),this._logHandler(this,ee.DEBUG,...W)}log(...W){this._userLogHandler&&this._userLogHandler(this,ee.VERBOSE,...W),this._logHandler(this,ee.VERBOSE,...W)}info(...W){this._userLogHandler&&this._userLogHandler(this,ee.INFO,...W),this._logHandler(this,ee.INFO,...W)}warn(...W){this._userLogHandler&&this._userLogHandler(this,ee.WARN,...W),this._logHandler(this,ee.WARN,...W)}error(...W){this._userLogHandler&&this._userLogHandler(this,ee.ERROR,...W),this._logHandler(this,ee.ERROR,...W)}}function ye(j){l.forEach(W=>{W.setLogLevel(j)})}function _e(j,W){for(const Y of l){let Ge=null;W&&W.level&&(Ge=L[W.level]),Y.userLogHandler=null===j?null:(Oe,xe,...at)=>{const Ie=at.map(me=>{if(null==me)return null;if("string"==typeof me)return me;if("number"==typeof me||"boolean"==typeof me)return me.toString();if(me instanceof Error)return me.message;try{return JSON.stringify(me)}catch{return null}}).filter(me=>me).join(" ");xe>=(Ge??Oe.logLevel)&&j({level:ee[xe].toLowerCase(),message:Ie,args:at,type:Oe.name})}}}},8766:(ut,De,R)=>{R.d(De,{X3:()=>Tt});var l=R(5861);let L,oe;const de=new WeakMap,ye=new WeakMap,_e=new WeakMap,j=new WeakMap,W=new WeakMap;let Oe={get(pe,Z,$e){if(pe instanceof IDBTransaction){if("done"===Z)return ye.get(pe);if("objectStoreNames"===Z)return pe.objectStoreNames||_e.get(pe);if("store"===Z)return $e.objectStoreNames[1]?void 0:$e.objectStore($e.objectStoreNames[0])}return me(pe[Z])},set:(pe,Z,$e)=>(pe[Z]=$e,!0),has:(pe,Z)=>pe instanceof IDBTransaction&&("done"===Z||"store"===Z)||Z in pe};function Ie(pe){return"function"==typeof pe?function at(pe){return pe!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function fe(){return oe||(oe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(pe)?function(...Z){return pe.apply(gt(this),Z),me(de.get(this))}:function(...Z){return me(pe.apply(gt(this),Z))}:function(Z,...$e){const Ke=pe.call(gt(this),Z,...$e);return _e.set(Ke,Z.sort?Z.sort():[Z]),me(Ke)}}(pe):(pe instanceof IDBTransaction&&function Ge(pe){if(ye.has(pe))return;const Z=new Promise(($e,Ke)=>{const Ot=()=>{pe.removeEventListener("complete",it),pe.removeEventListener("error",xn),pe.removeEventListener("abort",xn)},it=()=>{$e(),Ot()},xn=()=>{Ke(pe.error||new DOMException("AbortError","AbortError")),Ot()};pe.addEventListener("complete",it),pe.addEventListener("error",xn),pe.addEventListener("abort",xn)});ye.set(pe,Z)}(pe),((pe,Z)=>Z.some($e=>pe instanceof $e))(pe,function le(){return L||(L=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(pe,Oe):pe)}function me(pe){if(pe instanceof IDBRequest)return function Y(pe){const Z=new Promise(($e,Ke)=>{const Ot=()=>{pe.removeEventListener("success",it),pe.removeEventListener("error",xn)},it=()=>{$e(me(pe.result)),Ot()},xn=()=>{Ke(pe.error),Ot()};pe.addEventListener("success",it),pe.addEventListener("error",xn)});return Z.then($e=>{$e instanceof IDBCursor&&de.set($e,pe)}).catch(()=>{}),W.set(Z,pe),Z}(pe);if(j.has(pe))return j.get(pe);const Z=Ie(pe);return Z!==pe&&(j.set(pe,Z),W.set(Z,pe)),Z}const gt=pe=>W.get(pe);function Tt(pe,Z,{blocked:$e,upgrade:Ke,blocking:Ot,terminated:it}={}){const xn=indexedDB.open(pe,Z),rr=me(xn);return Ke&&xn.addEventListener("upgradeneeded",Nn=>{Ke(me(xn.result),Nn.oldVersion,Nn.newVersion,me(xn.transaction),Nn)}),$e&&xn.addEventListener("blocked",Nn=>$e(Nn.oldVersion,Nn.newVersion,Nn)),rr.then(Nn=>{it&&Nn.addEventListener("close",()=>it()),Ot&&Nn.addEventListener("versionchange",Di=>Ot(Di.oldVersion,Di.newVersion,Di))}).catch(()=>{}),rr}const Ae=["get","getKey","getAll","getAllKeys","count"],ve=["put","add","delete","clear"],je=new Map;function ze(pe,Z){if(!(pe instanceof IDBDatabase)||Z in pe||"string"!=typeof Z)return;if(je.get(Z))return je.get(Z);const $e=Z.replace(/FromIndex$/,""),Ke=Z!==$e,Ot=ve.includes($e);if(!($e in(Ke?IDBIndex:IDBObjectStore).prototype)||!Ot&&!Ae.includes($e))return;const it=function(){var xn=(0,l.Z)(function*(rr,...Nn){const Di=this.transaction(rr,Ot?"readwrite":"readonly");let ne=Di.store;return Ke&&(ne=ne.index(Nn.shift())),(yield Promise.all([ne[$e](...Nn),Ot&&Di.done]))[0]});return function(Nn){return xn.apply(this,arguments)}}();return je.set(Z,it),it}!function xe(pe){Oe=pe(Oe)}(pe=>({...pe,get:(Z,$e,Ke)=>ze(Z,$e)||pe.get(Z,$e,Ke),has:(Z,$e)=>!!ze(Z,$e)||pe.has(Z,$e)}))},5861:(ut,De,R)=>{function l(L,oe,le,fe,de,ye,_e){try{var j=L[ye](_e),W=j.value}catch(Y){return void le(Y)}j.done?oe(W):Promise.resolve(W).then(fe,de)}function ee(L){return function(){var oe=this,le=arguments;return new Promise(function(fe,de){var ye=L.apply(oe,le);function _e(W){l(ye,fe,de,_e,j,"next",W)}function j(W){l(ye,fe,de,_e,j,"throw",W)}_e(void 0)})}}R.d(De,{Z:()=>ee})},7582:(ut,De,R)=>{function oe(ne,re){var we={};for(var Te in ne)Object.prototype.hasOwnProperty.call(ne,Te)&&re.indexOf(Te)<0&&(we[Te]=ne[Te]);if(null!=ne&&"function"==typeof Object.getOwnPropertySymbols){var Pe=0;for(Te=Object.getOwnPropertySymbols(ne);Pe<Te.length;Pe++)re.indexOf(Te[Pe])<0&&Object.prototype.propertyIsEnumerable.call(ne,Te[Pe])&&(we[Te[Pe]]=ne[Te[Pe]])}return we}function Y(ne,re,we,Te){return new(we||(we=Promise))(function(be,lt){function Nt(tn){try{St(Te.next(tn))}catch(qt){lt(qt)}}function pn(tn){try{St(Te.throw(tn))}catch(qt){lt(qt)}}function St(tn){tn.done?be(tn.value):function Pe(be){return be instanceof we?be:new we(function(lt){lt(be)})}(tn.value).then(Nt,pn)}St((Te=Te.apply(ne,re||[])).next())})}function Ve(ne){return this instanceof Ve?(this.v=ne,this):new Ve(ne)}function Ae(ne,re,we){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Pe,Te=we.apply(ne,re||[]),be=[];return Pe={},lt("next"),lt("throw"),lt("return"),Pe[Symbol.asyncIterator]=function(){return this},Pe;function lt(In){Te[In]&&(Pe[In]=function(Un){return new Promise(function(Zn,ui){be.push([In,Un,Zn,ui])>1||Nt(In,Un)})})}function Nt(In,Un){try{!function pn(In){In.value instanceof Ve?Promise.resolve(In.value.v).then(St,tn):qt(be[0][2],In)}(Te[In](Un))}catch(Zn){qt(be[0][3],Zn)}}function St(In){Nt("next",In)}function tn(In){Nt("throw",In)}function qt(In,Un){In(Un),be.shift(),be.length&&Nt(be[0][0],be[0][1])}}function je(ne){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var we,re=ne[Symbol.asyncIterator];return re?re.call(ne):(ne=function at(ne){var re="function"==typeof Symbol&&Symbol.iterator,we=re&&ne[re],Te=0;if(we)return we.call(ne);if(ne&&"number"==typeof ne.length)return{next:function(){return ne&&Te>=ne.length&&(ne=void 0),{value:ne&&ne[Te++],done:!ne}}};throw new TypeError(re?"Object is not iterable.":"Symbol.iterator is not defined.")}(ne),we={},Te("next"),Te("throw"),Te("return"),we[Symbol.asyncIterator]=function(){return this},we);function Te(be){we[be]=ne[be]&&function(lt){return new Promise(function(Nt,pn){!function Pe(be,lt,Nt,pn){Promise.resolve(pn).then(function(St){be({value:St,done:Nt})},lt)}(Nt,pn,(lt=ne[be](lt)).done,lt.value)})}}}R.d(De,{FC:()=>Ae,KL:()=>je,_T:()=>oe,mG:()=>Y,qq:()=>Ve}),"function"==typeof SuppressedError&&SuppressedError}},ut=>{ut(ut.s=6786)}]);